== Resources
=== AccessCommonController — Доступ Общий (права Доступов К Сервисам)
:hardbreaks:
Access Common Controller

==== Получить массив объектов-прав на сервис по фильтру
----
GET /access/getAccessServiceRights
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД права|false|integer (int64)|
|QueryParameter|sService|строка-сервис (маска)|false|string|
|QueryParameter|saMethod|строка-название метода вызова|false|string|
|QueryParameter|sHandlerBean|строка-название бина-обработчика|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получить массив объеков ролей с правами в виде дерева
----
GET /access/getAccessServiceRoleRights
----

===== Description
:hardbreaks:
Если задан nID_AccessServiceRole то возвращает права для этой роли, если нет - то для всех ролей.

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_AccessServiceRole|номер-ИД роли|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Логин пользователя
----
POST /access/login
----

===== Description
:hardbreaks:
##### Response:

```json
  {"session":"true"}

```
Пример:
https://alpha.test.region.igov.org.ua/wf/access/login?sLogin=kermit&sPassword=kermit


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|QueryParameter|sPassword|Строка пароль пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Возращает признак успеха/неудачи входа:
 - **true** - Пользователь авторизирован; 
- **false** - Имя пользователя или пароль некорректны. 
|<<LoginResponseI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-связку роли на право доступа к сервису
----
POST /access/removeAccessServiceRoleRight
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки роли и права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-связку роли на право доступа к сервису
----
GET /access/removeAccessServiceRoleRight
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки роли и права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-связку включение одного права, другим правом
----
POST /access/setAccessServiceRoleRightInclude
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект-связку, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и включенного права|false|integer (int64)|
|QueryParameter|nID_AccessServiceRole|Строка логин пользователя|true|integer (int64)|
|QueryParameter|nID_AccessServiceRole_Include|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект-связку включение одного права, другим правом|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-связку включение одного права, другим правом
----
GET /access/setAccessServiceRoleRightInclude
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект-связку, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и включенного права|false|integer (int64)|
|QueryParameter|nID_AccessServiceRole|Строка логин пользователя|true|integer (int64)|
|QueryParameter|nID_AccessServiceRole_Include|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект-связку включение одного права, другим правом|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-право на сервис
----
POST /access/removeAccessServiceRight
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-право на сервис
----
GET /access/removeAccessServiceRight
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-права на сервис
----
POST /access/setAccessServiceRight
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект-право, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД права|true|integer (int64)|
|QueryParameter|sName|строка-название|true|string|
|QueryParameter|nOrder|номер порядка (проверки)|false|integer (int32)|
|QueryParameter|sService|строка-сервис|false|string|
|QueryParameter|saMethod|строка-название метода вызова|false|string|
|QueryParameter|sHandlerBean|строка-название бина-обработчика|false|string|
|QueryParameter|bDeny|булевый, запретить доступ к сервису?|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий объект-права на сервис|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-права на сервис
----
GET /access/setAccessServiceRight
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект-право, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД права|true|integer (int64)|
|QueryParameter|sName|строка-название|true|string|
|QueryParameter|nOrder|номер порядка (проверки)|false|integer (int32)|
|QueryParameter|sService|строка-сервис|false|string|
|QueryParameter|saMethod|строка-название метода вызова|false|string|
|QueryParameter|sHandlerBean|строка-название бина-обработчика|false|string|
|QueryParameter|bDeny|булевый, запретить доступ к сервису?|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий объект-права на сервис|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Авторизирует пользователя и возвращает соответсвующую ему структуру объектов
----
POST /access/loginSubject
----

===== Description
:hardbreaks:
##### При вводе корректных данных метод возвращает код 200 и, при этом, открывается сессия и возвращается структура объектов, которая соответсвует этому пользователю.
 Если же пользователя с таким логином и паролем не существует, - то вернется ошибка с кодом LI_0001 и сообщением Login or password invalid.


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Строка логин пользователя|true|string|kermit
|BodyParameter|sPassword|Строка пароль пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сервис верификации контакта - электронного адреса
----
GET /access/verifyContactEmail
----

===== Description
:hardbreaks:
##### Примеры:
https://alpha.test.region.igov.org.ua/wf/service/access/verifyContactEmail?sQuestion=\test@igov.org.ua
Response

```json
{
    "bVerified":true,
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sQuestion|Строка запрос (электронный адрес)|true|string|
|QueryParameter|sAnswer|Строка ответ (код )|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получить массив ролей логина
----
GET /access/getAccessServiceLoginRoles
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление роли с логина
----
POST /access/removeAccessServiceLoginRole
----

===== Description
:hardbreaks:
Удаление происходит либо по nID связки, либо по парезначений sLogin и nID_AccessServiceRole.

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки|false|integer (int64)|
|QueryParameter|sLogin|строка-логин|false|string|
|QueryParameter|nID_AccessServiceRole|номер-ИД роли|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление роли с логина
----
GET /access/removeAccessServiceLoginRole
----

===== Description
:hardbreaks:
Удаление происходит либо по nID связки, либо по парезначений sLogin и nID_AccessServiceRole.

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки|false|integer (int64)|
|QueryParameter|sLogin|строка-логин|false|string|
|QueryParameter|nID_AccessServiceRole|номер-ИД роли|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setsLoginPrincipal
----
GET /access/setsLoginPrincipal
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLoginPrincipal|Строка пароль пользователя - референта|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-роли
----
POST /access/removeAccessServiceRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-роли
----
GET /access/removeAccessServiceRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Установить роль логина
----
POST /access/setAccessServiceLoginRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД|false|integer (int64)|
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|QueryParameter|nID_AccessServiceRole|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект роли логина|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Установить роль логина
----
GET /access/setAccessServiceLoginRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД|false|integer (int64)|
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|QueryParameter|nID_AccessServiceRole|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект роли логина|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Проверка разрешения на доступ к сервису для пользователя
----
GET /access/hasAccessServiceLoginRight
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/access/hasAccessServiceLoginRight?sLogin=SomeLogin&sService=access/hasAccessServiceLoginRight&sMethod=GET

```
Ответ false

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|QueryParameter|sService|Строка название сервиса|true|string|
|QueryParameter|sData|Строка параметр со строкой параметров к сервису (формат передачи пока не определен)|false|string|
|QueryParameter|sMethod|Метод доступа к свервису (GET или POST или другиие)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|true - если у пользоватля с логином sLogin есть доступ к рест-сервиcу sService при вызове его с аргументами sData, или false - если доступа нет.|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|500|Ошибка бизнес-процесса|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Логин пользователя
----
POST /access/login-v2
----

===== Description
:hardbreaks:
##### Response:

```json
  {"session":"true"}

```
Пример:
https://alpha.test.region.igov.org.ua/wf/access/login?sLogin=kermit&sPassword=kermit


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Строка логин пользователя|true|string|
|QueryParameter|sPassword|Строка пароль пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Возращает признак успеха/неудачи входа:
 - **true** - Пользователь авторизирован; 
- **false** - Имя пользователя или пароль некорректны. 
|<<LoginResponseI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-связку включение одного права, другим правом
----
POST /access/removeAccessServiceRoleRightInclude
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить объект-связку включение одного права, другим правом
----
GET /access/removeAccessServiceRoleRightInclude
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и права|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-роли
----
POST /access/setAccessServiceRole
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект роли, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД роли|false|integer (int64)|
|QueryParameter|sName|строка-название|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект роли|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-роли
----
GET /access/setAccessServiceRole
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект роли, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД роли|false|integer (int64)|
|QueryParameter|sName|строка-название|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект роли|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

====  Аутентификация пользователя. Логаут пользователя (наличие cookie JSESSIONID)
----
POST /access/logout
----

===== Description
:hardbreaks:
##### 
Response:

```json
  {"session":"97AE7CA414A5DA85749FE379CC843796"}

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Возращает JSESSIONID|<<LogoutResponseI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

====  Аутентификация пользователя. Логаут пользователя (наличие cookie JSESSIONID)
----
DELETE /access/logout
----

===== Description
:hardbreaks:
##### 
Response:

```json
  {"session":"97AE7CA414A5DA85749FE379CC843796"}

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Возращает JSESSIONID|<<LogoutResponseI>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-связку роли на право доступа к сервису
----
POST /access/setAccessServiceRoleRight
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект связку роли на право, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и роли|false|integer (int64)|
|QueryParameter|nID_AccessServiceRole|строка логин пользователя|true|integer (int64)|
|QueryParameter|nID_AccessServiceRight|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект-связку роли на право доступа к сервису|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить/обновить объект-связку роли на право доступа к сервису
----
GET /access/setAccessServiceRoleRight
----

===== Description
:hardbreaks:
Если задан nID, то обновляет обьект связку роли на право, если нет - создает новый

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД связки права и роли|false|integer (int64)|
|QueryParameter|nID_AccessServiceRole|строка логин пользователя|true|integer (int64)|
|QueryParameter|nID_AccessServiceRight|номер-ИД роли|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Результирующий обьект-связку роли на право доступа к сервису|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ActionEventController -- События По Действиям И Статистика
:hardbreaks:
Action Event Common Controller

==== getActionProcessCount
----
GET /action/event/getActionProcessCount
----

===== Description
:hardbreaks:
getActionProcessCount

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|sID_BP|false|string|
|QueryParameter|nID_Service|nID_Service|false|integer (int32)|
|QueryParameter|nYear |nYear |false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setActionProcessCount
----
GET /action/event/setActionProcessCount
----

===== Description
:hardbreaks:
getActionProcessCount

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|sID_BP|false|string|
|QueryParameter|nID_Service|nID_Service|false|integer (int32)|
|QueryParameter|nYear |nYear |false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ActionExecuteController
:hardbreaks:
Action Execute Controller

====  получить массив всех акций
----
GET /action/execute/getActionExecute
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nRowsMax|число строк максимальное (максимально - не более 1000, по умолчанию 10)|false|integer (int32)|
|QueryParameter|sMethodMask|строка-маска метода для выборки|false|string|
|QueryParameter|bOldOnly|булевый флаг, если true=только из олд-таблицы, иначе только из основной (по умолчанию false)|false|boolean|
|QueryParameter|asID_Status|массив JSON статусов для выборки|false|string|
|QueryParameter|nTryMax|число-лимит. выбрать только те, у которых число попыток не превышает указанный лимит (иначе с любым числом попыток)|false|integer (int32)|
|QueryParameter|nID|номер-ИД записи|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== переместить записи из основной таблицы в олд или обратно
----
POST /action/execute/testMail
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nRowsMax|число строк максимальное (максимально - не более 1000, по умолчанию 10)|false|integer (int32)|
|QueryParameter|sMethodMask|строка-маска метода для выборки|false|string|
|QueryParameter|bOldOnly|булевый, true=только из олд-таблицы, иначе только из основной (по умолчанию false)|false|boolean|
|QueryParameter|asID_Status|массив JSON статусов для выборки|false|string|
|QueryParameter|nTryMax|число-лимит. выбрать только те, у которых число попыток не превышает указанный лимит (иначе с любым числом попыток)|false|integer (int32)|
|QueryParameter|nID|номер-ИД записи|false|integer (int64)|
|QueryParameter|bBack|булевый, если указан true, то переместить из олд-а в основную (по умолчанию false)|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== переместить записи из основной таблицы в олд или обратно
----
POST /action/execute/moveActionExecute
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nRowsMax|число строк максимальное (максимально - не более 1000, по умолчанию 10)|false|integer (int32)|
|QueryParameter|sMethodMask|строка-маска метода для выборки|false|string|
|QueryParameter|bOldOnly|булевый флаг, если true=только из олд-таблицы, иначе только из основной (по умолчанию false)|false|boolean|
|QueryParameter|asID_Status|массив JSON статусов для выборки|false|string|
|QueryParameter|nTryMax|число-лимит. выбрать только те, у которых число попыток не превышает указанный лимит (иначе с любым числом попыток)|false|integer (int32)|
|QueryParameter|nID|номер-ИД записи|false|integer (int64)|
|QueryParameter|bBack|булевый флаг, если указан true, то переместить из олд-а в основную (по умолчанию false)|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== выполнить задачи
----
POST /action/execute/runActionExecute
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nRowsMax|число строк максимальное (максимально - не более 1000, по умолчанию 10)|false|integer (int32)|
|QueryParameter|sMethodMask|строка-маска метода для выборки|false|string|
|QueryParameter|bOldOnly|булевый флаг, если true=только из олд-таблицы, иначе только из основной (по умолчанию false)|false|boolean|
|QueryParameter|asID_Status|массив JSON статусов для выборки|false|string|
|QueryParameter|nTryMax|число-лимит. выбрать только те, у которых число попыток не превышает указанный лимит (иначе с любым числом попыток)|false|integer (int32)|
|QueryParameter|nID|номер-ИД записи|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получение массива всех акций 
----
GET /action/execute/getActionExecuteStatuses
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== ActionFeedBackController — Действия Фидбэков
:hardbreaks:
Action Feed Back Common Controller

==== Запуск фидбека по процессу
----
GET /action/feedback/runFeedBack
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process|ид процесса|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ActionFlowController — Действия Очередей (слоты Потока, Расписания И Тикеты)
:hardbreaks:
Action Flow Common Controller

==== getServiceCenterList
----
GET /action/flow/Qlogic/getServiceCenterList
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== getSlotFreeDays
----
GET /action/flow/Qlogic/getSlotFreeDays
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|QueryParameter|sServiceCenterId|ID сервисного центра|true|string|
|QueryParameter|sServiceId|ID Услуги|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== getTimeList
----
GET /action/flow/Qlogic/getTimeList
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|QueryParameter|sServiceCenterId|ID сервисного центра|true|string|
|QueryParameter|sServiceId|ID Услуги|true|string|
|QueryParameter|sDate|Дата для которой необходимо получить список временных (YYYY-MM-DD)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Генерация слотов на заданный интервал для заданного потока
----
POST /action/flow/buildFlowSlots
----

===== Description
:hardbreaks:
##### Пример:
 http://alpha.test.igov.org.ua/wf/service/action/flow/buildFlowSlots
- nID_Flow_ServiceData=1
- sDateStart=2015-06-01 00:00:00.000
- sDateStop=2015-06-07 00:00:00.000
Ответ: HTTP STATUS 200.
Ниже приведена часть json ответа:

```json
[
    {
        "nID": 1000,
        "sTime": "08:00",
        "nMinutes": 15,
        "bFree": true
    },
    {
        "nID": 1001,
        "sTime": "08:15",
        "nMinutes": 15,
        "bFree": true
    },
    {
        "nID": 1002,
        "sTime": "08:30",
        "nMinutes": 15,
        "bFree": true
    },
...
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|QueryParameter|sDateStart|строка дата, начиная с такого-то момента времени, в формате "2015-06-28 12:12:56.001"|false|string|
|QueryParameter|sDateStop|строка дата, заканчивая к такому-то моменту времени, в формате "2015-07-28 12:12:56.001"|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|json перечисление всех сгенерированных слотов
Если на указанные даты слоты уже сгенерены то они не будут генерится повторно, и в ответ включаться не будут.|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== regCustomer
----
GET /action/flow/Qlogic/setSlot
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|QueryParameter|sServiceCenterId|ID сервисного центра|true|string|
|QueryParameter|sServiceId|ID Услуги|true|string|
|QueryParameter|sDate|Дата для которой необходимо получить список временных (YYYY-MM-DD)|true|string|
|QueryParameter|sTime|Время на которое производиться регистрация. Необходимо использовать StartTime из запроса временных промежутков.|true|string|
|QueryParameter|sPhone|Контактный номер посетителя|true|string|
|QueryParameter|sEmail|Контактный электронный ящик посетителя|true|string|
|QueryParameter|sName|ФИО посетителя|true|string|
|QueryParameter|sInformation|строка с информацией о клиенте|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Получение слотов по сервису сгруппированных по дням
----
GET /action/flow/getFlowSlots
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.igov.org.ua/wf/service/action/flow/getFlowSlots?nID_ServiceData=1 
или
https://alpha.test.region.igov.org.ua/wf/service/action/flow/getSheduleFlowIncludes?sID_BP=kiev_mreo_1 
Ответ: HTTP STATUS 200


```json
{
    "aDay": [
        {
            "sDate": "2015-07-19",
            "bHasFree": true,
            "aSlot": [
                {
                    "nID": 1,
                    "sTime": "18:00",
                    "nMinutes": 15,
                    "bFree": true
                }
            ]
        },
        {
            "sDate": "2015-07-20",
            "bHasFree": true,
            "aSlot": [
                {
                    "nID": 3,
                    "sTime": "18:15",
                    "nMinutes": 15,
                    "bFree": true
                }
            ]
        }
    ]
}


```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Service|номер-ИД услуги  (обязательный если нет sID_BP и nID_ServiceData)|false|integer (int64)|
|QueryParameter|nID_ServiceData|ИД сущности ServiceData (обязательный если нет sID_BP и nID_Service)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса (обязательный если нет nID_ServiceData и nID_Service)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД департамента субьекта-органа|false|integer (int64)|
|QueryParameter|bAll|булевое значение, если false то из возвращаемого объекта исключаются элементы, содержащие "bHasFree":false "bFree":false (опциональный, по умолчанию false)|false|boolean|
|QueryParameter|nFreeDays|число дней со слотами будут включаться в результат пока не наберется указанное кол-во свободных дней (опциональный, по умолчанию 60)|false|integer (int32)|
|QueryParameter|nDays|число дней от сегодняшего включительно(или sDateStart, если задан), до nDays в будущее за который нужно вернуть слоты (опциональный, по умолчанию 177 - пол года)|false|integer (int32)|
|QueryParameter|nDiffDays|число рабочих дней пропуска от даты начала выборки (если не задана - от текущего), с которой начинать отображать расписание|false|integer (int32)|
|QueryParameter|nDiffDaysForStartDate|число смещения даты начала выборки с которой начинать отбирать расписание|false|integer (int32)|
|QueryParameter|sDateStart|строка параметр, определяющие дату начала в формате "yyyy-MM-dd", с которую выбрать слоты. При наличии этого параметра слоты возвращаются только за указанный период(число дней задается nDays)|false|string|
|QueryParameter|nSlots|число, опциональный параметр (по умолчанию 1), группировать слоты по заданному числу штук|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Успех операции: 
 Калькулируемые поля в ответе:
- флаг "bFree" - является ли слот свободным? Слот считается свободным если на него нету тикетов у которых nID_Task_Activiti равен null, а у тех у которых nID_Task_Activiti = null - время создания тикета (sDateEdit) не позднее чем текущее время минус 5 минут (предопределенная константа)
- флаг "bHasFree" равен true , если данных день содержит хотя бы один свободный слот.
|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение расписаний включений
----
GET /action/flow/getSheduleFlowIncludes
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/getSheduleFlowIncludes?nID_Flow_ServiceData=1

Пример результата


```json
[
  {
    "sData": null,
    "bExclude": false,
    "sName": "Test",
    "sRegionTime": ""10:30-11:30"",
    "saRegionWeekDay": ""mo,tu"",
    "sDateTimeAt": ""2010-08-01 10:10:30"",
    "sDateTimeTo": ""2010-08-01 18:10:00"",
    "nID": 20367,
    "nID_FlowPropertyClass": {
      "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
      "sBeanName": "defaultFlowSlotScheduler",
      "nID": 1,
      "sName": "DefaultFlowSlotScheduler"
    }
  },
  {
    "sData": null,
    "bExclude": false,
    "sName": "Test",
    "sRegionTime": "10:30-11:30",
    "saRegionWeekDay": "mo,tu",
    "sDateTimeAt": "10:30",
    "sDateTimeTo": "12:30",
    "nID": 20364,
    "nID_FlowPropertyClass": {
      "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
      "sBeanName": "defaultFlowSlotScheduler",
      "nID": 1,
      "sName": "DefaultFlowSlotScheduler"
    }
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Flow_ServiceData|ИД потока|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД БизнесПроцесса|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание или обновление тикета в указанном слоте.
----
POST /action/flow/setFlowSlot
----

===== Description
:hardbreaks:
##### Пример:
 http://alpha.test.igov.org.ua/wf/service/action/flow/setFlowSlot_ServiceData

- nID_FlowSlot=1
- nID_Subject=2

Ответ: HTTP STATUS 200


```json
{ "nID_Ticket": 1000 }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_FlowSlot|ИД сущности FlowSlot|true|integer (int64)|
|QueryParameter|nID_Subject|ИД сущности Subject — субьект пользователь услуги, который подписывается на слот|true|integer (int64)|
|QueryParameter|nID_Task_Activiti|ИД таски активити процесса предоставления услуги (не обязательный — вначале он null, а потом засчитывается после подтверждения тикета и создания процесса)|false|integer (int64)|
|QueryParameter|nSlots|Кол-во слотов идущих подряд включая текущий (без зазоров времени между соседними), которые надо зарезервировать|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Поля в ответе:
 -поле "nID_Ticket" - ID созданной/измененной сущности FlowSlotTicket.
|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Резервирование тайм слота.
----
POST /action/flow/DMS/setSlotHold
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/DMS/setSlotHold

nID_Service_Private - 428sDateTime - 2016-08-17 14:05:00sSubjectFamily - SidorovsSubjectName - VladimirsSubjectSurname - PetrovichsSubjectPassport - 0101sSubjectPhone - +380666800000Пример результата


```json
{
  "reserved_to": "2016-08-14 22:28:15",
  "reserve_id": "18573",
  "interval": "15"
}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Service_Private|ИД услуги|true|string|
|QueryParameter|sDateTime|Дата и время в формате "YYYY-MM-DD hh:ii:ss"|true|string|
|QueryParameter|sSubjectFamily|Фамилия клиента|true|string|
|QueryParameter|sSubjectName|Имя клиента|true|string|
|QueryParameter|sSubjectSurname|Отчество клиента|true|string|
|QueryParameter|sSubjectPassport|Последние 4 цифры паспорта|true|string|
|QueryParameter|sSubjectPhone|Номер телефона клиента|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Получение календаря рабочих дней оргиназиции по заданной услуге на ближайшие 15 дней, включая текущий
----
GET /action/flow/DMS/getSlotFreeDays
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/DMS/getSlotFreeDays?nID_Service_Private=428



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Service_Private|ID сервиса|true|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Удаление расписания включений
----
GET /action/flow/removeSheduleFlowInclude
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/removeSheduleFlowInclude?nID_Flow_ServiceData=1&nID=20367

Пример результата

```json
{
  "sData": null,
  "bExclude": false,
  "sName": "Test",
  "sRegionTime": "10:30-11:30",
  "saRegionWeekDay": "mo,tu",
  "sDateTimeAt": "2010-08-01 10:10:30",
  "sDateTimeTo": "2010-08-01 18:10:00",
  "nID": 20367,
  "nID_FlowPropertyClass": {
    "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
    "sBeanName": "defaultFlowSlotScheduler",
    "nID": 1,
    "sName": "DefaultFlowSlotScheduler"
  }
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД записи|true|integer (int64)|
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка тайм слотов
----
POST /action/flow/DMS/getSlots
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/DMS/getSlots

nID_Service_Private - 428nDays - 2Пример результата


```json
{
  "2016-08-15": [
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "09:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "09:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "09:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "09:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "10:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "10:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "10:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "10:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "11:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "11:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "11:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "11:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "12:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "12:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "12:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "12:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "14:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "14:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "14:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "14:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "15:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "15:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "15:35:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "15:50:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "16:05:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "16:20:00"
    },
    {
      "date": "2016-08-15",
      "t_length": 15,
      "time": "16:35:00"
    }
  ],
  "2016-08-14": []
}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Service_Private|уникальный строковой-ИД сервиса|true|integer (int32)|
|QueryParameter|nDays|опциональный параметр, укзывающий количество дней для которыйх нужно найти слоты|false|integer (int32)|7
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Подтверждение резервации тайм слота.
----
POST /action/flow/DMS/setSlot
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/DMS/setSlot

nID_SlotHold - 18573Пример результата


```json
{
  "patronymic": "Petrovich",
  "date_time": "2016-08-17 14:05:00",
  "ticket_code": "418303677",
  "service_id": "428",
  "name": "Vladimir",
  "ticket_number": "501",
  "lastname": "Sidorov"
}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_SlotHold|ИД слота резервации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== getOrganizationState
----
GET /action/flow/Qlogic/getOrganizationState
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Получение массива объектов SubjectOrganDepartment по ID бизнес процесса
----
GET /action/flow/getFlowSlots_Department
----

===== Description
:hardbreaks:
##### Примеры:
 https://alpha.test.region.igov.org.ua/wf/service/action/flow/getFlowSlots_Department?sID_BP=dnepr_dms-89
Ответ:

```json
[
  {
    "sName": "ДМС, Днепр, пр. Ильича, 3 (dnepr_dms-89,dnepr_dms-89s)",
    "nID_SubjectOrgan": 2,
    "sGroup_Activiti": "dnepr_dms_89_bab",
    "nID": 13
  },
  {
    "sName": "ДМС, Днепр, вул. Шевченко, 7 (dnepr_dms-89,dnepr_dms-89s)",
    "nID_SubjectOrgan": 2,
    "sGroup_Activiti": "dnepr_dms_89_zhovt",
    "nID": 14
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|строка имя Activiti BP|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|возвращает массив объектов SubjectOrganDepartment для указанного Activiti BP|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение активных тикетов
----
GET /action/flow/getFlowSlotTickets
----

===== Description
:hardbreaks:
##### Примеры:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/getFlowSlotTickets?sLogin=kermit

```json
[
  {
    "sDateStart": "2015-07-20T15:15:00",
    "sDateEdit": "2015-07-06T11:03:52",
    "sTaskDate": "2015-07-30T10:03:43",
    "sDateFinish": "2015-07-20T15:30:00",
    "nID_FlowSlot": "6",
    "sNameBP": "Киев - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Надання послуги: Огляд авто",
    "nID": "20005"
  },
  {
    "sDateStart": "2015-07-20T15:45:00",
    "sDateEdit": "2015-07-06T23:25:15",
    "sTaskDate": "2015-07-06T23:27:18",
    "sDateFinish": "2015-07-20T16:00:00",
    "nID_FlowSlot": "7",
    "sNameBP": "Киев - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Надання послуги: Огляд авто",
    "nID": "20010"
  }
]

```

https://alpha.test.region.igov.org.ua/wf/service/action/flow/getFlowSlotTickets?sLogin=kermit&bEmployeeUnassigned=true

```json
[
  {
    "sDateStart": "2015-08-03T08:00:00",
    "sDateEdit": "2015-07-30T23:10:58",
    "sTaskDate": "2015-07-30T23:50:07",
    "sDateFinish": "2015-08-03T08:15:00",
    "nID_FlowSlot": "20086",
    "sNameBP": "Днепропетровск - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Друк держ.номерів",
    "nID": "20151"
  },
  {
    "sDateStart": "2015-08-03T08:15:00",
    "sDateEdit": "2015-07-31T21:00:56",
    "sTaskDate": "2015-07-31T21:01:19",
    "sDateFinish": "2015-08-03T08:30:00",
    "nID_FlowSlot": "20023",
    "sNameBP": "Киев - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Перевірка наявності обтяжень",
    "nID": "20357"
  }
]

```

https://alpha.test.region.igov.org.ua/wf/service/action/flow/getFlowSlotTickets?sLogin=kermit&bEmployeeUnassigned=true&sDate=2015-07-20

```json
[
  {
    "sDateStart": "2015-07-20T15:15:00",
    "sDateEdit": "2015-07-06T11:03:52",
    "sTaskDate": "2015-07-30T10:03:43",
    "sDateFinish": "2015-07-20T15:30:00",
    "nID_FlowSlot": "6",
    "sNameBP": "Киев - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Надання послуги: Огляд авто",
    "nID": "20005"
  },
  {
    "sDateStart": "2015-07-20T15:45:00",
    "sDateEdit": "2015-07-06T23:25:15",
    "sTaskDate": "2015-07-06T23:27:18",
    "sDateFinish": "2015-07-20T16:00:00",
    "nID_FlowSlot": "7",
    "sNameBP": "Киев - Реєстрація авто з пробігом в МРЕВ",
    "nID_Subject": "20045",
    "sUserTaskName": "Надання послуги: Огляд авто",
    "nID": "20010"
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка имя пользователя для которого необходимо вернуть тикеты|true|string|
|QueryParameter|bEmployeeUnassigned|булевое значение опциональный параметр (false по умолчанию). Если true - возвращать тикеты не заассайненые на пользователей|false|boolean|
|QueryParameter|sDate|строка опциональный параметр в формате yyyy-MM-dd. Дата за которую выбирать тикеты. При выборке проверяется startDate тикета (без учета времени. только дата). Если день такой же как и у указанное даты - такой тикет добавляется в результат.|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskDataResultVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Создание или обновление тикета в указанном слоте.
----
POST /action/flow/setFlowSlot_ServiceData
----

===== Description
:hardbreaks:
##### Пример:
 http://alpha.test.igov.org.ua/wf/service/action/flow/setFlowSlot_ServiceData

- nID_FlowSlot=1
- nID_Subject=2

Ответ: HTTP STATUS 200


```json
{ "nID_Ticket": 1000 }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_FlowSlot|ИД сущности FlowSlot|true|integer (int64)|
|QueryParameter|nID_Subject|ИД сущности Subject — субьект пользователь услуги, который подписывается на слот|true|integer (int64)|
|QueryParameter|nID_Task_Activiti|ИД таски активити процесса предоставления услуги (не обязательный — вначале он null, а потом засчитывается после подтверждения тикета и создания процесса)|false|integer (int64)|
|QueryParameter|nSlots|Кол-во слотов идущих подряд включая текущий (без зазоров времени между соседними), которые надо зарезервировать|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Поля в ответе:
 -поле "nID_Ticket" - ID созданной/измененной сущности FlowSlotTicket.
|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление слотов на заданный интервал для заданного потока
----
DELETE /action/flow/clearFlowSlots
----

===== Description
:hardbreaks:
##### Пример:

```
http://alpha.test.igov.org.ua/wf/service/action/flow/clearFlowSlots?nID_Flow_ServiceData=1&sDateStart=2015-06-01 00:00:00.000&sDateStop=2015-06-07 00:00:00.000


```
Ответ: HTTP STATUS 200 
Ниже приведена часть json ответа:


```json
{
    "aDeletedSlot": [
        {
            "nID": 1000,
            "sTime": "08:00",
            "nMinutes": 15,
            "bFree": true
        },
        {
            "nID": 1001,
            "sTime": "08:15",
            "nMinutes": 15,
            "bFree": true
        },
        ...
     ],
     "aSlotWithTickets": []
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|QueryParameter|sDateStart|строка дата, начиная с такого-то момента времени, в формате "2015-06-28 12:12:56.001"|true|string|
|QueryParameter|sDateStop|строка дата, заканчивая к такому-то моменту времени, в формате "2015-07-28 12:12:56.001"|true|string|
|QueryParameter|bWithTickets|булевое значение удалять ли слоты с тикетами, отвязывая тикеты от слотов? (опциональный, по умолчанию false). 
 Если bWithTickets=true то эти слоты тоже удаляются и будут перечислены в aDeletedSlot, 
 иначе - не удаляются.|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|json Обьект содержащий 2 списка:
- aDeletedSlot - удаленные слоты
- aSlotWithTickets - слоты с тикетами.
  Если bWithTickets=true то эти слоты тоже удаляются и будут перечислены в aDeletedSlot,
 иначе - не удаляются.
|object
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение расписаний исключений
----
GET /action/flow/getSheduleFlowExcludes
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/getSheduleFlowExcludes?nID_Flow_ServiceData=1

Пример результата

```json
[
  {
    "sData": null,
    "bExclude": true,
    "sName": "Test",
    "sRegionTime": "10:30-11:30",
    "saRegionWeekDay": "mo,tu"
    "sDateTimeAt": "2010-08-01 10:10:30",
    "sDateTimeTo": "2010-08-01 18:10:00",
    "nID": 20367,
    "nID_FlowPropertyClass": {
      "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
      "sBeanName": "defaultFlowSlotScheduler",
      "nID": 1,
      "sName": "DefaultFlowSlotScheduler"
    }
  },
  {
    "sData": null,
    "bExclude": false,
    "sName": "Test",
    "sRegionTime": "10:30-11:30",
    "saRegionWeekDay": "mo,tu",
    "sDateTimeAt": "10:30",
    "sDateTimeTo": "12:30",
    "nID": 20364,
    "nID_FlowPropertyClass": {
      "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
      "sBeanName": "defaultFlowSlotScheduler",
      "nID": 1,
      "sName": "DefaultFlowSlotScheduler"
    }
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Flow_ServiceData|ИД потока|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД БизнесПроцесса|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Резервирование тайм слота.
----
POST /action/flow/DMS/canselSlotHold
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/DMS/canselSlotHold

nID_Service_Private - 428sDateTime - 2016-08-17 14:05:00sSubjectFamily - SidorovsSubjectName - VladimirsSubjectSurname - PetrovichsSubjectPassport - 0101sSubjectPhone - +380666800000Пример результата


```json
{
  "reserved_to": "2016-08-14 22:28:15",
  "reserve_id": "18573",
  "interval": "15"
}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sSubjectPhone|Номер телефона клиента|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Добавление/изменение расписания исключения
----
GET /action/flow/setSheduleFlowExclude
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/setSheduleFlowExclude?nID_Flow_ServiceData=1&sName=Test&sRegionTime=%2210:30-11:30%22&sDateTimeAt=%222010-08-01%2010:10:30%22&sDateTimeTo=%222010-08-01%2018:10:00%22&saRegionWeekDay=%22mo,tu%22

```json
Пример результата
{
  "sData": null,
  "bExclude": true,
  "sName": "Test",
  "sRegionTime": "10:30-11:30",
  "saRegionWeekDay": "mo,tu",
  "sDateTimeAt": "2010-08-01 10:10:30",
  "sDateTimeTo": "2010-08-01 18:10:00",
  "nID": 20367,
  "nID_FlowPropertyClass": {
    "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
    "sBeanName": "defaultFlowSlotScheduler",
    "nID": 1,
    "sName": "DefaultFlowSlotScheduler"
  }
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер //опциональный ,если задан - редактирование|false|integer (int64)|
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|номер-ИН департамента|false|integer (int64)|
|QueryParameter|sName|Строка-название ("Вечерний прием")|true|string|
|QueryParameter|sRegionTime|Строка период времени ("14:16-16-30")|true|string|
|QueryParameter|nLen|Число, определяющее длительность слота|false|integer (int32)|
|QueryParameter|sLenType|Строка определяющее тип длительности слота|false|string|
|QueryParameter|sData|Строка с данными(выражением), описывающими формулу расписания (например: {"0 0/30 9-12 ? * TUE-FRI":"PT30M"})|false|string|
|QueryParameter|saRegionWeekDay|Массив дней недели ("su,mo,tu")|true|string|
|QueryParameter|sDateTimeAt|Строка-дата начала(на) в формате YYYY-MM-DD hh:mm:ss ("2015-07-31 19:00:00")|true|string|
|QueryParameter|sDateTimeTo|Строка-дата конца(к) в формате YYYY-MM-DD hh:mm:ss ("2015-07-31 23:00:00")|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Генерация слотов на заданный интервал для заданного потока
----
GET /action/flow/buildFlowSlot
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/buildFlowSlot
- nID_Flow_ServiceData=1
- sDateStart=2015-06-01 00:00:00.000
- sDateStop=2015-06-07 00:00:00.000
Ответ: HTTP STATUS 200.
Ниже приведена часть json ответа:

```json
[
    {
        "nID": 1000,
        "sTime": "08:00",
        "nMinutes": 15,
        "bFree": true
    },
    {
        "nID": 1001,
        "sTime": "08:15",
        "nMinutes": 15,
        "bFree": true
    },
    {
        "nID": 1002,
        "sTime": "08:30",
        "nMinutes": 15,
        "bFree": true
    },
...
]

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|json перечисление всех сгенерированных слотов
Если на указанные даты слоты уже сгенерены то они не будут генерится повторно, и в ответ включаться не будут.|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавление/изменение расписания включений
----
GET /action/flow/setSheduleFlowInclude
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/setSheduleFlowInclude?nID_Flow_ServiceData=1&sName=Test&sRegionTime=%2210:30-11:30%22&sDateTimeAt=%222010-08-01%2010:10:30%22&sDateTimeTo=%222010-08-01%2018:10:00%22&saRegionWeekDay=%22mo,tu%22
Пример результата

```json
{
  "sData": null,
  "bExclude": false,
  "sName": "Test",
  "sRegionTime": "10:30-11:30",
  "saRegionWeekDay": "mo,tu",
  "sDateTimeAt": "2010-08-01 10:10:30",
  "sDateTimeTo": "2010-08-01 18:10:00",
  "nID": 20367,
  "nID_FlowPropertyClass": {
    "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
    "sBeanName": "defaultFlowSlotScheduler",
    "nID": 1,
    "sName": "DefaultFlowSlotScheduler"
  }
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер, если задан - редактирование|false|integer (int64)|
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|QueryParameter|sName|Строка-название ("Вечерний прием")|true|string|
|QueryParameter|sRegionTime|Строка период времени ("14:16-16-30")|true|string|
|QueryParameter|nLen|Число, определяющее длительность слота|false|integer (int32)|
|QueryParameter|sLenType|Строка определяющее тип длительности слота|false|string|
|QueryParameter|sData|Строка с данными(выражением), описывающими формулу расписания (например: {"0 0/30 9-12 ? * TUE-FRI":"PT30M"})|false|string|
|QueryParameter|saRegionWeekDay|Массив дней недели ("su,mo,tu")|true|string|
|QueryParameter|sDateTimeAt|Строка-дата начала(на) в формате YYYY-MM-DD hh:mm:ss ("2015-07-31 19:00:00")|true|string|
|QueryParameter|sDateTimeTo|Строка-дата конца(к) в формате YYYY-MM-DD hh:mm:ss ("2015-07-31 23:00:00")|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление расписания исключений
----
GET /action/flow/removeSheduleFlowExclude
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/flow/removeSheduleFlowExclude?nID_Flow_ServiceData=1&nID=20367

Пример результата


```json
{
  "sData": null,
  "bExclude": true,
  "sName": "Test",
  "sRegionTime": "10:30-11:30",
  "saRegionWeekDay": "mo,tu",
  "sDateTimeAt": "2010-08-01 10:10:30",
  "sDateTimeTo": "2010-08-01 18:10:00",
  "nID": 20367,
  "nID_FlowPropertyClass": {
    "sPath": "org.igov.service.business.flow.handler.DefaultFlowSlotScheduler",
    "sBeanName": "defaultFlowSlotScheduler",
    "nID": 1,
    "sName": "DefaultFlowSlotScheduler"
  }
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер|true|integer (int64)|
|QueryParameter|nID_Flow_ServiceData|номер-ИД потока (обязательный если нет sID_BP)|false|integer (int64)|
|QueryParameter|sID_BP|строка-ИД бизнес-процесса потока (обязательный если нет nID_Flow_ServiceData)|false|string|
|QueryParameter|nID_SubjectOrganDepartment|ИД номер-ИН департамента|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FlowProperty>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getServiceList
----
GET /action/flow/Qlogic/getServiceList
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|QueryParameter|sServiceCenterId|ID сервисного центра|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== getSlots
----
GET /action/flow/Qlogic/getSlots
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrganizatonGuid|уникальный идентификатор для сервисного центра|true|string|
|QueryParameter|sServiceCenterId|ID сервисного центра|true|string|
|QueryParameter|sServiceId|ID Услуги|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

=== ActionHistoryController -- История По Документам
:hardbreaks:
Action History Common Controller

==== addHistoryEvent
----
GET /history/document/event/addHistoryEvent
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Order|строка-ид заявки, в формате XXX-XXXXXX = nID_Server-nID_Order|false|string|
|QueryParameter|nID_Subject|ИД-номер|false|string|
|QueryParameter|sUserTaskName|строка-статус|false|string|
|QueryParameter|nID_Service|ид услуги|false|integer (int64)|
|QueryParameter|nID_ServiceData|ид под-услуги|false|integer (int64)|
|QueryParameter|nID_Region|ид области|false|integer (int64)|
|QueryParameter|sID_UA|ид страны|false|string|
|QueryParameter|soData|строка-объект с данными (для поддержки дополнения заявки со стороны гражданина)|false|string|
|QueryParameter|sToken|строка-токена (для поддержки дополнения заявки со стороны гражданина)|false|string|
|QueryParameter|sHead|строка заглавия сообщения (для поддержки дополнения заявки со стороны гражданина)|false|string|
|QueryParameter|sBody|строка тела сообщения (для поддержки дополнения заявки со стороны гражданина)|false|string|
|QueryParameter|nID_Proccess_Feedback|номер-ид запущенного процесса для обработки фидбеков (issue 962)|false|integer (int64)|
|QueryParameter|nID_Proccess_Escalation|номер-ид бп эсклации (поле на перспективу для следующего тз по эскалации)|false|integer (int64)|
|QueryParameter|nID_StatusType|числовой код, который соответсвует статусу|false|integer (int64)|
|QueryParameter|nID_HistoryEventType|числовой код, который соответсвует типу события|false|string|
|QueryParameter|newData|новые данные после редактирвоание|false|string|
|QueryParameter|oldData|старые данные до редактирвоания|false|string|
|QueryParameter|new_BP_ID|ид бп созданного документа (для вызова субпроцесса)|false|string|
|QueryParameter|sLogin|логин или ФИО|false|string|
|QueryParameter|sLoginNew|логин|false|string|
|QueryParameter|sID_Order_Link|ордер связанного документа|false|string|
|QueryParameter|sIpay_Amount|Сумма платежа айпей|false|string|
|QueryParameter|sName|ФИО|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoryEvent_Service>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ActionIdentityCommonController
:hardbreaks:
Action Identity Common Controller

==== Удаляет групу с указаным id. Если група содержит пользователей, - будет выброшена ошибка которая будет содержать данные о списке пользователей в этой групе. Если же група имеет задание (таску) то при попытке ее удалить будет получена ошибка, которая будет содержать данные о списке доступных заданий.
----
DELETE /action/identity/removeGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|строка, которая содержит число, id групы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление групы. Если група с указаным id существует, - то происходит перезапись существующих данных указанными.Если же група с указанным id не найдена, - будет ошибка.
----
GET /action/identity/updateGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|строка, которая содержит число, id групы|true|string|
|QueryParameter|sName|строка текст, название групы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает список пользователей, если указан id групы, - выводит всех ее пользователей, иначе, по умолчанию возвращает всех существующих пользователей.
----
GET /action/identity/getUsers
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group|строка, которая содержит число, id групы, опциональный параметр|false|string|
|QueryParameter|sFind|фильтр по ФИО, опциональный параметр|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавление пользователя. Если пользователь с указаным логином существует, - то произойдет ошибка.Если же пользователь с указанным логином не найден, - будет создана новая запись.
----
POST /action/identity/setUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя для определения наличия пользователя в базе|true|string|
|BodyParameter|body|JSON-объект с параметрами: sPassword - (обязательный при создании нового пользователя) строка текст, логин пользователя для определения наличия пользователя в базе; sName - (обязательный) строка текст, имя пользователя; sDescription - (обязательный) строка текст, фамилия пользователя; sEmail - строка текст, имейл пользователя, опциональный параметр|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Перезапись пользователя. Если пользователь с указаным логином существует, - то произойдет перезапись пользователя.Если же пользователь с указанным логином не найден, - будет ошибка.
----
POST /action/identity/updateUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя для определения наличия пользователя в базе|true|string|
|BodyParameter|body|JSON-объект с параметрами: sPassword - (обязательный при обновлении пользователя) строка текст, логин пользователя для определения наличия пользователя в базе; sName - (обязательный) строка текст, имя пользователя; sDescription - (обязательный) строка текст, фамилия пользователя; sEmail - строка текст, имейл пользователя, опциональный параметр|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка email юзеров по ИД группы
----
GET /action/identity/getUsersEmailByGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/action/identity/getUsersEmailByGroup?sID_Group=GrekD 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group|ИД группы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает список груп, если указан логин пользователя, - выводит все его групы, иначе, по умолчанию возвращает все существующие групы.
----
GET /action/identity/getGroups
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя, опциональный параметр|false|string|
|QueryParameter|sFind|фильтр по названию, опциональный параметр|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Group>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает обьект обвертку, которыйсодержит ФИО и перечень групп, в которые входит логин.
----
GET /action/identity/getUserGroupMember
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|логин пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Перетереть референтнорсть
----
GET /action/identity/replaseUserGroupMember
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|логин пользователя|true|string|
|QueryParameter|saGroup|джейсон-перечень групп|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Делает пользователя админом
----
POST /action/identity/setAdminRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо добавить|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Делает пользователя админом
----
GET /action/identity/setAdminRole
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо добавить|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавление/обновление групы. Если група с указаным id существует, - то произойдет ошибка.Если же група с указанным id не найдена, - будет создана новая запись.
----
GET /action/identity/setGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|строка, которая содержит число, id групы|true|string|
|QueryParameter|sName|строка текст, название групы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавляет пользователя как члена групы
----
POST /action/identity/setUserGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group|строка текст, айди групы, в которую нужно добавить пользователя|true|string|
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо добавить|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавляет пользователя как члена групы
----
GET /action/identity/setUserGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group|строка текст, айди групы, в которую нужно добавить пользователя|true|string|
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо добавить|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаляет пользователя с указанным логином
----
DELETE /action/identity/removeUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо удалить|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаляет членство пользователя в групе
----
DELETE /action/identity/removeUserGroup
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|строка текст, айди групы, из которой необходимо удалить юзера|true|string|
|QueryParameter|sLogin|строка текст, логин пользователя, которого необходимо удалить|true|string|
|QueryParameter|isSync|синхронизация|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ActionTaskCommonController — Действия Общие Задач
:hardbreaks:
Action Task Common Controller

==== /deleteHistoricProcessInstance
----
DELETE /action/task/deleteHistoricProcessInstance
----

===== Description
:hardbreaks:
#####
https://alpha.test.region.igov.org.ua/wf/service/action/task/deleteHistoricProcessInstance?nID_Order=335750019 
 Удалить закрытый процесс по его nID_Order или все бизнеспроцессы по ид бизнес-процесса#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Process_Def|ид бизнес-процесса|false|string|
|QueryParameter|nID_Order|номер заявки|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Загрузка статусов задач и документов
----
GET /action/task/downloadTaskStatusData
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Загрузка статусов задач и документов #####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|название бизнес-процесса|true|string|
|QueryParameter|sFileName|название возвращаемого файла|false|string|
|QueryParameter|sDateAt|начальная дата создания таски|false|ref|
|QueryParameter|sDateTo|конечная дата создания таски|false|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка подвкладок
----
GET /action/task/getSubTabs
----

===== Description
:hardbreaks:
##### ActionCommonTaskController: Получение списка подвкладок#####
https://alpha.test.region.igov.org.ua/wf/service/action/task/getSubTabs

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Отмена задачи (в т.ч. электронной очереди)
----
POST /action/task/cancelTask
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|номер-ИД процесса (с контрольной суммой)|true|integer (int64)|
|QueryParameter|sInfo|Строка с информацией (причиной отмены)|false|string|
|QueryParameter|bSimple|Простой вариант отмены (без электронной очереди)|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== Отмена задачи (в т.ч. электронной очереди)
----
GET /action/task/cancelTask
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|номер-ИД процесса (с контрольной суммой)|true|integer (int64)|
|QueryParameter|sInfo|Строка с информацией (причиной отмены)|false|string|
|QueryParameter|bSimple|Простой вариант отмены (без электронной очереди)|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== Загрузка каталога сервисов из Activiti
----
GET /action/task/process-definitions
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Загрузка каталога сервисов из Activiti #####

Request:

https://alpha.test.region.igov.org.ua/wf/service/action/task/process-definitions

Response:


```json
  [
    {
      "id": "CivilCardAccountlRequest:1:9",
      "category": "http://www.activiti.org/test",
      "name": "Видача картки обліку об’єкта торговельного призначення",
      "key": "CivilCardAccountlRequest",
      "description": "Описание процесса",
      "version": 1,
      "resourceName": "dnepr-2.bpmn",
      "deploymentId": "1",
      "diagramResourceName": "dnepr-2.CivilCardAccountlRequest.png",
      "tenantId": "diver",
      "suspended": true
    }
  ]

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcDefinitionI>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getBP
----
GET /action/task/getBP
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|строка-ID БП|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getHistoryTaskData
----
GET /action/task/getHistoryTaskData
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание нового обьекта-записи линка
----
GET /action/task/setLink
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Сервис создания обьекта-записи линка #####

Request:

https://alpha.test.igov.org.ua/wf/service/action/task/setLink?nID_Process=nID_Process&sKey=sKey&nID_Subject_Holder=nID_Subject_Holder


Response:

```json
  {"sKey":"Cтрока-ключ",       "nID":ИД обьекта,       "nID_Process":ИД бизнес процесса,       "nID_Subject_Holder":ИД субьекта-хранителя    }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД бизнес процесса|true|integer (int64)|
|QueryParameter|sKey|Cтрока-ключ|true|string|
|QueryParameter|nID_Subject_Holder|ИД субьекта-хранителя|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ActionTaskLink>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /removeOldProcess
----
GET /action/task/removeOldProcess
----

===== Description
:hardbreaks:
##### Удаление закрытых процессов из таблиц активити#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ид процесса|false|integer (int64)|
|QueryParameter|sID_Process_Def|ид бизнес-процесса|true|string|
|QueryParameter|sDateFinishAt|дата закрытия процесса с |true|string|2010-01-01
|QueryParameter|sDateFinishTo|дата закрытия процесса по |true|string|2050-01-01
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка бизнес процессов к которым у пользователя есть доступ
----
GET /action/task/getBPs
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение списка бизнес процессов к которым у пользователя есть доступ #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getLoginBPs?sLogin=userId

Метод возвращает json со списком бизнес процессов, к которым у пользователя есть доступ, в формате:

```json
[
  {
    "sID": "[process definition key]""sName": "[process definition name]"
  },
  {
    "sID": "[process definition key]""sName": "[process definition name]"
  }
]

```
Принадлежность пользователя к процессу проверяется по вхождению в группы, которые могут запускать usertask-и внутри процесса, или по вхождению в группу, которая может стартовать процесс

Пример:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getLoginBPs?sLogin=kermit
Пример результата

```json
[
{
    "sID": "dnepr_spravka_o_doxodax",
    "sName": "Дніпропетровськ - Отримання довідки про доходи фіз. осіб"
  },
  {
    "sID": "dnepr_subsidies2",
    "sName": "Отримання субсидії на оплату житлово-комунальних послуг2"
  },
  {
    "sID": "khmelnitskij_mvk_2",
    "sName": "Хмельницький - Надання інформації, що підтверджує відсутність (наявність) земельної ділянки"
  },
  {
    "sID": "khmelnitskij_zemlya",
    "sName": "Заява про наявність земельної ділянки"
  },
  {
    "sID": "kiev_spravka_o_doxodax",
    "sName": "Київ - Отримання довідки про доходи фіз. осіб"
  },
  {
    "sID": "kuznetsovsk_mvk_5",
    "sName": "Кузнецовськ МВК - Узгодження графіка роботи підприємства торгівлі\/обслуговування"
  },
  {
    "sID": "post_spravka_o_doxodax_pens",
    "sName": "Отримання довідки про доходи (пенсійний фонд)"
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин пользователя|true|string|
|QueryParameter|bDocOnly|Выводить только список БП документов|false|boolean|
|QueryParameter|sProcessDefinitionId|ИД БП (без версионности)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== getCountTask
----
GET /action/task/getCountTask
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение количествоа задач по нескольким наборам критериев-фильтров для указанного логина #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getCountTask?sLogin=[sLogin]?&amFilter=[{"sFilterStatus":"OpenedUnassigned"},{"sFilterStatus":"OpenedAssigned"},{"sFilterStatus":"Opened"},{"sFilterStatus":"Closed"}]


Параметры:
- sLogin - имя пользователя для которого подсчитывать количества тасок
- amFilter - массив наборов фильтров, по которым выдавать количества задач. 
Допустимые параметры внутри наборов фильтров amFilter: 
sFilterStatus - статус фильтрации задач. Значение по умолчанию - OpenedUnassigned (только не-ассайнутые), OpenedAssigned(только ассайнутые), Opened(только открытые (не в истории)), Closed(только закрытые (история))) 
bFilterHasTicket - по умолчанию false. Если true - возвращать только те задачи, у которых есть связанный тикет
bIncludeAlienAssignedTasks - по умолчанию false. Если значение false - то возвращать только свои и только не ассайнутые, к которым доступ.
OpenedUnassigned - необроблені
OpenedAssigned - в роботі
Opened - усі
Closed - історія

Примеры:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getCountTask?sLogin=kermit&amFilter=[{"bFilterHasTicket":true},{"sFilterStatus":"OpenedUnassigned"},{"sFilterStatus":"OpenedAssigned","bFilterHasTicket":true}]
Ответы: 

```json
[ 
{"nCount":5},
{"nCount":688},
{"nCount":0}
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|amFilter|amFilter|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,object»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /getProcessTemplate
----
GET /action/task/getProcessTemplate
----

===== Description
:hardbreaks:
##### Получение шаблона процесса#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sID_BP|sID_BP|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Удаление заявки(процесса)
----
DELETE /action/task/delete-process
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Удаление заявки(процесса) #####

Request:
(хост)/wf/service/action/task/delete-process?nID_Order=020978170

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|nID_Order|false|integer (int64)|
|QueryParameter|nID_Process|nID_Process|false|string|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sReason|sReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== DeleteProcess
----
DELETE /action/task/delete-process-simple
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: описания нет #####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|nID_Process|true|string|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sReason|sReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Загрузка задач из Activiti
----
GET /action/task/login/{assignee}
----

===== Description
:hardbreaks:
#####  Request:
https://alpha.test.region.igov.org.ua/wf/service/action/task/kermit

Response:

```json
    [
      {
            "delegationState": "RESOLVED",
            "id": "38",
            "name": "Первый процесс пользователя kermit",
            "description": "Описание процесса",
            "priority": 51,
            "owner": "kermit-owner",
            "assignee": "kermit-assignee",
            "processInstanceId": "12",
            "executionId": "1",
            "createTime": "2015-04-13 00:51:34.527",
            "taskDefinitionKey": "task-definition",
            "dueDate": "2015-04-13 00:51:36.527",
            "category": "my-category",
            "parentTaskId": "2",
            "tenantId": "diver",
            "formKey": "form-key-12",
            "suspended": true,
            "processDefinitionId": "21"
      }
    ]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|assignee|ИД авторизированого субъекта (добавляется в запрос автоматически после аутентификации пользователя)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskAssigneeI>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Запуск процесса Activiti
----
GET /action/task/start-process/{key}
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Запуск процесса Activiti #####

HTTP Context: https://server:port/wf/service/action/task/start-process/{key}
- nID_Subject - ID авторизированого субъекта (добавляется в запрос автоматически после аутентификации пользователя)
Request:

https://alpha.test.region.igov.org.ua/wf/service/action/task/start-process/citizensRequest

Response

```json
  {
    "id":"31"
  }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|key|Ключ процесса|true|string|
|QueryParameter|organ|Орган|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessI>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение полей стартовой формы по ID таски
----
GET /action/task/getStartFormData
----

===== Description
:hardbreaks:
##### Примеры:
http://alpha.test.region.igov.org.ua/wf/service/action/task/getStartFormData?nID_Task=5170256
Ответ, если запись существует (HTTP status Code: 200 OK):

```json
{
  waterback="--------------------",
  phone="380979362996",
  date_from="01/01/2014",
  bankIdbirthDay="27.05.1985",
  notice2="Я та особи, які зареєстровані (фактично проживають) у житловому приміщенні/будинку, даємо згоду на обробку персональних даних про сім’ю, доходи, майно, що необхідні для призначення житлової субсидії, та оприлюднення відомостей щодо її призначення.",
house="--------------------",
  garbage="--------------------",
  waterback_notice="",
  garbage_number="",
  floors="10",
  name_services="--------------------",
  date_to="30/12/2014",
  date3="",
  date2="",
  electricity="--------------------",
  garbage_name="",
  date1="",
  place_type="2",
  bankIdfirstName="ДМИТРО",
  declaration="--------------------",
  waterback_name="",
  electricity_notice="",
  bankIdinn="3119325858",
  house_name="",
  gas="--------------------",
  house_number="",
  subsidy="1",
  email="dmitrij.zabrudskij@privatbank.ua",
  warming="--------------------",
  hotwater_notice="",
  org0="Назва організації",
  org1="",
  electricity_number="123456",
  org2="",
  org3="",
  warming_name="",
  place_of_living="Дніпропетровська, Дніпропетровськ, пр. Героїв, 17, кв 120",
  fio2="",
  fio3="",
  total_place="68",
  garbage_notice="",
  fio1="",
  chapter1="--------------------",
  bankIdmiddleName="ОЛЕКСАНДРОВИЧ",
  gas_name="",
  bankIdPassport="АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЇНИ В ДНІПРОПЕТРОВСЬКІЙ ОБЛАСТІ 18.03.2002",
  warming_place="45",
  passport3="",
  gas_number="",
  passport2="",
  electricity_name="коммуна",
  area="samar",
  house_notice="",
  bankIdlastName="ДУБІЛЕТ",
  card1="",
  card3="",
  coolwater_number="",
  card2="",
  warming_notice="",
  hotwater_name="",
  income0="attr9",
  coolwater="--------------------",
  gas_notice="",
  overload="hxhxfhfxhfghg",
  warming_number="",
  income3="attr0",
  income1="attr0",
  income2="attr0",
  passport1="",
  coolwater_notice="",
  sBody_1="null",
  hotwater="--------------------",
  coolwater_name="",
  waterback_number="",
  man1="",
  hotwater_number="",
  sBody_2="null",
  comment="null",
  decision="null",
  selection="attr1"
}

```
Ответ, если записи не существует. (HTTP status Code: 500 Internal Server Error):


```json
{
  "code": "BUSINESS_ERR",
  "message": "Record not found"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Task| номер-ИД таски, для которой нужно найти процесс и вернуть поля его стартовой формы.|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|500|Record not found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== saveForm
----
POST /action/task/saveForm
----

===== Description
:hardbreaks:
saveForm

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|sParams|проперти формы|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== https://alpha.test.region.igov.org.ua/wf/service/action/task/getmID_TaskAndProcess
----
GET /action/task/getmID_TaskAndProcess
----

===== Description
:hardbreaks:
##### Получение активной и последней юзертаски процесса#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|nID_Process|false|string|
|QueryParameter|sID_Order|sID_Order|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Поиск тасок
----
POST /action/task/searchTasks
----

===== Description
:hardbreaks:
https://alpha.test.region.igov.org.ua/wf/service/action/task/searchTasks?nSize=25&nStart=0&sOrderBy=asc
{
  "sLogin": "IGOV_130384GOA",
  "sDateType": "executionTime", 
  "sProcessDefinitionKey": null,
  "sDateFrom": "2017-11-24",
  "sDateTo": "2017-11-30",
  "sLoginController": null,
  "sLoginExecutor": "IGOV_130384GOA",
  "sFind": null,
  "sFilterStatus": "Execution",
  "bIncludeDeleted": false,
  "bSearchExternalTasks": false,
  "aoFilterField": [
    {"sID_Field": "sID_Field1", "sCondition": "sCondition1", "sValue":"sValue1"},
    {"sID_Field": "sID_Field2", "sCondition": "sCondition2", "sValue":"sValue2"}
  ]
}

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOrderBy|sOrderBy|false|string|
|QueryParameter|nSize|nSize|false|integer (int32)|
|QueryParameter|nStart|nStart|false|integer (int32)|
|BodyParameter|oTaskFilterVO|обьект c параметрами для фильтра|true|<<TaskFilterVO>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskDataResultVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== setBP
----
POST /action/task/setBP
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFileName|Cтрока-название файла|true|string|
|FormDataParameter|file|Новий БП|false|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

==== /getAnswer_DFS
----
GET /action/task/getAnswer_DFS
----

===== Description
:hardbreaks:
##### Получение ответов по процессам ДФС#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|INN|ИНН|true|string|
|QueryParameter|snCountYear|Порядковый номер документа в году|true|string|
|QueryParameter|sID_Process|ИНН|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /getServiceURL_NAIS
----
GET /action/task/getServiceURL_NAIS
----

===== Description
:hardbreaks:
##### Получение URL сервиса НАИС#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_NAIS_Service_code_value|sID_NAIS_Service_code_value|true|string|
|QueryParameter|sID_NAIS_Application_id_value|sID_NAIS_Application_id_value|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getTasksOld
----
GET /action/task/getTasksOld
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение списка всех тасок, которые могут быть доступны указанному логину #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=[sLogin]


- Возвращает список всех тасок, которые могут быть доступны указанному логину [sLogin] и которые уже заняты другими логинами, входящими во все те-же группы, в которые входит данный логин

Во время выполнения производит поиск групп, в которые входит указанный пользователь, и затем возвращает список задач, которые могут быть  заассайнены на пользователей из полученных групп:

Содержит следующие параметры:
- sLogin - id пользователя. обязательный параметр, указывающий пользователя
- bIncludeAlienAssignedTasks - необязательный параметр (по умолчанию false). Если значение false - то возвращать только свои и только не ассайнутые, к которым доступ.
- sOrderBy - метод сортировки задач. Необязательный параметр. По умолчанию 'id'. Допустимые значения 'id', 'taskCreateTime', 'ticketCreateDate'
- nSize - Количество задач в результате. Необязательный параметр. По умолчанию 10.
- nStart - Порядковый номер первой задачи для возвращения. Необязательный параметр. По умолчанию 0
- sFilterStatus - Необязательный параметр (по умолчанию обрабатывается как OpenedUnassigned). статус фильтрации задач, у которого возможные значения: OpenedUnassigned (только не-ассайнутые),  OpenedAssigned(только ассайнутые), Opened(только открытые (не в истории)), Closed(только закрытые (история))
- bFilterHasTicket - Необязательный параметр (по умолчанию false). Если true - возвращать только те задачи, у которых есть связанный тикет
Примеры:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=kermit

https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=kermit&nSize=15&nStart=10



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|nID_Process|nID_Process|false|integer (int64)|
|QueryParameter|bIncludeAlienAssignedTasks|bIncludeAlienAssignedTasks|false|boolean|
|QueryParameter|sOrderBy|sOrderBy|false|string|
|QueryParameter|nSize|nSize|false|integer (int32)|
|QueryParameter|nStart|nStart|false|integer (int32)|
|QueryParameter|sFilterStatus|sFilterStatus|false|string|
|QueryParameter|bFilterHasTicket|bFilterHasTicket|false|boolean|
|QueryParameter|soaFilterField|soaFilterField|false|string|
|QueryParameter|bIncludeVariablesProcess|bIncludeVariablesProcess|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getListBP
----
GET /action/task/getListBP
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|строка-ИД БП //опциональный фильтр, иначе все|false|string|
|QueryParameter|sFieldType|строка-типа поля //опциональный фильтр, иначе все|false|string|
|QueryParameter|sID_Field|строка-ИД поля //опциональный фильтр, иначе все|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcDefinitionI>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== SendProccessToGRES
----
GET /action/task/sendProccessToGRES
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: описания нет #####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Task|номер-ИД задачи|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение счетчиков по закладкам
----
GET /action/task/getTaskCounters
----

===== Description
:hardbreaks:
https://alpha.test.region.igov.org.ua/wf/service/action/task/getTaskCounters?sLogin=btsol_011272SVL

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|логин|true|string|
|QueryParameter|bIncludeDeleted|bIncludeDeleted|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskCountersVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

====  Центральный сервис получения контента файла
----
GET /action/task/getMessageFile_Local
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Message|номер-ИД сообщения|true|string|
|QueryParameter|nID_Process|номер-ИД процесса|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение статистики по задачам в рамках бизнес процесса
----
GET /action/task/download_bp_timing
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение статистики по задачам в рамках бизнес процесса #####

HTTP Context: https://server:port/wf/service/action/task/download_bp_timing?sID_BP_Name=XXX&sDateAt=XXX8&sDateTo=XXX


Метод возвращает .csv файл со информацией о завершенных задачах в указанном бизнес процессе за период. Если указан параметр saFieldSummary -- то также будет выполнено "сведение" полей (описано ниже). Если не указан, то формат выходного файла:

- nID_Process - ид задачи
- sLoginAssignee - кто выполнял задачу
- sDateTimeStart - Дата и время начала
- nDurationMS - Длительность выполнения задачи в миллисекундах
- nDurationHour - Длительность выполнения задачи в часах
- sName - Название задачи

Поля из FormProperty (если bDetail=true)
настраиваемые поля из saFields
Пример: https://alpha.test.region.igov.org.ua/wf/service/action/task/download_bp_timing?sID_BP_Name=lviv_mvk-1&sDateAt=2015-06-28&sDateTo=2015-07-01

Пример выходного файла

```
"Assignee","Start Time","Duration in millis","Duration in hours","Name of Task"
"kermit","2015-06-21:09-20-40","711231882","197","Підготовка відповіді на запит: пошук документа"

```
Сведение полей
параметр saFieldSummary может содержать примерно такое значение: "sRegion;nSum=sum(nMinutes);nVisites=count()"
тот элемент, который задан первым в параметре saFieldSummary - является "ключевым полем" следующие элементы состоят из названия для колонки, агрегирующей функции и названия агрегируемого поля. Например: "nSum=sum(nMinutes)"

где:

- nSum - название поля, куда будет попадать результат
- sum - оператор сведения
- nMinutes - расчетное поле переменная, которая хранит в себе значение уже существующего или посчитанного поля формируемой таблицы

Перечень поддерживаемых "операторов сведения":

- count() - число строк/элементов (не содержит аргументов)
- sum(field) - сумма чисел (содержит аргумент - название обрабатываемого поля)
- avg(field) - среднее число (содержит аргумент - название обрабатываемого поля)

Операторы можно указывать в произвольном регистре, т.е. SUM, sum и SuM "распознаются" как оператор суммы sum. 
Для среднего числа также предусмотрено альтернативное название "average".
Если в скобках не указано поле, то берется ключевое.

Значение "ключевого поля" переносится в новую таблицу без изменений в виде единой строки,и все остальные сводные поля подсчитываются исключительно в контексте
значения этого ключевого поля, и проставляютя соседними полями в рамках этой единой строки.

Особенности подсчета:

- если нету исходных данных или нету такого ключевого поля, то ничего не считается (в исходном файле просто будут заголовки)
- если расчетного поля нету, то поле не считается (т.е. сумма и количество для ключевого не меняется)
тип поля Сумма и Среднее -- дробное число, Количество -- целое. Исходя из этого при подсчете суммы значение конвертируется в число, если конвертация неудачна, то сумма не меняется. (т.е. если расчетное поле чисто текстовое, то сумма и среднее будет 0.0)

Пример: https://test.region.igov.org.ua/wf/service/action/task/download_bp_timing?sID_BP_Name=_test_queue_cancel&sDateAt=2015-04-01&sDateTo=2015-10-31&saFieldSummary=email;nSum=sum(nDurationHour);nVisites=count();nAvg=avg(nDurationHour)

Ответ:

```
"email","nSum","nVisites","nAvg"
"email1","362.0","5","72.4"
"email2","0.0","1","0.0"


```
Настраиваемые поля
Параметр saFields может содержать набор полей с выражениями, разделенными символом ; 
Вычисленное выражение, расчитанное на основании значений текущей задачи, подставляется в выходной файл 

Пример выражения 
saFields="nCount=(sID_UserTask=='usertask1'?1:0);nTest=(sAssignedLogin=='kermit'?1:0)" 
где:

- nCount, nTest - названия колонок в выходном файле
- sID_UserTask, sAssignedLogin - ID таски в бизнес процессе и пользователь, на которого заассайнена таска, соответственно

Пример: https://alpha.test.region.igov.org.ua/wf/service/action/task/download_bp_timing?sID_BP_Name=_test_queue_cancel&sDateAt=2015-04-01&sDateTo=2015-10-31&saFields="nCount=(sID_UserTask=='usertask1'?1:0);nTest=(sAssignedLogin=='kermit'?1:0)"

Результат:

```
"nID_Process","sLoginAssignee","sDateTimeStart","nDurationMS","nDurationHour","sName","bankIdPassport","bankIdfirstName","bankIdlastName","bankIdmiddleName","biometrical","date_of_visit","date_of_visit1","email","finish","have_passport","initiator","phone","urgent","visitDate","nCount","nTest"
"5207501","kermit","2015-09-25:12-18-28","1433990","0","обробка дмс","АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЇНИ В ДНІПРОПЕТРОВСЬКІЙ ОБЛАСТІ 18.03.2002","ДМИТРО","ДУБІЛЕТ","ОЛЕКСАНДРОВИЧ","attr1_no","2015-10-09 09:00:00.00","dd.MM.yyyy HH:MI","nazarenkod1990@gmail.com","attr1_ok","attr1_yes","","38","attr1_no","{""nID_FlowSlotTicket"":27764,""sDate"":""2015-10-09 09:00:00.00""}","0.0","1.0"
"5215001","kermit","2015-09-25:13-03-29","75259","0","обробка дмс","АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЇНИ В ДНІПРОПЕТРОВСЬКІЙ ОБЛАСТІ 18.03.2002","ДМИТРО","ДУБІЛЕТ","ОЛЕКСАНДРОВИЧ","attr1_no","2015-10-14 11:15:00.00","dd.MM.yyyy HH:MI","nazarenkod1990@gmail.com","attr1_ok","attr1_yes","","38","attr1_no","{""nID_FlowSlotTicket"":27767,""sDate"":""2015-10-14 11:15:00.00""}","0.0","1.0"
"5215055","dn200986zda","2015-09-25:13-05-22","1565056","0","обробка дмс","АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЇНИ В ДНІПРОПЕТРОВСЬКІЙ ОБЛАСТІ 18.03.2002","ДМИТРО","ДУБІЛЕТ","ОЛЕКСАНДРОВИЧ","attr1_no","2015-09-28 08:15:00.00","dd.MM.yyyy HH:MI","dmitrij.zabrudskij@privatbank.ua","attr2_missed","attr1_yes","","38","attr1_no","{""nID_FlowSlotTicket"":27768,""sDate"":""2015-09-28 08:15:00.00""}","0.0","0.0"

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP_Name|ИД бизнес процесса|true|string|
|QueryParameter|sDateAt|дата начала периода выборки|true|string (date-time)|
|QueryParameter|sDateTo|дата окончания периода выборки|false|string (date-time)|
|QueryParameter|nRowStart|позиция начальной строки для возврата (0 по умолчанию)|false|integer (int32)|
|QueryParameter|nRowsMax|количество записей для возврата (1000 по умолчанию)|false|integer (int32)|
|QueryParameter|bDetail|если да, то выгружать все поля тасок, иначе -- только основные (по умолчанию да)|false|boolean|
|QueryParameter|saFieldSummary|сведение полей, которое производится над выборкой|false|string|
|QueryParameter|saFields|вычисляемые поля (название поля -- формула)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/vnd.ms-excel

==== Вызов сервиса уточнения полей формы
----
POST /action/task/setTaskQuestions
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Вызов сервиса уточнения полей формы #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/setTaskQuestions?nID_Protected=nID_Protected&saField=saField&sMail=sMail


сервис запроса полей, требующих уточнения у гражданина, с отсылкой уведомления параметры:


при вызове сервиса:

- обновляется запись HistoryEvent_Service полем значениями из soData (из saField), sToken (сгенерированый случайно 20-ти символьный код), sHead, sBody (т.е. на этоп этапе могут быть ошибки, связанные с нахождением и апдейтом обьекта события по услуге)
- отсылается письмо гражданину на указанный емейл (sMail):
  с заголовком sHead,
  телом sBody
  перечисление полей из saField в формате таблицы: Поле / Тип / Текущее значение
  гиперссылкой в конце типа: https://[hostCentral]/order?nID_Protected=[nID_Protected]&sToken=[sToken]
- находитcя на региональном портале таска, которой устанавливается в глобальную переменные sQuestion содержимое sBody и saFieldQuestion - содержимое saField
- сохраняется информация о действии в Моем Журнале в виде
  По заявці №____ задане прохання уточнення: [sBody]
  плюс перечисление полей из saField в формате таблицы Поле / Тип / Текущее значение
- Пример: https://alpha.test.region.igov.org.ua/wf/service/action/task/setTaskQuestions?nID_Protected=52302969&saField=[{'id':'bankIdfirstName','type':'string','value':'3119325858'}]&sMail=test@email

Ответы: Пустой ответ в случае успешного обновления (и приход на указанный емейл письма описанного выше формата)

Возможные ошибки:

- не найдена заявка (Record not found) или ид заявки неверное (CRC Error)
- связанные с отсылкой письма, например, невалидный емейл (Error happened when sending email)
- из-за некорректных входящих данных, например неверный формат saField (пример ошибки: Expected a ',' or ']' at 72 [character 73 line 1])

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|true|integer (int64)|
|QueryParameter|sMail|строка электронного адреса гражданина|true|string|
|QueryParameter|sHead|строка заголовка письма|false|string|
|QueryParameter|sSubjectInfo|строка информация о субьекте|false|string|
|QueryParameter|nID_Subject|номер - ИД субьекта|false|integer (int64)|
|BodyParameter|sJsonBody|JSON-щбъект с параметрами: saField - строка-массива полей (required = true); soParams - строка-обьекта параметров (required = true); sBody - строка тела сообщения-коммента (общего) (required = false)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getTasks
----
GET /action/task/getTasks
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение списка всех тасок, которые могут быть доступны указанному логину #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=[sLogin]


- Возвращает список всех тасок, которые могут быть доступны указанному логину [sLogin] и которые уже заняты другими логинами, входящими во все те-же группы, в которые входит данный логин

Во время выполнения производит поиск групп, в которые входит указанный пользователь, и затем возвращает список задач, которые могут быть  заассайнены на пользователей из полученных групп:

Содержит следующие параметры:
- sLogin - логин пользователя. обязательный параметр, указывающий пользователя
- bIncludeAlienAssignedTasks - необязательный параметр (по умолчанию false). Если значение false - то возвращать только свои и только не ассайнутые, к которым доступ.
- sSortBy - тип сортировки задач. Необязательный параметр. По умолчанию 'taskCreateTime'. Допустимые значения 'taskCreateTime', для вкладки задач 'datePlan', 'executionTime'
- nSize - Количество задач в результате. Необязательный параметр. По умолчанию 10.
- nStart - Порядковый номер первой задачи для возвращения. Необязательный параметр. По умолчанию 0
- sFilterStatus - Необязательный параметр (по умолчанию обрабатывается как OpenedUnassigned). статус фильтрации задач, у которого возможные значения: OpenedUnassigned (только не-ассайнутые),  OpenedAssigned(только ассайнутые), Opened(только открытые (не в истории)), Closed(только закрытые (история))
- bIncludeDeleted - включая удаленные документыПримеры:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=kermit

https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasks?sLogin=kermit&nSize=15&nStart=10



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|sOrderBy|sOrderBy|false|string|
|QueryParameter|nSize|nSize|false|integer (int32)|
|QueryParameter|nStart|nStart|false|integer (int32)|
|QueryParameter|sFilterStatus|sFilterStatus|false|string|
|QueryParameter|sSortBy|sSortBy|false|string|
|QueryParameter|bIncludeVariablesProcess|bIncludeVariablesProcess|false|boolean|
|QueryParameter|bIncludeDeleted|bIncludeDeleted|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskDataResultVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /closeProcess
----
GET /action/task/closeProcess
----

===== Description
:hardbreaks:
##### Закрытие всех инстансов бизнес-процесса#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Process_Def|ид бизнес-процесса|true|string|
|QueryParameter|nLimitCountRowDeleted|лимит количества заявок для удаления|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== mergeVariableValueOnProcessInstance
----
GET /action/task/mergeVariable
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|processInstanceId|processInstanceId|true|string|
|QueryParameter|key|key|true|string|
|QueryParameter|removeValues|removeValues|false|multi string array|
|QueryParameter|insertValues|insertValues|false|multi string array|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обработка изменения статуса документа в УкрДок
----
POST /action/task/callback/ukrdoc
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Обработка изменения статуса документа в УкрДок #####

Request:

https://alpha.test.igov.org.ua/wf/service/action/task/callback/ukrdoc


Метод выполняет следующие действия:
 - получает текущий статус документа из тега data -> docStateEvent -> state -> current 
 - получает номер документа из тега data -> docStateEvent -> tables -> CardsDocument -> CarIdDocument 
 - ищет процесс, с которым связан данный документ используя сущность ActionTaskLink. Если сущности такой еще нет - то производится поиск  по переменной процесса sID_Document, которая устанавливается при отправке документа в УкрДок, и осуществляется сохранение сущности ActionTaskLink
 - после нахождения текущей активной задачи статус из УкрДока записывается в переменную sID_Document_UkrDoc задачи
 - завершает текущую задачу. для следующей активной задачи ответственным назначает пользователя завершенной задачи. Если пользователя не было - то задача остается без активного пользователя
В теле запроса передается объект с информацией об изменении:
Образец документа:

```json
"create_time": "2016.02.05 12:51:21",
"change_time": "2016.02.05 12:51:21",
"node_prev_id": "56b0b33edfb2840b2a5644c2",
"status": "processed",
"user_id": 5850,
"data": {
    "docStateEvent": {
            "state": {
                    "current": "Не завизирован",
                    "previous": "Создан"
            },
            "pk": {
                    "id": 6569546,
                    "year": 2016
            },
            "tables": {
                    "Executors": {
                            "body": [
                                    [
                                            "DD100262LVI",
                                            null,
                                            null,
                                            "2",
                                            1,
                                            0,
                                            null,
                                            null,
                                            null,
                                            null,
                                            "0",
                                            null
                                    ]
                            ],
                            "head": {
                                    "IdAddedMethod": 11,
                                    "Lightning": 10,
                                    "ExecutData": 9,
                                    "ControlDate": 8,
                                    "AttentionExecutData": 7,
                                    "InitData": 6,
                                    "KindOrder": 5,
                                    "VisOrder": 4,
                                    "KindExecutor": 3,
                                    "peo_peo_ldap_login": 2,
                                    "io_peo_ldap_login": 1,
                                    "peo_ldap_login": 0
                            }
                    },
                    "PunctAttending": {
                            "DataPunctAttending": "2016-02-05 12:51:20",
                            "NamePunctAttending": "Создание",
                            "peo_ldap_login": "DD100262LVI"
                    },
                    "CardsDocument": {
                         "Invizible": null,
                         "LastCoordDate": null,
                         "DocCreateData": null,
                         "CoordBonDays": null,
                         "Flavor": null,
                         "IdPetm": null,
                         "Lightning": "0",
                         "Locale": "RU",
                         "DocLastModifData": "2016-02-05 12:51:20",
                         "CoordRtrnDate": "2016-02-05 12:51:20",
                         "Prioritet": "Обычный",
                         "ClassId": "a",
                         "IdKindDoc": 19,
                         "IdKindIncomming": 0,
                         "IdGroup": 1,
                         "DocumentName": "Акт перерахунку сумки",
                         "NumberDocument": "0",
                         "CarIdDocument": 6569546,
                         "IdActivity": 4842,
                         "IdXMLT": 8223,
                         "peo_peo_ldap_login": "DD100262LVI",
                         "peo_ldap_login": "DD100262LVI",
                         "IdAttending": 6569544
                 }
         },
         "uniq": 5777275,
         "dlm": "2016-02-05 12:51:20"
    },
    "__conveyor_copy_task_result__": "ok"
  }
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|event|event|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== DeleteProcess
----
DELETE /action/task/delete-process-list
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: описания нет #####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sanID_Process|sanID_Process|true|string|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sReason|sReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getTasksByAssigneeGroup
----
GET /action/task/groups/{group}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|group|ИД авторизированого субъекта (добавляется в запрос автоматически после аутентификации пользователя)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskAssigneeI>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /getAnswer_DFS_New
----
GET /action/task/getAnswer_DFS_New
----

===== Description
:hardbreaks:
##### Получение ответов по процессам ДФС#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|INN|ИНН|true|string|
|QueryParameter|snCountYear|Порядковый номер документа в году|true|string|
|QueryParameter|sID_Process|ИНН|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных по таске
----
GET /action/task/getTaskData
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Сервис получения данных по таске #####

Request:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getTaskData?nID_Task=nID_Task&sID_Order=sID_Order


Response:

```json
{
  "sStatusName": название юзертаски
  "sID_Status": ИД юзертаски
  "sDateTimeCreate": дата и время создания юзертаски
  "oProcess":{
    "sName":"название услуги (БП)"
    "sBP":"id-бизнес-процесса (БП)"
    "nID":"номер-ИД процесса"
    "sDateCreate":"дата создания процесса"
  },
  "aField":[...] - массив объектов полей Таски с их атрибутами
  "oData":{...} - oбъекты электронной очереди Таски либо значение NULL, если элементов электронной очереди в таске нет
 ... другие опциональные объекты: aGroup, aFieldStartForm, aAttachment и aMessage
}

```

Элементы массива aField обычно имеют следующую структуру:
 - для активных тасок:

```json
{
  "id": идентификатор, используемый для передачи данных в форму таски
  "name": отображаемое в форме описание поля
  "type": объект типа параметра
  "value": значение параметра
  "required": свойство указывает, что поле параметра обязательно для ввода значения
  "writable": свойство указывает, что от пользователя ожидаются введенные данные в поле при отправке формы
  "readable": свойство указывает на возможность отображения параметра и его обработки методами сервисов
}

```
 - для архивных тасок:

```json
{
  "id": идентификатор параметра
  "value": представленное значение
}

```



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Task|номер-ИД таски (обязательный)|false|integer (int64)|
|QueryParameter|nID_Process|номер-ИД процесса (опциональный, но обязательный если не задан nID_Task и sID_Order)|false|integer (int64)|
|QueryParameter|sID_Order|номер-ИД заявки (опциональный, но обязательный если не задан nID_Task и nID_Process)|false|string|
|QueryParameter|nID_Order|номер-ИД заявки (опциональный, но обязательный если не задан nID_Task и nID_Process и sID_Order)|false|integer (int64)|
|QueryParameter|isHistory|искомая задача находится в истории|false|boolean|
|QueryParameter|sLogin|(опциональный) логин, по которому проверяется вхождение пользователя в одну из групп, на которые распространяется данная задача|true|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|bIncludeGroups|(опциональный) если задано значение true - в отдельном элементе aGroup возвращается массив отождествленных групп, на которые распространяется данная задача|false|boolean|
|QueryParameter|bIncludeStartForm|(опциональный) если задано значение true - в отдельном элементе aFieldStartForm возвращается массив полей стартовой формы|false|boolean|
|QueryParameter|bIncludeAttachments|(опциональный) если задано значение true - в отдельном элементе aAttachment возвращается массив элементов-объектов Attachment (без самого контента)|false|boolean|
|QueryParameter|bIncludeProcessVariables|(опциональный) если задано значение false - в элементе aProcessVariables не возвращается массив переменных процесса|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /startProcess
----
POST /action/task/startProcess
----

===== Description
:hardbreaks:
##### Старт процесса#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|sID_BP|sID_BP|true|string|
|QueryParameter|nID_Subject|nID_Subject|true|integer (int64)|
|QueryParameter|nID_Service|nID_Service|true|integer (int64)|
|QueryParameter|nID_ServiceData|nID_ServiceData|true|integer (int64)|
|QueryParameter|sID_UA|sID_UA|true|string|
|BodyParameter|sJsonBody|JSON-щбъект с заполненными полями заполненной стартформы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== /setDocument
----
GET /action/task/setDocument
----

===== Description
:hardbreaks:
##### Создание документа (позже будет заменен на универсальній сервис /setProcess)#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|sID_BP|sID_BP|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Промежуточный сервис отмены задачи (в т.ч. электронной очереди)
----
POST /action/task/taskCancelNew
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|номер-ИД процесса (с контрольной суммой)|true|integer (int64)|
|QueryParameter|sInfo|Строка с информацией (причиной отмены)|false|string|
|QueryParameter|bSimple|Простой вариант отмены (без электронной очереди)|false|boolean|
|QueryParameter|sAccessKey|ключ для аутентификации|false|string|
|QueryParameter|sAccessContract|тип доступа|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/html;charset=UTF-8

==== Промежуточный сервис отмены задачи (в т.ч. электронной очереди)
----
GET /action/task/taskCancelNew
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|номер-ИД процесса (с контрольной суммой)|true|integer (int64)|
|QueryParameter|sInfo|Строка с информацией (причиной отмены)|false|string|
|QueryParameter|bSimple|Простой вариант отмены (без электронной очереди)|false|boolean|
|QueryParameter|sAccessKey|ключ для аутентификации|false|string|
|QueryParameter|sAccessContract|тип доступа|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/html;charset=UTF-8

==== Сервис получения значения переменной процесса
----
GET /action/task/getProcessVariableValue
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Сервис получения значения переменной процесса #####

Request:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getProcessVariableValue?nID_Process=[nID_Process]&sVariableName=[sVariableName]


nID_Process - ID процесса, в котором искать переменную
sVariableName - имя переменной, значение которой необходимо вернуть
Пример: https://test.region.igov.org.ua/wf/service/action/task/getProcessVariableValue?nProcessID=8965001&sVariableName=phone
Response:

```json
  {"phone":"+380 50 960 0041"}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ID процесса|true|string|
|QueryParameter|sVariableName|Название переменнной процесса значение которой необходимо найти|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Удаление назначенного пользователя с задачи по ИД.
----
POST /action/task/resetUserTaskAssign
----

===== Description
:hardbreaks:
#####  Request:
https://alpha.test.region.igov.org.ua/wf/service/action/task/resetUserTaskAssign

- nID_UserTask=24
Response if task assigned: HTTP STATUS 200


```json
{}

```
Response if task is not assigned: HTTP STATUS 200


```json
{"Not assigned UserTask"}


```
Response if task not found: HTTP STATUS 403 Forbidden


```json
{
"code": "BUSINESS_ERR"
"message": "Record not found"
}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_UserTask|номер-ИД юзертаски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Таска занята или же нет|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Запись о таске не найдена|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Вызов сервиса ответа по полям требующим уточнения
----
POST /action/task/setTaskAnswer
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Вызов сервиса ответа по полям требующим уточнения #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/setTaskAnswer?nID_Protected=nID_Protected&saField=saField&sToken=sToken&sBody=sBody


- обновляет поля формы указанного процесса значениями, переданными в параметре saField Важно:позволяет обновлять только те поля, для которых в форме бизнес процесса не стоит атрибут writable="false"

Во время выполнения метод выполняет такие действия:

- Находит в сущности HistoryEvent_Service нужную запись (по nID_Protected) и сверяет токен. Eсли токен в сущности указан но не совпадает с переданным, возвращается ошибка "Token wrong". Если он в сущности не указан (null) - возвращается ошибка "Token absent".
- Находит на региональном портале таску и устанавливает в глобальную переменную sAnswer найденной таски содержимое sBody.
- Устанавливает в каждое из полей из saField новые значения
- Обновляет в сущности HistoryEvent_Service поле soData значением из saField и поле sToken значением null.
- Сохраняет информацию о действии в Мой Журнал (Текст: На заявку №____ дан ответ гражданином: [sBody])

Примеры:

https://alpha.test.region.igov.org.ua/wf/service/action/task/setTaskAnswer?nID_Protected=54352839&sToken=93ODp4uPBb5To4Nn3kY1

в body передаем строку: "[{%27id%27:%27bankIdinn%27,%27type%27:%27string%27,%27value%27:%271234567890%27}]"

Ответы: Пустой ответ в случае успешного обновления

Токен отсутствует


```json
{"code":"BUSINESS_ERR","message":"Token is absent"}


```
Токен не совпадает со значением в HistoryEvent_Service

```json
{"code":"BUSINESS_ERR","message":"Token is absent"}


```
Попытка обновить поле с атрибутом writable="false"

```json
{"code":"BUSINESS_ERR","message":"form property 'bankIdinn' is not writable"}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|integer (int64)|
|BodyParameter|saField|saField - строка-массива полей|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сервис смены пароля пользователя в Activity
----
POST /action/task/changePassword
----

===== Description
:hardbreaks:
#### Примеры 
Request: 
https://alpha.test.igov.org.ua/wf/service/action/task/changePassword
sLoginOwner=kermit
sPasswordOld=kermit
sPasswordNew=kermit1
Response: Ok, 200 

 ```json
{
"userId":"kermit",
"userEmail":"kermit@activiti.org",
"userFirstName":"Kermit",
"userLastName":"The Frog"
}

```

Wrong sPasswordOld
Request:
https://alpha.test.igov.org.ua/wf/service/action/task/changePassword
sLoginOwner=kermit
sPasswordOld=kermit45
sPasswordNew=kermit1
Response: Forbidden 403

 ```json
{
"code":"BUSINESS_ERR",
"message":"Password kermit45 is wrong"
}

```

Wrong sLogin
Request:
https://alpha.test.igov.org.ua/wf/service/action/task/changePassword
sLoginOwner=kermit45
sPasswordOld=kermit
sPasswordNew=kermit1
Response: Forbidden 403

 ```json
{
"code":"BUSINESS_ERR",
"message":"Error! user has not been found"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLoginOwner|Строка логин пользователя, меняющего пароль|true|string|
|BodyParameter|sPasswords|JSON-cnрока с двумя параметрами: sPasswordOld - Строка старый пароль; sPasswordNew - Строка новый пароль|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== removeListBP
----
GET /action/task/removeListBP
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|строка-ИД БП //опциональный фильтр, иначе все|false|string|
|QueryParameter|sFieldType|строка-типа поля //опциональный фильтр, иначе все|false|string|
|QueryParameter|sID_Field|строка-ИД поля //опциональный фильтр, иначе все|false|string|
|QueryParameter|sVersion|строка-версия БП //опциональный фильтр, иначе все|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setVariableToProcessInstanceUsingPost
----
POST /action/task/setVariable
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|allRequestParamsStr|allRequestParamsStr|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* text/plain

===== Produces

* */*

==== setVariableToProcessInstance
----
GET /action/task/setVariable
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|processInstanceId|processInstanceId|true|string|
|QueryParameter|key|key|true|string|
|QueryParameter|value|value|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Поиск заявок по тексту (в значениях полей без учета регистра)
----
GET /action/task/getTasksByText
----

===== Description
:hardbreaks:
##### Примеры:
https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasksByText?sFind=будинк

```json
["4637994","4715238","4585497","4585243","4730773","4637746"]

```
https://test.region.igov.org.ua/wf/service/action/task/getTasksByText?sFind=будинк&sLogin=kermit

```json
["4637994","4715238","4585243","4730773","4637746"]

```
https://test.region.igov.org.ua/wf/service/action/task/getTasksByText?sFind=будинк&sLogin=kermit&bAssigned=false

```json
["4637994","4637746"]

```
https://test.region.igov.org.ua/wf/service/action/task/getTasksByText?sFind=будинк&sLogin=kermit&bAssigned=true

```json
["4715238","4585243","4730773"]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|строка текст для поиска в полях заявки|true|string|
|QueryParameter|sLogin|строка необязательный параметр. При указании выбираются только таски, которые могут быть заассайнены или заассайнены на пользователя sLogin|false|string|
|QueryParameter|bAssigned|булево значение необязательный параметр. Указывает, что нужно искать по незаассайненным таскам (bAssigned=false) и по заассайненным таскам(bAssigned=true) на пользователя sLogin|false|string|
|QueryParameter|bSortByStartDate|булево значение необязательный параметр. Если true - будет выполнена сортировка по дате|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|возвращает список ID тасок у которых в полях встречается указанный текст|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка полей бизнес процессов, к которым у пользователя есть доступ
----
GET /action/task/getFields
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение списка полей бизнес процессов к которым у пользователя есть доступ #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getFields?sLogin=userId

Метод возвращает json со списком полей бизнес процессов, к которым у пользователя есть доступ, в формате:

```json
[
  {
    "sID": "ID field value", "sName": "[name of the field]", "sID_Type": "[type of the field]"
  },
  {
    "sID": "ID field value", "sName": "[name of the field]", "sID_Type": "[type of the field]"
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин пользователя|true|string|
|QueryParameter|bDocOnly|Выводить только список БП документов|false|boolean|
|QueryParameter|sProcessDefinitionId|ИД БП (без версионности)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Получения обьекта-записи линка
----
GET /action/task/getLink
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Сервис получения обьекта-записи линка #####

Request:

https://alpha.test.igov.org.ua/wf/service/action/task/getLink?sKey=sKey&nID_Subject_Holder=nID_Subject_Holder


Response:

```json
  {"sKey":"Cтрока-ключ",       "nID":ИД обьекта,       "nID_Process":ИД бизнес процесса,       "nID_Subject_Holder":ИД субьекта-хранителя    }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД бизнес процесса|false|integer (int64)|
|QueryParameter|sKey|Cтрока-ключ|true|string|
|QueryParameter|nID_Subject_Holder|ИД субьекта-хранителя|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ActionTaskLink>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== GetTaskFormData
----
GET /action/task/getTaskFormData
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: описания нет #####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Task|номер-ИД задачи|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение вкладки таски
----
GET /action/task/getTaskTab
----

===== Description
:hardbreaks:
##### ActionCommonTaskController: Получение вкладки таски#####
https://alpha.test.region.igov.org.ua/wf/service/action/task/getTaskTab

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Task|snID_Task|false|string|
|QueryParameter|sID_Group_Activiti|sID_Group_Activiti|true|string|
|QueryParameter|sID_Order|sID_Order|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Загрузка данных по задачам
----
GET /action/task/downloadTasksData
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Загрузка данных по задачам #####

HTTP Context: https://server:port/wf/service/action/task/downloadTasksData


Загрузка полей по задачам в виде файла.

Поля по умолчанию, которые всегда включены в выборку:
- nID_Task - "id таски"
- sDateCreate - "дата создания таски" (в формате sDateCreateFormat)


```
asField_Filter=[sFormulaFilter_Export] - остается неизменным, формула отбора прописывается в файле wf-region/src/main/resources/data/SubjectRightBP.csv 
asID_Group_Export - группа, которой предоставляется право выгрузки статистики.
sFormulaFilter_Export - условие отбора статистики.
sLogin=bvpd_dnipro2 - логин пользователя, принадлежащего к выбранной группе.
saFields - здесь прописываются поля, которые должны быть выгружены в статистику в формате ${ID поля}.
если будет необходимо выгрузить статистику прямо в файл, в конце можно дописать параметр
sFileName=[желаемое_имя_файла].csv
Особенности обработки полей:
- Если тип поля enum, то брать не его ИД пункта в энуме а именно значение Если тип поля enum, и в значении присутствует знак ";", то брать только то ту часть текста, которая находится справа от этого знака

Пример: https://alpha.test.region.igov.org.ua/wf/service/action/task/downloadTasksData?&sID_BP=dnepr_spravka_o_doxodax&sID_State_BP=usertask1&sDateAt=2015-06-01&sDateTo=2015-08-01&saFields=${nID_Task};${sDateCreate};${area};;;0;${bankIdlastName} ${bankIdfirstName} ${bankIdmiddleName};4;${aim};${date_start};${date_stop};${place_living};${bankIdPassport};1;${phone};${email}&sID_Codepage=win1251&nASCI_Spliter=18&sDateCreateFormat=dd.mm.yyyy hh:MM:ss&asField_Filter=[sFormulaFilter_Export]&sLogin=bvpd_dnipro2

Пример ответа:

```
1410042;16.32.2015 10:07:17;АНД (пров. Універсальний, 12);;;0;БІЛЯВЦЕВ ВОЛОДИМИР ВОЛОДИМИРОВИЧ;4;мета;16/07/2015;17/07/2015;мокешрмшгкеу;АЕ432204 БАБУШКИНСКИМ РО ДГУ УМВД 26.09.1996;1;380102030405;mendeleev.ua@gmail.com
995161;07.07.2015 05:07:27;;;;0;ДУБІЛЕТ ДМИТРО ОЛЕКСАНДРОВИЧ;4;для роботи;01/07/2015;07/07/2015;Дніпропетровська, Дніпропетровськ, вул. Донецьке шосе, 15/110;АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЙНИ В ДНИПРОПЕТРОВСЬКИЙ ОБЛАСТИ 18.03.2002;1;;ukr_rybak@rambler.ru

```
Формат поля saFieldsCalc - смотри сервис https://github.com/e-government-ua/i/blob/test/docs/specification.md#16-Получение-статистики-по-задачам-в-рамках-бизнес-процесса и параметр saFields
Пример запроса: https://alpha.test.region.igov.org.ua/wf/service/action/task/downloadTasksData?&sID_BP=dnepr_spravka_o_doxodax&bHeader=true&sID_State_BP=usertask1&sDateAt=2015-06-01&sDateTo=2015-10-01&saFieldsCalc=%22nCount=(sID_UserTask==%27usertask1%27?1:0);nTest=(sAssignedLogin==%27kermit%27?1:0)%22

Пример ответа (фрагмент):

```
;380970044803;ДМИТРО;;ОЛЕКСАНДРОВИЧ;;dd.MM.yyyy;Днепропетровск;;;3119325858;АМ765369 ЖОВТНЕВИМ РВ ДМУ УМВС УКРАЇНИ В ДНІПРОПЕТРОВСЬКІЙ ОБЛАСТІ 18.03.2002;0463;dd.MM.yyyy;;тест;;ДУБІЛЕТ;vidokgulich@gmail.com;1.0;1.0

```
Формат поля saFieldSummary - смотри сервис https://github.com/e-government-ua/i/blob/test/docs/specification.md#16-Получение-статистики-по-задачам-в-рамках-бизнес-процесса и параметр saFieldSummary
Пример запроса: https://alpha.test.region.igov.org.ua/wf/service/action/task/downloadTasksData?&sID_BP=dnepr_spravka_o_doxodax&bHeader=true&sID_State_BP=usertask1&sDateAt=2015-06-01&sDateTo=2015-10-01&saFieldSummary=email;nVisites=count()

Пример ответа:

```
vidokgulich@gmail.com;2
kermit;1
rostislav.siryk@gmail.com;4
rostislav.siryk+igov.org.ua@gmail.com;3

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|название бизнес-процесса|true|string|
|QueryParameter|sID_State_BP|состояние задачи, по умолчанию исключается из фильтра Берется из поля taskDefinitionKey задачи|false|string|
|QueryParameter|saFields|имена полей для выборкы разделенных через ';', чтобы добавить все поля можно использовать - '*' или не передевать параметр в запросе. Поле также может содержать названия колонок. Например, saFields=Passport\=${passport};{email}|false|string|
|QueryParameter|nASCI_Spliter|ASCII код для разделителя|false|string|
|QueryParameter|sFileName|имя исходящего файла, по умолчанию - data_BP-bpName_.txt"|false|string|
|QueryParameter|sID_Codepage|кодировка исходящего файла, по умолчанию - win1251|false|string|
|QueryParameter|sDateCreateFormat|форматирование даты создания таски, по умолчанию - yyyy-MM-dd HH:mm:ss|false|string|
|QueryParameter|sDateAt|начальная дата создания таски, по умолчанию - вчера|false|ref|
|QueryParameter|sDateTo|конечная дата создания таски, по умолчанию - сегодня|false|ref|
|QueryParameter|nRowStart|начало выборки для пейджирования, по умолчанию - 0|false|integer (int32)|
|QueryParameter|nRowsMax|размер выборки для пейджирования, по умолчанию - 1000|false|integer (int32)|
|QueryParameter|bIncludeHistory|включить информацию по хисторик задачам, по умолчанию - true|false|boolean|
|QueryParameter|bHeader|добавить заголовок с названиями полей в выходной файл, по умолчанию - false|false|boolean|
|QueryParameter|saFieldsCalc|настраиваемые поля (название поля -- формула, issue 907|false|string|
|QueryParameter|saFieldSummary|сведение полей, которое производится над выборкой (issue 916)|false|string|
|QueryParameter|sMailTo|Email для отправки выбранных данных|false|string|
|QueryParameter|sLogin|логин для вытаскивания фильтра|false|string|
|QueryParameter|asField_Filter|признак для получения фильтра|false|string|
|QueryParameter|sTaskEndDateAt|начальная дата закрытия таски|false|string (date-time)|
|QueryParameter|sTaskEndDateTo|конечная дата закрытия таски|false|string (date-time)|
|QueryParameter|bIncludeProcessVariables|если задано значение false - в элементе aProcessVariables не возвращается массив переменных процесса|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка ID пользовательских тасок по номеру заявки
----
GET /action/task/getTasksByOrder
----

===== Description
:hardbreaks:
##### Примеры:
https://alpha.test.region.igov.org.ua/wf/service/action/task/getTasksByOrder?nID_Order=123452

Response status 403.


```json
{"code":"BUSINESS_ERR","message":"CRC Error"}


```
https://test.region.igov.org.ua/wf/service/action/task/getTasksByOrder?nID_Order=123451

1) Если процесса с ID 12345 и тасками нет в базе то:

Response status 403.


```json
{"code":"BUSINESS_ERR","message":"Record not found"}


```
2) Если процесс с ID 12345 есть в базе с таской ID которой 555, то:

Response status 200.

```json
[ 555 ]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Order|число номер заявки|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Успех запроса. Если процесс с соответствующим ИД и таской найдены в базе|string array
|401|Unauthorized|No Content
|403|CRC Error или Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка бизнес процессов к которым у пользователя есть доступ
----
GET /action/task/getLoginBPs
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Получение списка бизнес процессов к которым у пользователя есть доступ #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/getLoginBPs?sLogin=userId

Метод возвращает json со списком бизнес процессов, к которым у пользователя есть доступ, в формате:

```json
[
  {
    "sID": "[process definition key]""sName": "[process definition name]"
  },
  {
    "sID": "[process definition key]""sName": "[process definition name]"
  }
]

```
Принадлежность пользователя к процессу проверяется по вхождению в группы, которые могут запускать usertask-и внутри процесса, или по вхождению в группу, которая может стартовать процесс

Пример:

https://alpha.test.region.igov.org.ua/wf/service/action/task/getLoginBPs?sLogin=kermit
Пример результата

```json
[
{
    "sID": "dnepr_spravka_o_doxodax",
    "sName": "Дніпропетровськ - Отримання довідки про доходи фіз. осіб"
  },
  {
    "sID": "dnepr_subsidies2",
    "sName": "Отримання субсидії на оплату житлово-комунальних послуг2"
  },
  {
    "sID": "khmelnitskij_mvk_2",
    "sName": "Хмельницький - Надання інформації, що підтверджує відсутність (наявність) земельної ділянки"
  },
  {
    "sID": "khmelnitskij_zemlya",
    "sName": "Заява про наявність земельної ділянки"
  },
  {
    "sID": "kiev_spravka_o_doxodax",
    "sName": "Київ - Отримання довідки про доходи фіз. осіб"
  },
  {
    "sID": "kuznetsovsk_mvk_5",
    "sName": "Кузнецовськ МВК - Узгодження графіка роботи підприємства торгівлі\/обслуговування"
  },
  {
    "sID": "post_spravka_o_doxodax_pens",
    "sName": "Отримання довідки про доходи (пенсійний фонд)"
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Обновление переменных задачи с ее опциональным завершением
----
POST /action/task/updateProcess
----

===== Description
:hardbreaks:
#####  ActionCommonTaskController: Обновление переменных задачи с ее опциональным завершением #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/action/task/updateProcess

POST Метод. Принимает параметр bSaveOnly. Если bSaveOnly=true - Только обновление переменных задачи. Если false - заверешение задачи после обновления переменных:
Метод принимает json в теле запроса со списком переменных для обновления и номером задачи:

```json
{
  "taskId" : "5",
  "properties" : [
  {
  "id" : "room",
  "value" : "normal"
  }
  ]
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|bSaveOnly|bSaveOnly|false|boolean|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|sLoginAssigne|sLoginAssigne|false|string|
|BodyParameter|sJsonBody|JSON-объект с заполненными полями заполненной стартформы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Получение сообщений по заявке
----
GET /action/task/getOrderMessages_Local
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

=== BackupController — Создание Бэкапа Данных Таблицы ActGeBytearray
:hardbreaks:
Backup Common Controller

==== Создание бэкапа для таблицы act_ge_bytearray
----
POST /backup/createBackup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/backup/createBackup


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|condition|Данные для создания бэкапа таблицы act_ge_bytearray по заданному условию|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<BackupResult>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных из таблицы act_ge_bytearray по заданному условию
----
GET /backup/getActGeBytearray
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/backup/getActGeBytearray?condition=!


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|condition|Условие для выборки |true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ActGeBytearray>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление записи из таблицы act_ge_bytearray
----
POST /backup/deleteActGeBytearray
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/backup/deleteActGeBytearray


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|id|Данные для удаления записи из таблицы act_ge_bytearray |true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<BackupResult>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание записи в act_ge_bytearray_backup
----
POST /backup/insertActGeBytearrayBackup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/backup/insertActGeBytearrayBackup


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|actGeBytearray|Данные для cоздание записи в act_ge_bytearray_backup |true|<<ActGeBytearray>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<BackupResult>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== DebugCommonController - Дебаг И Тест Общий
:hardbreaks:
Debug Common Controller

==== /test/action/getInfo
----
GET /test/action/getInfo
----

===== Description
:hardbreaks:
#####  DebugCommonController: 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_TestType|sID_TestType|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== /test/action/testSheduleBuilderFlowSlots
----
GET /test/action/testSheduleBuilderFlowSlots
----

===== Description
:hardbreaks:
#####  DebugCommonController: описания нет


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Flow_ServiceData|nID_Flow_ServiceData|false|integer (int64)|
|QueryParameter|nID_ServiceData|nID_ServiceData|false|integer (int64)|
|QueryParameter|sDateStart|sDateStart|false|string|
|QueryParameter|sDateStop|sDateStop|false|string|
|QueryParameter|bAll|bAll|false|boolean|
|QueryParameter|nDays|nDays|false|integer (int32)|
|QueryParameter|sOperation|sOperation|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /test/action/loadPayments
----
GET /test/action/loadPayments
----

===== Description
:hardbreaks:
#####  DebugCommonController: 


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /rest/tasks/cancelTask
----
POST /rest/tasks/cancelTask
----

===== Description
:hardbreaks:
#####  DebugCommonController:


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Protected|nID_Protected|true|integer (int64)|
|QueryParameter|sInfo|sInfo|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== /test/action/task/delete-processTest
----
GET /test/action/task/delete-processTest
----

===== Description
:hardbreaks:
#####  DebugCommonController: описания нет


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sProcessInstanceID|sProcessInstanceID|true|string|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sReason|sReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /test/sendAttachmentsByMail
----
GET /test/sendAttachmentsByMail
----

===== Description
:hardbreaks:
#####  DebugCommonController: описания нет


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sMailTo|sMailTo|false|string|
|QueryParameter|nID_Task|nID_Task|false|string|
|QueryParameter|sBody|sBody|false|string|
|QueryParameter|bHTML|bHTML|false|boolean|
|QueryParameter|naID_Attachment|naID_Attachment|false|string|
|QueryParameter|bUnisender|bUnisender|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== DictionaryController — Обработка Csv-файлов Без Бд
:hardbreaks:
Dictionary Common Controller

==== Обработка csv-файлов без бд
----
GET /dictionary/processDictionary
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/dictionary/processDictionary?sPath=mreo&sID_Field=sID&sValue=7 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sPath|sPath|true|string|
|QueryParameter|sID_Field|sID_Field|false|string|
|QueryParameter|sValue|sValue|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== DocumentCommonController -- Проверки Наложености ЭЦП По Строкам-подписантам
:hardbreaks:
Document Common Controller

==== Пометить документ как экстренный
----
GET /common/document/setDocumentUrgent
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group_Editor|группа|true|string|
|QueryParameter|sKey_Group_Urgent|группа делегирования|false|string|
|QueryParameter|sKey_Step|степ документа|false|string|
|QueryParameter|bUrgent|экстренность|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== /getDocumentStep
----
GET /common/document/getDocumentStep
----

===== Description
:hardbreaks:
##### Получение степ по документу#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|snID_Process_Activiti|true|string|
|QueryParameter|sKey_Step|sKey_Step|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStep>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение документов по ЕДРПОУ
----
GET /common/document/getListDocument
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOKPO|ЕДРПОУ|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Document>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /getValuesFromTableField
----
GET /common/document/getValuesFromTableField
----

===== Description
:hardbreaks:
Получение логинов по полю

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|snID_Process_Activiti|true|string|
|QueryParameter|sID_FieldTable|sID_FieldTable|true|string|
|QueryParameter|sID_FieldFromTable|sID_FieldFromTable|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== проверка все ли подписали документ
----
GET /common/document/isDocumentStepSubmitedAll
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД процесс-активити|true|string|
|QueryParameter|sKey_Step|Ключ шага документа|true|string|
|QueryParameter|bNeedECPCheck|Проверять подпись ЭЦП|true|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить согласующего
----
GET /common/document/addVisor
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_Group_Delegate|группа делегирования|true|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|nID_Task|ид таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStepSubjectRight>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Получение списка подписанных документов без ЕЦП
----
GET /common/document/getDocumentSubmitedUnsigned
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин сотрудника|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentSubmitedUnsignedVO>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Добавить согласующего
----
GET /common/document/addViewer
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_Group_Delegate|группа делегирования|true|string|
|QueryParameter|sKey_Step|степ документа|false|string|
|QueryParameter|nID_Task|ид таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStepSubjectRight>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Делегировать подписанта документа
----
GET /common/document/delegateDocumentStepSubject
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_Group_Delegate|группа делегирования|true|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|nID_Task|ид таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStepSubjectRight>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Отмена подписи на степе документа
----
GET /common/document/cancelDocumentSubmit
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|nID_Task|ид таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Удаление степов и процесса
----
GET /common/document/removeDocumentSteps
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sLogin|Логин референта, кто вызвал сервис|false|string|
|QueryParameter|sLogin|Группа в которую входит референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== /getDocumentStepRights
----
GET /common/document/getDocumentStepRights
----

===== Description
:hardbreaks:
##### Получение списка прав у логина по документу#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|nID_Process|nID_Process|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /common/document/isLoginConteinsOnDocumentSteps
----
GET /common/document/isLoginConteinsOnDocumentSteps
----

===== Description
:hardbreaks:
Проверка на содержание логина на других степах с заданным правом подписи

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|snID_Process_Activiti|true|string|
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|bWrite|bWrite|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|boolean
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавить согласующего
----
GET /common/document/addAcceptor
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_Group_Delegate|группа делегирования|true|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|nID_Task|ид таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStepSubjectRight>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Синхронизация сабмитеров на степе по полю 
----
GET /common/document/syncDocumentSubmitedsByField
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group_Default|группа - эталон/дэфолтная|true|string|
|QueryParameter|sID_Field|строка-ИД поля, в рамках значения/ний которого(логинов) пройдет синхронизация|true|string|
|QueryParameter|sID_FieldTable|строка-ИД таблицы, в рамках значения/ний которого(логинов) пройдет синхронизация|false|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|bReClone|перезаписать при совпадении|true|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Удаление подписанта документа
----
GET /common/document/removeDocumentStepSubject
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|true|string|
|QueryParameter|sKey_Group|группа|true|string|
|QueryParameter|sKey_GroupAuthor|группа того, кто выполняет удаление|false|string|
|QueryParameter|sKey_Step|степ документа|true|string|
|QueryParameter|bSubmit|после удаления: сабмитить  или нет|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== /getDocumentStepRights_test
----
GET /common/document/getDocumentStepRights_test
----

===== Description
:hardbreaks:
##### Получение списка прав у логина по документу#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|snID_Process_Activiti|nID_Process|true|string|
|QueryParameter|sKey_Step|sKey_Step|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentStepSubjectRight>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Отправка электронного письма всем владельцам прав на указанный шаг документа
----
GET /common/document/notifyAllDocumentStepOwnersViaEmail
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ID процесса|false|string|
|QueryParameter|sKey_Step|Шаг документа|false|string|
|QueryParameter|sHead|Заголовок имейла|false|string|
|QueryParameter|sContentKey|Переменная процесса содержимого имейла|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Отправка электронного письма владельцу прав на указанный шаг документа
----
GET /common/document/notifyDocumentStepOwnerViaEmail
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ID процесса|false|string|
|QueryParameter|sKey_Step|Шаг документа|false|string|
|QueryParameter|sOwnerID|Владелец прав на шаг документа, которому отправить письмо|false|string|
|QueryParameter|sHead|Заголовок имейла|false|string|
|QueryParameter|sContentKey|Переменная процесса содержимого имейла|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Клонирование подписанта-субьекта документа
----
GET /common/document/cloneDocumentStepSubject
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесс-активити|false|string|
|QueryParameter|sKeyGroupPostfix|группа|false|string|
|QueryParameter|sKeyGroupPostfix_New|новая группа|false|string|
|QueryParameter|sID_Step|степ документа|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== /getDocumentStepLogins
----
GET /common/document/getDocumentStepLogins
----

===== Description
:hardbreaks:
##### Получение списка прав у логина по документу#####



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|nID_Process|true|string|
|QueryParameter|bHistory|bHistory|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,object»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== DocumentImageController -- Накладывание ЭЦП На Независимые Документы
:hardbreaks:
Document Image Common Controller

==== Загрузка исходного файла-образа документа с сервера
----
GET /document/image/getDocumentImageFile
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД документа|true|integer (int64)|
|QueryParameter|sSecret|Ключ доступа к скачиванию|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|Скачивание файла|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|{"code":"BUSINESS_ERR","message":"DocumentImageFile with nID = [value] not found"}|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить подпись к документу
----
GET /document/image/removeDocumentImageFileSign
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sSign|Строка с подписью|true|string|
|QueryParameter|nID_DocumentImageFile|ИД документа|true|integer (int64)|
|QueryParameter|sSecret_DocumentImageFile|Ключ доступа|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentImageFileVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение информации о файле-образе документа
----
GET /document/image/getDocumentImageFileVO
----

===== Description
:hardbreaks:
Пример использования:
http://alpha.test.region.igov.org.ua/wf/service/document/image/getDocumentImageFile?nID=[nIDValue]&sSecret=[sSecret]
В ответ:
{"sURL":"val","nID":val,"sSecret":"val","sHash":"val","sKey_File":"val","sID_FileStorage":"MongoDB","sFileType":"application/pdf","sFileExtension":"pdf","nBytes":99,"sDateSave":"val","aDocumentImageFileSign":[{"sSign":"val","sSignData_JSON":"{\"sClass\":{\"sName\":\"sNameValue\",\"sNote\":\"sNoteValue\"}}","nID":1}]}Если не найден:
{"code":"BUSINESS_ERR","message":"DocumentImageFile with nID = [id] not found"}

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД документа|true|integer (int64)|
|QueryParameter|sSecret|Ключ доступа к мета-данным|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentImageFileVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранить подпись к документу
----
GET /document/image/setDocumentImageFileSign
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_DocumentImageFile|ИД документа|true|integer (int64)|
|QueryParameter|sSecret_DocumentImageFile|Ключ доступа|true|string|
|QueryParameter|sSign|Строка с подписью|true|string|
|QueryParameter|sID_SignType|Строковый ID типа подписи|false|string|
|QueryParameter|sSignData_JSON|Строка-JSON-обьект с данными ЭЦП субьекта|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentImageFileVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Отправка исходного файла-образа документа на сервер
----
POST /document/image/setDocumentImageFile
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Token|Строка-ИД токена, по которому был открыт доступ на загрузку|false|string|
|FormDataParameter|file|Отсылаемый документ|true|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DocumentImageFileVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

=== ECPCommonController -- Наложение Электронной Подписи
:hardbreaks:
ECP Common Controller

==== /applySelf
----
POST /ecp/applySelf
----

===== Description
:hardbreaks:
##### Накладівание своей ЄЦП. Файл передается в теле запроса (POST) с именем параметра file. Примеры:
https://alpha.test.igov.org.ua/wf/service/ecp/applySelf

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|FormDataParameter|file|file|true|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

==== /applyCustom
----
POST /ecp/applyCustom
----

===== Description
:hardbreaks:
#####Накладівание кастомной ЄЦП.  Файл передается в теле запроса (POST) с именем параметра file. Примеры:
https://alpha.test.igov.org.ua/wf/service/ecp/applyCustom

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|FormDataParameter|file|file|true|file|
|FormDataParameter|file|file|true|file|
|FormDataParameter|file|file|true|file|
|QueryParameter|file|file|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

=== EmailCommonController — Отправление Сообщений
:hardbreaks:
Email Common Controller

==== Отправление сообщения исполнителю и контролирующему
----
GET /action/email/sendEmail_createTask
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLoginTo|логин получателя|true|string|
|QueryParameter|sBody|текст замечания|true|string|
|QueryParameter|sExecutors|список исполнителей|false|string|
|QueryParameter|dDate|срок|true|string (date-time)|
|QueryParameter|nID_Process_Activiti|номер|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Отправление сообщения с заменчанием
----
GET /action/email/sendEmail_comment
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process_Activiti|ид процесса|true|integer (int64)|
|QueryParameter|sKeyGroup|sKeyGroup|true|string|
|QueryParameter|sKeyGroup_Author|sKeyGroup_Author|true|string|
|QueryParameter|sBody|текст замечания|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ExportCommonController -- Вызов Стороннего АПИ
:hardbreaks:
Export Common Controller

==== /agroholding/transferDocumentVacation
----
GET /export/agroholding/transferDocumentVacation
----

===== Description
:hardbreaks:
##### Экспорт документа о отпуске в агрофирму. Примеры:
https://alpha.test.igov.org.ua/wf/service/export/agroholding/transferDocumentVacation

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== FinanceCommonController -- Финансы Общие (в Т.ч. Платежи)
:hardbreaks:
Finance Common Controller

==== /setPaymentStatus_TaskActiviti_Direct
----
GET /finance/finance/setPaymentStatus_TaskActiviti_Direct
----

===== Description
:hardbreaks:
##### Контроллер платежей. Регистрация проведенного платежа - по прямому вызову


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Order|Строка-ИД заявки|true|string|
|QueryParameter|sID_PaymentSystem|Строка-ИД платежной системы|true|string|
|QueryParameter|sData|Строка со вспомогательными данными|true|string|
|QueryParameter|sPrefix|Cтрока-префикс платежа (если их несколько в рамках заявки)|false|string|
|QueryParameter|sID_Transaction|Строка-ИД транзакции|true|string|
|QueryParameter|sStatus_Payment|Строка-статуса платежа|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== /setPaymentStatus_TaskActiviti
----
POST /finance/setPaymentStatus_TaskActiviti
----

===== Description
:hardbreaks:
##### Контроллер платежей. Регистрация проведенного платежа - по колбэку от платежной системы


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Order|Строка-ИД заявки|true|string|
|QueryParameter|sID_PaymentSystem|Строка-ИД платежной системы|true|string|
|QueryParameter|sData|Строка со вспомогательными данными|true|string|
|QueryParameter|sPrefix|Строка-префикс платежа (если их несколько в рамках заявки)|false|string|
|BodyParameter|data|Строка-Данные от платежной системы|false|string|
|QueryParameter|signature|Строка-Подпись платежной системы|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Удаление элемента по обязательно заданному одному из параметров
----
GET /finance/removeCurrency
----

===== Description
:hardbreaks:
http://search.ligazakon.ua/l_doc2.nsf/link1/FIN14565.html[Источник данных]
Пример запроса:
https://alpha.test.igov.org.ua/wf/service/finance/removeCurrency?sID_UA=050


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|внутренний ИД-номер (уникальный; если sID_UA задан и по нему найдена запись)|false|integer (int64)|
|QueryParameter|sID_UA|ИД-номер Код, в украинском классификаторе (уникальный; если nID задан и по нему найдена запись)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает список валют, подпадающих под параметры
----
GET /finance/getCurrencies
----

===== Description
:hardbreaks:
http://search.ligazakon.ua/l_doc2.nsf/link1/FIN14565.html[Источник данных]
Пример запроса: https://alpha.test.igov.org.ua/wf/service/finance/getCurrencies?sID_UA=004
Пример ответа:

```json
{
    "sID_UA"       : "004",
    "sName_UA"     : "Афґані",
    "sName_EN"     : "Afghani",
    "nID"          : 1
    "sID_Currency" : "AFA"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_UA|ИД-номер Код, в украинском классификаторе|false|string|
|QueryParameter|sName_UA|строка-название на украинском|false|string|
|QueryParameter|sName_EN|строка-название на английском|false|string|
|QueryParameter|sID_Currency|Международный строковой трехсимвольный код валюты|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Currency>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /redirectPaymentLiqpay
----
GET /finance/finance/redirectPaymentLiqpay
----

===== Description
:hardbreaks:
##### Получение URL-а и параметров для отправки платежа через POST-запрос


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Merchant|Строка-ИД Мерчанта|true|string|
|QueryParameter|sSum|Сумма (разделитель копеек - точка)|false|string|
|QueryParameter|sID_Order|Строка-ИД заявки-платежа|false|string|
|QueryParameter|sDescription|Описание платежа|false|string|
|QueryParameter|sID_Currency|ИД валюты (3 символа)|false|string|
|QueryParameter|sURL_CallbackStatusNew|sURL_CallbackStatusNew|false|string|
|QueryParameter|sURL_CallbackPaySuccess|sURL_CallbackPaySuccess|false|string|
|QueryParameter|nID_Subject|номер-ИД субьекта|true|integer (int64)|
|QueryParameter|sExpired_Period_Hour|количество часов актуальности платежа|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== /setPaymentStatus_TaskActiviti
----
POST /finance/finance/setPaymentStatus_TaskActiviti
----

===== Description
:hardbreaks:
##### Контроллер платежей. Регистрация проведенного платежа - по колбэку от платежной системы


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Order|Строка-ИД заявки|true|string|
|QueryParameter|sID_PaymentSystem|Строка-ИД платежной системы|true|string|
|QueryParameter|sData|Строка со вспомогательными данными|true|string|
|QueryParameter|sPrefix|Строка-префикс платежа (если их несколько в рамках заявки)|false|string|
|BodyParameter|data|Строка-Данные от платежной системы|false|string|
|QueryParameter|signature|Строка-Подпись платежной системы|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Обновляет запись валюты
----
GET /finance/setCurrency
----

===== Description
:hardbreaks:
обновляет запись (если задан один из параметров: nID, sID_UA; и по нему найдена запись) или вставляет (если не задан nID), и отдает экземпляр нового объекта

http://search.ligazakon.ua/l_doc2.nsf/link1/FIN14565.html[Источник данных]
Пример добавления записи:
https://alpha.test.igov.org.ua/wf/service/finance/setCurrency?sID_UA=050&sName_UA=Така&sName_EN=Taka&sID_Currency=BDT
Пример обновления записи:
https://alpha.test.igov.org.ua/wf/service/finance/setCurrency?sID_UA=050&sName_UA=Така


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|внутренний ИД-номер (уникальный; если sID_UA задан и по нему найдена запись)|false|integer (int64)|
|QueryParameter|sID_UA|ИД-номер Код, в украинском классификаторе (уникальный; если nID задан и по нему найдена запись)|false|string|
|QueryParameter|sName_UA|строка-название на украинском (уникальный; если nID задан и по нему найдена запись)|false|string|
|QueryParameter|sName_EN|строка-название на английском (уникальный; если nID задан и по нему найдена запись)|false|string|
|QueryParameter|sID_Currency|международный строковой трехсимвольный код валюты (уникальный; если nID задан и по нему найдена запись)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Currency>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== HistoryEvent
:hardbreaks:
История документов/задач

==== Получение истории по документу/задаче
----
GET /action/event/getHistoryEventsByProcess
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.idoc.com.ua/wf/service/action/event/getHistoryEvents?sID_Order=15-628359

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Order|Ид документа/задачи|false|string|
|QueryParameter|nStart|Номер с которого начать выборку|false|integer (int32)|
|QueryParameter|nSize|Количество записей|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoryEventVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Launch
:hardbreaks:
Launch Controller

==== Запустить обработку методов
----
GET /launch/processLaunchers
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/launch/processLaunchers

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nTry|Количество попыток|false|integer (int32)|
|QueryParameter|nID_Server|Ид сервера|false|integer (int64)|
|QueryParameter|sDateFrom|Дата редактирования от|false|string|
|QueryParameter|sDateTo|Дата редактирования до|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== LaunchController
:hardbreaks:
Launch Controller

==== Запустить обработку методов
----
GET /launch/processLaunchers
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/launch/processLaunchers

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nTry|Количество попыток|false|integer (int32)|
|QueryParameter|nID_Server|Ид сервера|false|integer (int64)|
|QueryParameter|sDateFrom|Дата редактирования от|false|string|
|QueryParameter|sDateTo|Дата редактирования до|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ObjectController -- Обьекты И Смежные Сущности
:hardbreaks:
Object Common Controller

==== Получение списка целевых назначений земель, подпадающих под параметры
----
GET /object/getObjectEarthTargets
----

===== Description
:hardbreaks:
Пример запроса:
https://alpha.test.igov.org.ua/wf/service/object/getObjectEarthTargets?sID_UA=01.01
Пример ответа:

```json
{
  "sID_UA"   : "01.01",
  "sName_UA" : "Для ведення товарного сільськогосподарського виробництва",
  "nID"      : 1
}

```
http://www.neruhomist.biz.ua/classification.html[источник данных]

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_UA|ид-строка. подразделение в коде КВЦПЗ (уникальный)|false|string|
|QueryParameter|sName_UA|строка-название целевого назначения земель на украинском (уникальный, достаточно чтоб совпала любая часть названия)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectEarthTarget>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получить список объектов ObjectCustoms 
----
GET /object/getObjectCustoms
----

===== Description
:hardbreaks:
Пример ответа:

```json
[
  {
    "sID_UA": "0101",
    "sName_UA": "Коні, віслюки, мули та лошаки, живі:",
    "sMeasure_UA": "-",
    "nID": 1
  },
  {
    "sID_UA": "0101 10",
    "sName_UA": "Коні, віслюки, мули та лошаки, живі:  чистопородні племінні тварини:",
    "sMeasure_UA": "-",
    "nID": 2
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_UA|строка-ид(опциональный, если другой уникальный ключ задан и по нему найдена запись) (формат 0101 01 01 01)|false|string|
|QueryParameter|sName_UA|строка-ид(опциональный, если другой уникальный ключ задан и по нему найдена запись)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление или вставка новуой записи
----
GET /object/setObjectCustoms
----

===== Description
:hardbreaks:
Запрос: https://alpha.test.igov.org.ua/wf/service/object/setObjectCustoms?
обновление записи происходит в том случае, если есть параметр nID
и хотя бы один другой параметр: sID_UA, sName_UA или sMeasure_UA;
вставка записи происходит в том случае, если в метод не передается
параметр nID, но передаются три других параметра;
пример возвращаемого объекта:

```json
{
  "sID_UA": "0101",
  "sName_UA": "Коні, віслюки, мули та лошаки, живі:",
  "sMeasure_UA": "-",
  "nID": 1
}

```
при вставке и обновлении поля sID_UA важно, чтобы параметр не имел впереди и позади пробелов, иначе может нарушиться уникальность записи
при вставке и обновлении поля sName_UA важно брать в кавычки запись, если она содержит "точку с пробелом" — ";"
- nID         (опциональный, если другой уникальный-ключ задан и по нему найдена запись)
- sID_UA      (опциональный, если другой уникальный-ключ задан и по нему найдена запись)(формат 0101 01 01 01)
- sName_UA    (опциональный, если другой уникальный-ключ задан и по нему найдена запись)
- sMeasure_UA (опциональный)


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|строка-ключ(опциональный, если другой уникальный-ключ задан и по нему найдена запись)|false|integer (int64)|
|QueryParameter|sID_UA|строка-ключ(опциональный, если другой уникальный-ключ задан и по нему найдена запись)(формат 0101 01 01 01)|false|string|
|QueryParameter|sName_UA|строка-ключ(опциональный, если другой уникальный-ключ задан и по нему найдена запись)|false|string|
|QueryParameter|sMeasure_UA|строка названия мерчанта на украинском|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление записи по уникальному значению nID или sID_UA
----
GET /object/removeObjectCustoms
----

===== Description
:hardbreaks:
Запрос: https://alpha.test.igov.org.ua/wf/service/object/removeObjectCustoms?;


- nID     (опциональный, если другой уникальный-ключ задан и по нему найдена запись)
- sID_UA  (опциональный, если другой уникальный-ключ задан и по нему найдена запись)(формат 0101 01 01 01)

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|нет описания|false|integer (int64)|
|QueryParameter|sID_UA|нет описания|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ObjectFileCommonController -- Обьекты Файлов Общие
:hardbreaks:
Object File Common Controller

==== GetAttachmentsFromRedisBytes
----
GET /object/file/download_file_from_redis_bytes
----

===== Description
:hardbreaks:
#####  ObjectFileCommonController: описания нет


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|key|key|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Проверка ЭЦП на файле хранящемся в Redis
----
GET /object/file/check_file_from_redis_sign
----

===== Description
:hardbreaks:
#####  Примеры:
https://alpha.test.region.igov.org.ua/wf/service/object/file/check_file_from_redis_sign?sID_File_Redis=d2993755-70e5-409e-85e5-46ba8ce98e1d

Ответ json описывающий ЭЦП:


```json
{
  "state": "ok",
  "customer": {
    "inn": "1436057000",
    "fullName": "Сервіс зберігання сканкопій",
    "signatureData": {
      "name": "АЦСК ПАТ КБ «ПРИВАТБАНК»",
      "serialNumber": "0D84EDA1BB9381E80400000079DD02004A710800",
      "timestamp": "29.10.2015 13:45:33",
      "code": true,
      "desc": "ПІДПИС ВІРНИЙ",
      "dateFrom": "13.08.2015 11:24:31",
      "dateTo": "12.08.2016 23:59:59",
      "sn": "UA-14360570-1"
    },
    "organizations": [
      {
        "type": "edsOwner",
        "name": "ПАТ КБ «ПРИВАТБАНК»",
        "mfo": "14360570",
        "position": "Технологічний сертифікат",
        "ownerDesc": "Співробітник банку",
        "address": {
          "type": "factual",
          "state": "Дніпропетровська",
          "city": "Дніпропетровськ"
        }
      },
      {
        "type": "edsIsuer",
        "name": "ПУБЛІЧНЕ АКЦІОНЕРНЕ ТОВАРИСТВО КОМЕРЦІЙНИЙ БАНК «ПРИВАТБАНК»",
        "unit": "АЦСК",
        "address": {
          "type": "factual",
          "state": "Дніпропетровська",
          "city": "Дніпропетровськ"
        }
      }
    ]
  }
}

```
Ответ для несуществующего ключа (sID_File_Redis):

```json
{"code":"SYSTEM_ERR","message":"File with sID_File_Redis 'd2993755-70e5-409e-85e5-46ba8ce98e1e' not found."}


```
Ответ для файла который не имеет наложеной ЭЦП:


```json
{}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_File_Redis|строка-ключ по которому можно получить файл из хранилища Redis|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Загрузки прикрепленного к заявке файла из постоянной базы
----
GET /object/file/download_file_from_storage_static
----

===== Description
:hardbreaks:
##### Пример:
 https://alpha.test.igov.org.ua/wf/service/object/file/download_file_from_storage_static?sId=111111&sFileName=111.txt&sType=text


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sId|sId|true|string|
|QueryParameter|sFileName|sFileName|true|string|
|QueryParameter|sType|sType|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== GetAttachmentsFromRedis
----
GET /object/file/download_file_from_redis
----

===== Description
:hardbreaks:
#####  ObjectFileCommonController: описания нет


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|key|key|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setProcessAttachText
----
POST /object/file/setProcessAttachText
----

===== Description
:hardbreaks:
##### загрузка body-атачмента по новому концепту

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|string|
|QueryParameter|bSigned|наложено или не наложено ЭЦП|false|boolean|
|QueryParameter|sID_StorageType|cтрока-ИД типа хранилища Redis или Mongo|false|string|
|QueryParameter|aAttribute|массив атрибутов в виде сериализованного обьекта JSON|false|multi <<Map«string,object»>> array|
|QueryParameter|sFileNameAndExt|название и расширение файла|true|string|
|QueryParameter|sID_Field|ид поля|false|string|
|QueryParameter|sContentType|строка-MIME тип отправляемого файла (по умолчанию = "text/html")|false|string|
|BodyParameter|sData|контент файла в виде строки|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Проверка ЭЦП на атачменте(файл) таски Activiti
----
GET /object/file/check_attachment_sign
----

===== Description
:hardbreaks:
##### Примеры:
https://alpha.test.region.igov.org.ua/wf/service/object/file/check_attachment_sign?nID_Task=7315073&nID_Attach=7315075
Ответ:

```json
{
  "state": "ok",
  "customer": {
    "inn": "1436057000",
    "fullName": "Сервіс зберігання сканкопій",
    "signatureData": {
      "name": "АЦСК ПАТ КБ «ПРИВАТБАНК»",
      "serialNumber": "0D84EDA1BB9381E80400000079DD02004A710800",
      "timestamp": "29.10.2015 13:45:33",
      "code": true,
      "desc": "ПІДПИС ВІРНИЙ",
      "dateFrom": "13.08.2015 11:24:31",
      "dateTo": "12.08.2016 23:59:59",
      "sn": "UA-14360570-1"
    },
    "organizations": [
      {
        "type": "edsOwner",
        "name": "ПАТ КБ «ПРИВАТБАНК»",
        "mfo": "14360570",
        "position": "Технологічний сертифікат",
        "ownerDesc": "Співробітник банку",
        "address": {
          "type": "factual",
          "state": "Дніпропетровська",
          "city": "Дніпропетровськ"
        }
      },
      {
        "type": "edsIsuer",
        "name": "ПУБЛІЧНЕ АКЦІОНЕРНЕ ТОВАРИСТВО КОМЕРЦІЙНИЙ БАНК «ПРИВАТБАНК»",
        "unit": "АЦСК",
        "address": {
          "type": "factual",
          "state": "Дніпропетровська",
          "city": "Дніпропетровськ"
        }
      }
    ]
  }
}

```

Ответ для несуществующей таски (nID_Task):

```json
{"code":"SYSTEM_ERR","message":"ProcessInstanceId for taskId '7315070' not found."}

```

Ответ для несуществующего атачмента (nID_Attach):

```json
{"code":"SYSTEM_ERR","message":"Attachment for taskId '7315073' not found."}

```

Ответ для атачмента который не имеет наложеной ЭЦП:

```json
{}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Task|ИД-номер таски|true|string|
|QueryParameter|nID_Attach|строка-ИД атачмента приложеного к таске|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Сервис для получения Attachment из execution
----
GET /object/file/download_file_from_db_execution
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|taskId|ИД-номер таски|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Работа с файлами-шаблонами
----
GET /object/file/getPatternFile
----

===== Description
:hardbreaks:
#####  возвращает содержимое указанного файла с указанным типом контента (если он задан).
Если указанный путь неверен и файл не найден -- вернется соответствующая ошибка.

Примеры:

https://alpha.test.region.igov.org.ua/wf/service/object/file/getPatternFile?sPathFile=print//subsidy_zayava.html

ответ: вернется текст исходного кода файла-шаблона

https://alpha.test.region.igov.org.ua/wf/service/object/file/getPatternFile?sPathFile=print//subsidy_zayava.html&sContentType=text/html

ответ: файл-шаблон будет отображаться в виде html-страницы

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sPathFile|строка-полный путь к файлу|true|string|
|QueryParameter|sContentType|строка-тип контента|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Загрузки прикрепленного к заявке файла из постоянной базы
----
GET /object/file/download_file_from_db
----

===== Description
:hardbreaks:
##### Пример:
 https://alpha.test.igov.org.ua/wf/service/object/file/download_file_from_db?taskId=82596&attachmentId=6726532&nFile=7


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|taskId|строка-ИД задачи|true|string|
|QueryParameter|attachmentId|строка-ID прикрепленного файла|false|string|
|QueryParameter|nFile|порядковый номер прикрепленного файла|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== moveAttachsToMongo
----
GET /object/file/moveAttachsToMongo
----

===== Description
:hardbreaks:
#####  ObjectFileCommonController: Перенос атачментов задач активити в mongo DB  
пробегается по всем активным задачам и переносит их атачменты в mongo DB (если они еще не там) 
и в самом объекте атачмента меняет айдишники атачментов на новые
Метод содержит необязательные параметры, которые определяют какие задачи обрабатывать
nStartFrom - порядковый номер задачи в списке всех задач, с которого начинать обработку
nChunkSize - количество задач, которые обрабатывать начиная или с первой или со значения nStartFrom. 
Задачи выюираются по 10 из базы, поэтому лучше делать значени nChunkSize кратным 10
nProcessId - обрабатывать задачу с заданным айдишником
Примеры:

https://alpha.test.region.igov.org.ua/wf/service/object/file/moveAttachsToMongo
Перенести все атачменты задач в Монго ДБ

https://alpha.test.region.igov.org.ua/wf/service/object/file/moveAttachsToMongo?nProcessId=9397569
Перенести атачменты процесса с ID 9397569 в Монго ДБ

https://alpha.test.region.igov.org.ua/wf/service/object/file/moveAttachsToMongo?nStartFrom=0&nChunkSize=10

Перенести аттачменты процесса с 0 по 10 в монго

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nStartFrom|Порядковый номер процесса с которого начинать обработку аттачментов|false|string|
|QueryParameter|nChunkSize|строка-размер блока для выборки процесса на обработку|false|string|
|QueryParameter|nProcessId|строка-ИД конкретного процесса|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setProcessAttach
----
POST /object/file/setProcessAttach
----

===== Description
:hardbreaks:
##### загрузка файла-атачмента по новому концепту

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|string|
|QueryParameter|bSigned|наложено или не наложено ЭЦП|false|boolean|
|QueryParameter|sID_StorageType|cтрока-ИД типа хранилища Redis или Mongo|false|string|
|QueryParameter|aAttribute|массив атрибутов в виде сериализованного обьекта JSON|false|multi <<Map«string,object»>> array|
|QueryParameter|sContentType|строка-MIME тип отправляемого файла (по умолчанию = "text/html")|false|string|
|QueryParameter|sFileNameAndExt|название и расширение файла|true|string|
|QueryParameter|sID_Field|ид поля|false|string|
|FormDataParameter|file|файл для сохранения в БД|true|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== setDocumentImage
----
POST /object/file/setDocumentImage
----

===== Description
:hardbreaks:
##### загрузка body-атачмента по новому концепту(PDF)

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|string|
|QueryParameter|bSigned|наложено или не наложено ЭЦП|false|boolean|
|QueryParameter|sID_StorageType|cтрока-ИД типа хранилища Redis или Mongo|false|string|
|QueryParameter|aAttribute|массив атрибутов в виде сериализованного обьекта JSON|false|multi <<Map«string,object»>> array|
|QueryParameter|sFileNameAndExt|название и расширение файла|true|string|
|QueryParameter|sID_Field|ид поля|false|string|
|QueryParameter|sContentType|строка-MIME тип отправляемого файла (по умолчанию = "text/html")|false|string|
|QueryParameter|sLogin|Логин подписанта|true|string|
|QueryParameter|sKey_Step|Ключ шага документа|true|string|
|FormDataParameter|file|файл для сохранения в БД|false|file|
|BodyParameter|sData|контент файла в виде строки|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Аплоад(upload) и прикрепление текстового файла в виде атачмента к таске Activiti
----
POST /object/file/upload_content_as_attachment
----

===== Description
:hardbreaks:
#####Пример: http://localhost:8080/wf/service/object/file/upload_content_as_attachment?nTaskId=24&sDescription=someText&sFileName=FlyWithMe.html

```json
Ответ без ошибок:
{
  "taskId": "38",
  "processInstanceId": null,
  "userId": "kermit",
  "name": "FlyWithMe.html",
  "id": "25",
  "type": "text/html;html",
  "description": "someText",
  "time": 1433539278957,
  "url": null
}

ID созданного attachment - "id": "25"

```

Ответ с ошибкой:

```json
{"code":"SYSTEM_ERR","message":"Cannot find task with id 384"}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nTaskId|строка-Логин пользователя|true|string|
|QueryParameter|sContentType|строка-MIME тип отправляемого файла (по умолчанию = "text/html")|false|string|
|QueryParameter|sDescription|строка-описание|true|string|
|QueryParameter|sFileName|sFileName|true|string|
|QueryParameter|sID_Field|sID_Field|false|string|
|BodyParameter|sData|sData|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentEntityI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== PutAttachmentsToRedis
----
POST /object/file/upload_file_to_redis
----

===== Description
:hardbreaks:
#####  Укладываем в редис multipartFileToByteArray


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|FormDataParameter|file|file|true|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

==== checkProcessAttach
----
GET /object/file/checkProcessAttach
----

===== Description
:hardbreaks:
##### проверка ЭЦП по новому концепту

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_StorageType|cтрока-ИД типа хранилища Redis или Mongo|false|string|
|QueryParameter|sFileNameAndExt|название и расширение файла|false|string|
|QueryParameter|sID_Process|ид процесса|false|string|
|QueryParameter|sID_Field|ид поля|false|string|
|QueryParameter|sKey|ключ в базе данных|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

==== Загрузка прикрепленного к заявке файла из базы по новой схеме
----
GET /object/file/getDocumentImageAsBase64
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД процесс-активити|false|string|
|QueryParameter|sLogin|Логин подписанта|false|string|
|QueryParameter|sKey_Step|Ключ шага документа|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Аплоад(upload) и прикрепление файла в виде атачмента к таске Activiti
----
POST /object/file/upload_file_as_attachment
----

===== Description
:hardbreaks:
#####  Примеры: 
http://alpha.test.igov.org.ua/wf/service/object/file/upload_file_as_attachment?taskId=68&description=ololo

```json
Ответ без ошибок:
{
  "taskId": "38",
  "processInstanceId": null,
  "userId": "kermit",
  "name": "jmt.png",
  "id": "45",
  "type": "image/png;png",
  "description": "SomeDocumentDescription",
  "time": 1433539278957,
  "url": null
}

ID созданного attachment - "id": "45"


```
Ответ с ошибкой:


```json
{"code":"SYSTEM_ERR","message":"Cannot find task with id 384"}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|taskId|ИД-номер таски|true|string|
|FormDataParameter|file|файл html. в html это имя элемента input типа file - <input name="file" type="file" />. в HTTP заголовках - Content-Disposition: form-data; name="file" ...|true|file|
|QueryParameter|description|строка-описание|true|string|
|QueryParameter|sID_Field|ИД поля формы, к которому загружается файл|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentEntityI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* application/json

==== Загрузка прикрепленного к заявке файла из базы по новой схеме
----
GET /object/file/getDocumentImage
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД процесс-активити|false|string|
|QueryParameter|sLogin|Логин подписанта|false|string|
|QueryParameter|sKey_Step|Ключ шага документа|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== setTaskAttachment
----
POST /object/file/setTaskAttachment
----

===== Description
:hardbreaks:
#####  Set/update файла-атачмента к таске Activiti

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nTaskId|номер-ИД задачи|true|string|
|QueryParameter|sContentType|строка-MIME тип отправляемого файла (по умолчанию = "text/html")|false|string|
|QueryParameter|sDescription|строка-описание|true|string|
|QueryParameter|sFileName|sFileName|true|string|
|QueryParameter|nID_Attach|id аттача Activiti|false|string|
|BodyParameter|sData|sData|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentEntityI>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Загрузка прикрепленного к заявке файла из базы по новой схеме
----
GET /object/file/getProcessAttachAsBase64
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД процесса|false|string|
|QueryParameter|sID_Field|ИД поля|false|string|
|QueryParameter|sKey|Ключ в БД|false|string|
|QueryParameter|sID_StorageType|Тип БД|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== /dfs/getPatternFilled
----
POST /object/file/dfs/getPatternFilled
----

===== Description
:hardbreaks:
##### Заполнение указанного шаблона(по его ИД ищется файл в подпапке проекта) указанными параметрами, и его отдача.
<br>Пример запроса: https://alpha.test.region.igov.org.ua/wf/service/object/file/dfs/getPatternFilled?sID_Pattern=F1301801в теле запроса передавать JSON-обьект в виде строки, например:<br>{<br>{
	"HLNAME":"БІЛЯВЦЕВ"
	,"HPNAME":"ВОЛОДИМИР"
	,"HFNAME":"ВОЛОДИМИРОВИЧ"
	,"HTIN":"2943209693"
	,"HKSTI":"2301"
	,"HSTI":"2650 ДПІ У ГОЛОСІЇВСЬКОМУ Р-НІ ГУ МІНДОХОДІВ У М.КИЄВІ"
	,"HEMAIL":"olga.kuzminova87@gmail.com"
	,"HCOUNTRY":"Украіна"
	,"HCITY":"Дніпро"
	,"HSTREET":"Красный камень"
	,"HBUILD":"5"
	,"R01G01":"22"
	,"R01G01":"22"
	,"R01G02":"22"
	,"R02G01":"22"
	,"R02G02":"22"
	,"C_REG":"23"
	,"C_RAJ":"01"
	,"TIN":"3578965412"
	,"C_DOC":"F13"
	,"C_DOC_SUB":"018"
	,"C_DOC_VER":"01"
	,"C_DOC_STAN":"1"
	,"C_DOC_TYPE":"00"
	,"C_DOC_CNT":"0000001"
	,"PERIOD_TYPE":"1"
	,"PERIOD_MONTH":"12"
	,"PERIOD_YEAR":"2015"
	,"C_STI_ORIG":"2301"

)<br><br>В ответ получим заполненный шаблон. например:<br>{
  "soPatternFilled": "<?xml version=\"1.0\" encoding=\"windows-1251\"?><DECLAR xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"F1301801.xsd\"><DECLARHEAD><TIN>3578965412</TIN><C_DOC>F13</C_DOC><C_DOC_SUB>018</C_DOC_SUB><C_DOC_VER>01</C_DOC_VER><C_DOC_TYPE>00</C_DOC_TYPE><C_DOC_CNT>0000001</C_DOC_CNT><C_REG>23</C_REG><C_RAJ>01</C_RAJ><PERIOD_MONTH>12</PERIOD_MONTH><PERIOD_TYPE>1</PERIOD_TYPE><PERIOD_YEAR>2015</PERIOD_YEAR><C_STI_ORIG>2301</C_STI_ORIG><C_DOC_STAN>1</C_DOC_STAN><D_FILL>24102016</D_FILL><SOFTWARE xsi:nil=\"true\"></SOFTWARE></DECLARHEAD><DECLARBODY><HLNAME>БІЛЯВЦЕВ</HLNAME><HPNAME>ВОЛОДИМИР</HPNAME><HFNAME>ВОЛОДИМИРОВИЧ</HFNAME><HTIN>2943209693</HTIN><HKSTI>2301</HKSTI><HSTI>2650 ДПІ У ГОЛОСІЇВСЬКОМУ Р-НІ ГУ МІНДОХОДІВ У М.КИЄВІ</HSTI><HEMAIL>olga.kuzminova87@gmail.com</HEMAIL><HCOUNTRY>Украіна</HCOUNTRY><HREG xsi:nil=\"true\"></HREG><HRAJ xsi:nil=\"true\"></HRAJ><HCITY>Дніпро</HCITY><HSTREET>Красный камень</HSTREET><HBUILD>5</HBUILD><HSHOT xsi:nil=\"true\"></HSHOT><HCORP xsi:nil=\"true\"></HCORP><HAPT xsi:nil=\"true\"></HAPT><HPASS xsi:nil=\"true\"></HPASS><HPASSDATE xsi:nil=\"true\"></HPASSDATE><HPASSISS xsi:nil=\"true\"></HPASSISS><R01G01>22</R01G01><R01G02>22</R01G02><R02G01>22</R02G01><R02G02>22</R02G02><HFILL>24102016</HFILL></DECLARBODY></DECLAR>",
  "sFileName": "23013578965412F1301801100000000111220152301.xml"
}

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|mField|Список алиасов и значений из формы в json формате|false|object|
|QueryParameter|sID_Pattern|Ид файла-шаблона|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Загрузка прикрепленного к заявке файла из базы по новой схеме
----
GET /object/file/getProcessAttach
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД процесса|false|string|
|QueryParameter|sID_Field|ИД поля|false|string|
|QueryParameter|sKey|Ключ в БД|false|string|
|QueryParameter|sID_StorageType|Тип БД|false|string|
|QueryParameter|sFileName|Имя файла по умолчанию|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ObjectPlaceCommonController -- Обьекты Мест (населенных Пунктов И Регионов) И Стран
:hardbreaks:
Object Place Common Controller

==== Получить иерархию объектов вниз начиная с указанного узла
----
GET /object/place/getPlacesTree
----

===== Description
:hardbreaks:
Примеры
Параметыр nID

https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?nID=459
Ответ

```json
{
    "nLevelArea": null,
    "nLevel": 0,
    "o": {
        "nID": 459,
        "sName": "Недригайлівський район/смт Недригайлів",
        "nID_PlaceType": 2,
        "sID_UA": "5923500000",
        "sNameOriginal": ""
    },
    "a": [
        {
            "nLevelArea": null,
            "nLevel": 1,
            "o": {
                "nID": 460,
                "sName": "Недригайлів",
                "nID_PlaceType": 4,
                "sID_UA": "5923555100",
                "sNameOriginal": ""
            },
            "a": []
        }
    ]
}

```
Примечание: по умолчанию возвращаются иерархия с ограниченным уровнем вложенности детей (поле nDeep, по умолчанию равно 1)
Получить иерархию объектов вниз начиная с указанного узла (параметр nID) и количества уровней вниз (параметр nDeep).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?nID=459&nDeep=4
Ответ:

```json
{
    "nLevelArea": null,
    "nLevel": 0,
    "o": {
        "nID": 459,
        "sName": "Недригайлівський район/смт Недригайлів",
        "nID_PlaceType": 2,
        "sID_UA": "5923500000",
        "sNameOriginal": ""
    },
    "a": [
        {
            "nLevelArea": null,
            "nLevel": 1,
            "o": {
                "nID": 460,
                "sName": "Недригайлів",
                "nID_PlaceType": 4,
                "sID_UA": "5923555100",
                "sNameOriginal": ""
            },
            "a": [
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 458,
                        "sName": "Вільшана",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923584401",
                        "sNameOriginal": ""
                    },
                    "a": []
                },
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 461,
                        "sName": "Вакулки",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923555101",
                        "sNameOriginal": ""
                    },
                    "a": []
                },
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 462,
                        "sName": "Віхове",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923555102",
                        "sNameOriginal": ""
                    },
                    "a": []
                }
            ]
        }
    ]
}

```
Получить иерархию объектов вниз начиная с указанного узла (параметр sUA_ID).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?sID_UA=5923500000

```json
{
    "nLevelArea": null,
    "nLevel": 0,
    "o": {
        "nID": 459,
        "sName": "Недригайлівський район/смт Недригайлів",
        "nID_PlaceType": 2,
        "sID_UA": "5923500000",
        "sNameOriginal": ""
    },
    "a": [
        {
            "nLevelArea": null,
            "nLevel": 1,
            "o": {
                "nID": 460,
                "sName": "Недригайлів",
                "nID_PlaceType": 4,
                "sID_UA": "5923555100",
                "sNameOriginal": ""
            },
            "a": []
        }
    ]
}

```
Получить иерархию объектов вниз начиная с указанного узла (параметр sUA_ID) и количества уровней вниз (параметр nDeep).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?sID_UA=5923500000&nDeep=3
Ответ:

```json
{
    "nLevelArea": null,
    "nLevel": 0,
    "o": {
        "nID": 459,
        "sName": "Недригайлівський район/смт Недригайлів",
        "nID_PlaceType": 2,
        "sID_UA": "5923500000",
        "sNameOriginal": ""
    },
    "a": [
        {
            "nLevelArea": null,
            "nLevel": 1,
            "o": {
                "nID": 460,
                "sName": "Недригайлів",
                "nID_PlaceType": 4,
                "sID_UA": "5923555100",
                "sNameOriginal": ""
            },
            "a": [
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 458,
                        "sName": "Вільшана",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923584401",
                        "sNameOriginal": ""
                    },
                    "a": []
                },
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 461,
                        "sName": "Вакулки",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923555101",
                        "sNameOriginal": ""
                    },
                    "a": []
                },
                {
                    "nLevelArea": null,
                    "nLevel": 2,
                    "o": {
                        "nID": 462,
                        "sName": "Віхове",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923555102",
                        "sNameOriginal": ""
                    },
                    "a": []
                }
            ]
        }
    ]
}

```
Получить иерархию объектов вниз начиная с указанного узла (параметр nID или sUA_ID) c фильтрацией по типу (nID_PlaceType).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?nID=459&nDeep=3&nID_PlaceType=5

Получить иерархию объектов вниз начиная с указанного узла (параметр nID или sUA_ID) c фильтрацией по региону (bArea).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?nID=459&bArea=false&nDeep=3

Получить иерархию объектов вниз начиная с указанного узла (параметр nID или sUA_ID) c фильтрацией по корневому региону (bRoot).
https://alpha.test.igov.org.ua/wf/service/object/place/getPlacesTree?nID=459&bRoot=false&nDeep=3

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|id места|false|integer (int64)|
|QueryParameter|sID_UA|строка-ИД места (в классификаторе Украины)|false|string|
|QueryParameter|nID_PlaceType|номер-МД типа места (населенного пункта/региона)|false|integer (int64)|
|QueryParameter|bArea|булевый флаг. если true -- только территория (район)|false|boolean|
|QueryParameter|bRoot|булевый флаг. если true -- только корень (область)|false|boolean|
|QueryParameter|nDeep|число вложенных уровней|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<PlaceHierarchy>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Возвращает весь список стран
----
GET /object/place/getCountries
----

===== Description
:hardbreaks:
(залит справочник согласно Википедии и Класифікації країн світу)

пример:
https://alpha.test.igov.org.ua/wf/service/object/place/getCountries

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Country>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Изменить объект "Cтрана"
----
GET /object/place/setCountry
----

===== Description
:hardbreaks:
апдейтит элемент (если задан один из уникальных ключей) или вставляет (если не задан nID), и отдает экземпляр нового объекта.
Если нет ни одного параметра возвращает ошибку 403. All args are null! Если есть один из уникальных ключей, но запись не найдена -- ошибка 403. Record not found! Если кидать "новую" запись с одним из уже существующих ключей nID_UA -- то обновится существующая запись по ключу nID_UA, если будет дублироваться другой ключ -- ошибка 403. Could not execute statement (из-за уникальных констрейнтов)

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер, идентификатор записи|false|integer (int64)|
|QueryParameter|nID_UA|ИД-номер Код, в Украинском классификаторе (уникальное)|false|integer (int64)|
|QueryParameter|sID_Two|ИД-строка Код-двухсимвольный, международный (уникальное, строка 2 символа)|false|string|
|QueryParameter|sID_Three|ИД-строка Код-трехсимвольный, международный (уникальное, строка 3 символа)|false|string|
|QueryParameter|sNameShort_UA|строка-Назва країни, коротка, Украинская (уникальное, строка до 100 символов)|false|string|
|QueryParameter|sNameShort_EN|строка-Назва країни, коротка, англійською мовою (уникальное, строка до 100 символов)|false|string|
|QueryParameter|sReference_LocalISO|Ссылка на локальный ISO-стандарт, с названием (a-teg с href) (строка до 100 символов)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Нет ни одного параметра / запись не найдена / дублируется один из ключей: nID, sID_Two, sID_Three|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает название сущности Place исходной заявки
----
GET /object/place/getPlaceByProcess
----

===== Description
:hardbreaks:
Возвращает название сущности Place исходной заявки или кидает ошибку 403. Record not found!.


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|ИД-номер, идентификатор заявки|true|integer (int64)|
|QueryParameter|nID_Server|ИД-номер сервера|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Place>>
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает объект Страны по первому из 4х ключей (nID, nID_UA, sID_Two, sID_Three)
----
GET /object/place/getCountry
----

===== Description
:hardbreaks:
Если нет ни одного параметра возвращает ошибку 403. required at least one of parameters (nID, nID_UA, sID_Two, sID_Three)!
Eсли задано два ключа от разных записей -- вернется та, ключ который "первее" в таком порядке: nID, nID_UA, sID_Two, sID_Three.
пример: https://alpha.test.igov.org.ua/wf/service/object/place/getCountry?nID_UA=123
Ответ:

```json
{
  "nID_UA":123,
  "sID_Two":"AU",
  "sID_Three":"AUS",
  "sNameShort_UA":"Австралія",
  "sNameShort_EN":"Australy",
  "sReference_LocalISO":"ISO_3166-2:AU",
  "nID":20340
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер, идентификатор записи|false|integer (int64)|
|QueryParameter|nID_UA|ИД-номер Код, в Украинском классификаторе (уникальное)|false|integer (int64)|
|QueryParameter|sID_Two|ИД-строка Код-двухсимвольный, международный (уникальное, строка 2 символа)|false|string|
|QueryParameter|sID_Three|ИД-строка Код-трехсимвольный, международный (уникальное, строка 3 символа)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Не задано хотя бы одного ключа из: nID, nID_UA, sID_Two, sID_Three|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение сущности Place
----
GET /object/place/getPlaceEntity
----

===== Description
:hardbreaks:
Пример: https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?nID=22830
Ответ:
```json
{
    "sID_UA": "90005000462",
    "nID": 22830,
    "sName": "child_of_462",
    "nID_PlaceType": 5,
    "sNameOriginal": "5000_462_child"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД места|false|integer (int64)|
|QueryParameter|sID_UA|строка-ИД места (в классификаторе Украины)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Place>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получение типа места
----
GET /object/place/getPlaceTypes
----

===== Description
:hardbreaks:
Примеры
Получить тип места (область)
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceTypes?bArea=true&bRoot=true
Ответ

```json
[
    {
        "bArea": true,
        "bRoot": true,
        "nID": 1,
        "sName": "Область",
        "nOrder": null
    }
]




```
Получить тип места (район).
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceTypes?bArea=true&bRoot=false
Ответ

```json
[
    {
        "bArea": true,
        "bRoot": false,
        "nID": 2,
        "sName": "Район",
        "nOrder": null
    }
]




```
Получить тип места (ПГТ, город, село).
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceTypes?bArea=false&bRoot=false
Ответ

```json
[
    {
        "bArea": false,
        "bRoot": false,
        "nID": 3,
        "sName": "Город",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 4,
        "sName": "ПГТ",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 5,
        "sName": "Село",
        "nOrder": null
    }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|bArea|булевый флаг. если true -- только территория (район)|true|boolean|
|QueryParameter|bRoot|булевый флаг. если true -- только корень (область)|true|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<PlaceType>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Вставить новый объект Place
----
POST /object/place/setPlace
----

===== Description
:hardbreaks:
Примеры
https://alpha.test.igov.org.ua/wf/service/object/place/setPlace?sName=child_of_462&nID_PlaceType=5&sID_UA=90005000462&sNameOriginal=5000_462_child

Результат
HTTP code = 200 OK


GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?sID_UA=90005000462 должен вернуть вашу сущность.

```json
{
    "sID_UA": "90005000462",
    "nID": 22830,
    "sName": "child_of_462",
    "nID_PlaceType": 5,
    "sNameOriginal": "5000_462_child"
}

```
Примечание: Первичный ключ (параметр nID) мы не указываем, т.к. хибернейт обязан сам генерировать PK



Обновить объект Place (параметр для поиска sID_UA).
https://alpha.test.igov.org.ua/wf/service/object/place/setPlace?sName=child_of_462&nID_PlaceType=5&sID_UA=90005000462&sNameOriginal=5000_462_child
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?sID_UA=90005000462 должен вернуть вашу сущность с обновленными параметрами:

```json
{
    "sID_UA": "90005000462",
    "nID": 22830,
    "sName": "child_of_462",
    "nID_PlaceType": 5,
    "sNameOriginal": "5000_462_child"
}

```



Обновить объект Place (параметр для поиска nID, PK).
https://alpha.test.igov.org.ua/wf/service/object/place/setPlace?sName=The_child_of_462&nID_PlaceType=5&sNameOriginal=50000_462_child&nID=22830&sID_UA=90005000462
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?nID=22830 должен вернуть вашу сущность с обновленными параметрами:

```json
{
    "sID_UA": "90005000462",
    "nID": 22830,
    "sName": "child_of_462",
    "nID_PlaceType": 5,
    "sNameOriginal": "5000_462_child"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|id места|false|integer (int64)|
|QueryParameter|sName|строка имени|false|string|
|QueryParameter|nID_PlaceType|номер-МД типа места (населенного пункта/региона)|false|integer (int64)|
|QueryParameter|sID_UA|строка-ИД места (в классификаторе Украины)|false|string|
|QueryParameter|sNameOriginal|строка имени оригинального|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получение списка улиц
----
GET /object/place/PB/getSubPlaces_
----

===== Description
:hardbreaks:
Получем список улиц. Пример:
https://alpha.test.igov.org.ua/wf/service/object/place/sub/PB/getSubPlaces_/?sID_SubPlace_PB=UA40773&sFind=южн

Ответ:


```json
{  "listAddress":   [{      "code": "23TFD62IDSDX00",	     "desc": "1-я Южная",	     "type": "улица"    }, {	     "code": "23T149MQULAP00",	     "desc": "Южная Сторона",	     "type": "улица"    }   ]}
```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_SubPlace_PB|sID_SubPlace_PB - код узла адреса)|true|string|
|QueryParameter|sFind|sFind - строка поиска (ищет по вхождению текста в название улицы)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json
* application/json;charset=UTF-8

==== Удаление типа места
----
POST /object/place/removePlaceType
----

===== Description
:hardbreaks:
Пример:
https://alpha.test.igov.org.ua/wf-central/service/object/place/removePlaceType?nID=23417
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceTypes?bArea=false&bRoot=false


должен вернуть масив без вашей сущности:

```json
[
    {
        "bArea": false,
        "bRoot": false,
        "nID": 3,
        "sName": "Город",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 4,
        "sName": "ПГТ",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 5,
        "sName": "Село",
        "nOrder": null
    }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД записи|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получение данных из справочника КОАТУУ
----
GET /object/place/getObjectPlace_UA2
----

===== Description
:hardbreaks:
Получаем данные из справочника КОАТУУ. Пример:
https://alpha.test.igov.org.ua/wf/service/object/place/getObjectPlace_UA2?sID=09&sName_UA=дніпр

Ответ:

```json
[
  {
    "sID": "00008000",
    "sName_UA": "Дніпропетровська обл.",
    "nID_PlaceType": 1,
    "nID": 1
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID - кретерий поиска в sID (без учета регистра, в любой части текста)|false|string|
|QueryParameter|sName_UA|sName_UA - кретерий поиска в sName_UA (без учета регистра, в любой части текста)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectPlace_UA>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Изменение дерева мест (регионов и городов)
----
POST /object/place/setPlaces
----

===== Description
:hardbreaks:
Можно менять регионы (не добавлять и не удалять) + менять/добавлять города (но не удалять), Передается json в теле POST запроса в том же формате, в котором он был в getPlaces.

Возвращает: HTTP STATUS 200 + json представление сервиса после изменения. Чаще всего то же, что было передано в теле POST запроса + сгенерированные id-шники вложенных сущностей, если такие были.

Пример: 
https://alpha.test.igov.org.ua/wf/service/object/place/setPlaces


```json
[
  {
    "nID": 1,
    "sName": "Дніпропетровська",
    "aCity":
    [
      {
        "nID": 1,
        "sName": "Cічеслав"
      },
      {
        "nID": 2,
        "sName": "Кривий Ріг"
      }
    ]
  }
]

```
Ответ: HTTP STATUS 200

```json
[
    {
        "nID": 1,
        "sName": "Дніпропетровська",
        "aCity": [
            {
                "nID": 1,
                "sName": "Cічеслав"
            },
            {
                "nID": 2,
                "sName": "Кривий Ріг"
            }
        ]
    }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|jsonData|строка-json в том же формате, в котором он был в getPlaces|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Cоздание нового тип места
----
POST /object/place/setPlaceType
----

===== Description
:hardbreaks:
Пример:
https://alpha.test.igov.org.ua/wf-central/service/object/place/setPlaceType?sName=Type_1&nOrder=2&bArea=false&bRoot=false
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceTypes?bArea=false&bRoot=false


должен вернуть масив с вашей сущностью:

```json
[
    {
        "bArea": false,
        "bRoot": false,
        "nID": 3,
        "sName": "Город",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 4,
        "sName": "ПГТ",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 5,
        "sName": "Село",
        "nOrder": null
    },
    {
        "bArea": false,
        "bRoot": false,
        "nID": 23418,
        "sName": "Type_1",
        "nOrder": 2
    }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД записи|false|integer (int64)|
|QueryParameter|sName|строка имени|false|string|
|QueryParameter|nOrder|номер порядковый|false|integer (int64)|
|QueryParameter|bArea|булевый флаг. если true -- только территория (район)|true|boolean|
|QueryParameter|bRoot|булевый флаг. если true -- только корень (область)|true|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Удалить обьект по одному из четырех ключей (nID, nID_UA, sID_Two, sID_Three)
----
GET /object/place/removeCountry
----

===== Description
:hardbreaks:
удаляет обьект по одному из четырех ключей (nID, nID_UA, sID_Two, sID_Three) или кидает ошибку 403. Record not found!.


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер, идентификатор записи|false|integer (int64)|
|QueryParameter|nID_UA|ИД-номер Код, в Украинском классификаторе (уникальное)|false|integer (int64)|
|QueryParameter|sID_Two|ИД-строка Код-двухсимвольный, международный (уникальное, строка 2 символа)|false|string|
|QueryParameter|sID_Three|ИД-строка Код-трехсимвольный, международный (уникальное, строка 3 символа)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение субъекта
----
GET /object/place/getPlaceType
----

===== Description
:hardbreaks:
Пример:
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceType?nID=1
Ответ

```json
[
    {
        "bArea": true,
        "bRoot": true,
        "nID": 1,
        "sName": "Область",
        "nOrder": null
    }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|нет описания|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<PlaceType>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получение данных из справочника КОАТУУ
----
GET /object/place/getObjectPlace_UA
----

===== Description
:hardbreaks:
Получаем данные из справочника КОАТУУ. Пример:
https://alpha.test.igov.org.ua/wf/service/object/place/getObjectPlace_UA?sFind=днепр

Ответ:

```json
[
  {
    "sID": "00008000",
    "sName_UA": "Дніпропетровська обл.",
    "nID_PlaceType": 1,
    "nID": 1
  }
]

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|sFind - кретерий поиска в sID или sName_UA (без учета регистра, в любой части текста)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectPlace_UA>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Удаление объекта Place
----
POST /object/place/removePlace
----

===== Description
:hardbreaks:
Примеры
Удалить объект Place по первичному ключу (параметр nID).

https://alpha.test.igov.org.ua/wf-central/service/object/place/removePlace?nID=22830
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?nID=22830 должен вернуть cообщение об ошибке:

```json
{
    "code": "SYSTEM_ERR",
    "message": "Entity with id=22830 does not exist"
}




```
Удалить объект Place по уникальному UA id (параметр sID_UA).
https://alpha.test.igov.org.ua/wf-central/service/object/place/removePlace?sID_UA=90005000462
Результат
HTTP code = 200 OK

GET запрос по адресу https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlaceEntity?nID=22830 должен вернуть cообщение об ошибке:

```json
{
    "code": "SYSTEM_ERR",
    "message": "Entity with sID_UA='90005000462' not found"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД места|false|integer (int64)|
|QueryParameter|sID_UA|строка-ИД места (в классификаторе Украины)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Получения дерева мест (регионов и городов)
----
GET /object/place/getPlaces
----

===== Description
:hardbreaks:
Пример: 
https://alpha.test.igov.org.ua/wf/service/object/place/getPlaces
Ответ:

```json
[
    {
        "nID": 1,
        "sName": "Дніпропетровська",
        "aCity": [
            {
                "nID": 1,
                "sName": "Дніпропетровськ"
            },
            {
                "nID": 2,
                "sName": "Кривий Ріг"
            }
        ]
    },
    {
        "nID": 2,
        "sName": "Львівська",
        "aCity": [
            {
                "nID": 3,
                "sName": "Львів"
            }
        ]
    },
    {
        "nID": 3,
        "sName": "Івано-Франківська",
        "aCity": [
            {
                "nID": 4,
                "sName": "Івано-Франківськ"
            },
            {
                "nID": 5,
                "sName": "Калуш"
            }
        ]
    },
    {
        "nID": 4,
        "sName": "Миколаївська",
        "aCity": []
    },
    {
        "nID": 5,
        "sName": "Київська",
        "aCity": [
            {
                "nID": 6,
                "sName": "Київ"
            }
        ]
    },
    {
        "nID": 6,
        "sName": "Херсонська",
        "aCity": [
            {
                "nID": 7,
                "sName": "Херсон"
            }
        ]
    },
    {
        "nID": 7,
        "sName": "Рівненська",
        "aCity": [
            {
                "nID": 8,
                "sName": "Кузнецовськ"
            }
        ]
    },
    {
        "nID": 8,
        "sName": "Волинська",
        "aCity": [
            {
                "nID": 9,
                "sName": "Луцьк"
            }
        ]
    }
]

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение иерархии объектов вверх начиная с указанного узла
----
GET /object/place/getPlace
----

===== Description
:hardbreaks:
ПримерыПолучить иерархию объектов вверх начиная с указанного узла (параметр nID).

https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlace?nID=462
Ответ

```json
{
    "nLevelArea": null,
    "nLevel": 0,
    "o": {
        "nID": 462,
        "sName": "Віхове",
        "nID_PlaceType": 5,
        "sID_UA": "5923555102",
        "sNameOriginal": ""
    },
    "a": []
}

```
Примечание: по умолчанию возвращаются иерархия с ограниченным уровнем (только 1 уровень)
Получить иерархию объектов вверх начиная с указанного узла (параметр nID). Для активации выборки по полной иерархии необходимо указать параметр bTree.
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlace?nID=462&bTree=true
Ответ (возвращает иерархию объектов снизу вверх, напр. от деревни к району/области)

```json
{
    "nLevelArea": null,
    "nLevel": 2,
    "o": {
        "nID": 459,
        "sName": "Недригайлівський район/смт Недригайлів",
        "nID_PlaceType": 2,
        "sID_UA": "5923500000",
        "sNameOriginal": ""
    },
    "a": [
        {
            "nLevelArea": null,
            "nLevel": 1,
            "o": {
                "nID": 460,
                "sName": "Недригайлів",
                "nID_PlaceType": 4,
                "sID_UA": "5923555100",
                "sNameOriginal": ""
            },
            "a": [
                {
                    "nLevelArea": null,
                    "nLevel": 0,
                    "o": {
                        "nID": 462,
                        "sName": "Віхове",
                        "nID_PlaceType": 5,
                        "sID_UA": "5923555102",
                        "sNameOriginal": ""
                    },
                    "a": []
                }
            ]
        }
    ]
}

```
Получить иерархию объектов вверх начиная с указанного узла (параметр sUA_ID).
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlace?sID_UA=5923555102
Получить иерархию объектов вверх начиная с указанного узла (параметр sUA_ID). Для активации выборки по полной иерархии необходимо указать параметр bTree.
https://alpha.test.igov.org.ua/wf-central/service/object/place/getPlace?sID_UA=5923555102&bTree=true

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|id места|false|integer (int64)|
|QueryParameter|sID_UA|строка-ИД места (в классификаторе Украины)|false|string|
|QueryParameter|bTree|булевый флаг. если true -- в виде дерева|true|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<PlaceHierarchy>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== ProcessChatController — Организация Взаимосвязей Чата
:hardbreaks:
Process Chat Common Controller

==== Возврат иерархии чатов
----
GET /chat/process/getProcessChat
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/chat/process/getProcessChat?nID_Process_Activiti=3805456 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process_Activiti|ид процесса|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessChatResult>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Редактировать сообщение чата
----
PUT /chat/process/updateProcessChatMessage
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/chat/process/updateProcessChatMessage?nID_Process_Activiti=3805456&sKeyGroup=1&sKeyGroup_Author=Author&sLoginReferent=Referent&sBody=test&nID_ProcessChatMessage=1002 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process_Activiti|ид процесса|true|integer (int64)|
|QueryParameter|sKeyGroup|sKeyGroup|true|string|
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|sLoginReferent|sLoginReferent|true|string|
|QueryParameter|nID_ProcessChatMessage|nID_ProcessChatMessage|true|integer (int64)|
|BodyParameter|sJsonBody|JSON-объект с параметрами: sBody - строка тела сообщения-коммента (required = true)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessChatMessage>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json;charset=UTF-8

===== Produces

* application/json;charset=UTF-8

==== Сохранить сообщение чата
----
POST /chat/process/setProcessChatMessage
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/chat/process/setProcessChatMessage?nID_Process_Activiti=3805456&sKeyGroup=1&sKeyGroup_Author=Author&sLoginReferent=Referent&sBody=test&nID_ProcessChatMessage_Parent=1000 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process_Activiti|ид процесса|true|integer (int64)|
|QueryParameter|sKeyGroup|sKeyGroup|true|string|
|QueryParameter|sLogin|sLogin|true|string|
|QueryParameter|sLoginReferent|sLoginReferent|true|string|
|QueryParameter|nID_ProcessChatMessage_Parent|nID_ProcessChatMessage_Parent|false|integer (int64)|
|BodyParameter|sJsonBody|JSON-объект с параметрами: sBody - строка тела сообщения-коммента (required = true)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessChatMessage>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json;charset=UTF-8

===== Produces

* application/json;charset=UTF-8

==== Удалить сообщение
----
DELETE /chat/process/deleteProcessChatMessage
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/chat/process/deleteProcessChatMessage?nID_ProcessChatMessage=3805456&sKeyGroup_Author=Author 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_ProcessChatMessage|ид процесса|true|integer (int64)|
|QueryParameter|sLogin|sLogin|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ProcessCommonController — Организация Процессов
:hardbreaks:
Process Common Controller

==== Получение ProcessDefinition'ов которые sLogin может создавать, или в которых участник
----
GET /process/getAllBpForLogin
----

===== Description
:hardbreaks:
На вход так же принимает массив типов вкладок. Возможные значения для saFilterStatus: Task,Document, All
 Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/getAllBpForLogin?sLogin=OGOK_010691KVS&saFilterStatus=DocumentOpenedUnassignedUnprocessed 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Персонализированная группа|true|string|
|QueryParameter|sLoginReferent|Персонализированная группа - референт|false|string|
|QueryParameter|saFilterStatus|Тип закладки|false|string|
|QueryParameter|bIncludeRights|Включительно с правами на создание|false|boolean|
|QueryParameter|bFilterDoc|Фильтр (true - доки/ false - таски/ null - все)|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение полей процесса

----
GET /process/getBPFields
----

===== Description
:hardbreaks:
Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/getBPFields?sProcessDefinitionKey=_doc_btsol_vertical_sz 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sProcessDefinitionKey|Ид процесса без версионности|true|string|
|QueryParameter|bAllTypeFields|Флаг все поля/доступные для поиска|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ProcessLinkCommonController — Работа С Внешними Тасками
:hardbreaks:
Process Link Common Controller

==== Удаление всех ProcessLink'ов
----
GET /process/processlink/removeAllProcessLinks
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/processlink/removeAllProcessLinks 


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение ProcessLink'ов
----
GET /process/processlink/getProcessLinks
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/processlink/getProcessLinks?nID=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|персонализированная группа|true|string|
|QueryParameter|sType|тип закладки|true|string|
|QueryParameter|sSubType|тип под-закладки|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление ProcessLink'ов
----
GET /process/processlink/removeProcessLinks
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/processlink/removeProcessLinks?snID_Process_Activiti=37527622 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|Ид процесса|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Установить статус ProcessLink'ов
----
GET /process/processlink/setProcessLinkStatus
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/processlink/setProcessLinkStatus 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|sStatus|статус|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление всех Process'ов
----
GET /process/processlink/removeAllProcess
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/process/processlink/removeAllProcess 


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/редактирование ProcessLink
----
POST /process/processlink/setProcessLink
----

===== Description
:hardbreaks:
##### Пример:
{ 
    "nID_Server": "5",
    "sType": "Document",
    "sSubType": "OpenedUnassigned",
    "sID_Group_Activiti": "btsol",
    "sLogin": "btsol_011272SVL",
    "sTaskName": "task name",
    "sProcessName": "process name",
    "sProcessDateCreate": "2017-08-10",
    "sProcessDateModify": "2017-08-11",
    "sTaskDateCreate": "2017-08-12",
    "sTaskDateModify": "2017-08-13",
    "snID_Process_Activiti": "11111111",
    "snID_Task": "22222222",
    "nID_DocumentStepType": "3"
}

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|sBody|JSON c параметрами|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessLink>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=UTF-8

=== ProcessSubjectController — Иерархия Процессов
:hardbreaks:
Process Subject Common Controller

==== старт процесса по мультитаскам
----
GET /subject/process/startProcess
----

===== Description
:hardbreaks:
Пример вызова:https://alpha.test.region.igov.org.ua/wf/service/subject/process/startProcess?snID_Process_Activiti_Root=свое значениеsLogin=свое значение

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti_Root|ид процесса документа|true|string|
|QueryParameter|sLogin|логин|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|integer (int64)
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Задать логин
----
GET /subject/process/setProcessSubjectLogin
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/setProcessSubjectLogin?snID_Process_Activiti=MJU_Dnipro&sLogin=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|sLogin|sLogin|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Задать статус процесса 
----
POST /subject/process/setProcessSubjectStatus
----

===== Description
:hardbreaks:
##### Пример:{
  "queryParams": {
    "sText": "lorem ipsum lorem ipsum lorem ipsum lorem ipsum",
    "sID_ProcessSubjectStatus": "testoviy",
    "snID_Task_Activiti": "111111111",
    "sLoginController": "login login",
    "sLoginExecutor": null,
    "snID_ProcessSubjectTask": "2222222",
    "sDatePlaneNew": "20-02-2012"
  }
}

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|sBody|JSON c параметрами|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json;charset=utf-8

==== Вернуть массив логинов которые еще не являются участниками здания (из джейсона в редисе)
----
GET /subject/process/getProcessSubjectLoginsWithoutTask
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/getProcessSubjectLoginsWithoutTask?snID_Process_Activiti=33267773&sFilterLoginRole=Executor 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|sFilterLoginRole|фильтр ролей|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удвлить запись из act_hi_identitylink
----
GET /subject/process/deleteIdentityValue
----

===== Description
:hardbreaks:
Пример вызова:https://alpha.test.region.igov.org.ua/wf/service/subject/process/deleteIdentityValue?snID=свое значение

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID|ид записи в бд|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== проверка закрытия задач контролирующим
----
GET /subject/process/isDocumentTaskFinishedAll
----

===== Description
:hardbreaks:
Пример вызова:https://alpha.test.region.igov.org.ua/wf/service/subject/process/isDocumentTaskFinishedAll?snID_Process_Activiti=свое значение

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение иерархии процессов
----
GET /subject/process/getProcessSubject
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/getProcessSubject?snID_Process_Activiti=MJU_Dnipro&nDeepLevel=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubjectResult>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение иерархии процессов
----
GET /subject/process/getProcessSubjectTree
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/getProcessSubjectTree?snID_Process_Activiti=MJU_Dnipro&nDeepLevel=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|false|string|
|QueryParameter|bIncludeRoot|Флаг отображения рутового элемента для всей иерархии (true-отоборажаем, false-нет, по умолчанию Y)|false|boolean|
|QueryParameter|nDeepLevelWidth|Ширина выборки|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubjectResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Задать номер заявки
----
GET /subject/process/setProcessSubjectOrder
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/setProcessSubjectOrder?snID_Process_Activiti=MJU_Dnipro&nOrder=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|nOrder|nOrder|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранить процесс
----
GET /subject/process/setProcessSubject
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/setProcessSubject?snID_Process_Activiti=MJU_Dnipro&sLogin=1&sDatePlan=19-11-2016&nOrder=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|sLogin|sLogin|false|string|
|QueryParameter|sDatePlan|sDatePlan|false|string|
|QueryParameter|nOrder|nOrder|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранить процесс
----
GET /subject/process/setProcessSubjectDatePlan
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/setProcessSubjectDatePlan?snID_Process_Activiti=MJU_Dnipro&sDatePlan=2016-11-19 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|sDatePlan|sDatePlan|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Синхронизировать ProcessSubject
----
GET /subject/process/syncProcessSubject
----

===== Description
:hardbreaks:
Пример вызова:https://alpha.test.region.igov.org.ua/wf/service/subject/process/syncProcessSubject?snID_Process_Activiti=свое значение&snID_Task_Activiti=свое значение&sLogin=свое значение

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|QueryParameter|snID_Task_Activiti|ид таски|true|string|
|QueryParameter|sLogin|логин|true|string|
|QueryParameter|sLoginRole|роль логина (Executor, Controller)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Вернуть массив логинов-участников здания по ид-процесса-документа
----
GET /subject/process/getProcessSubjectByDocument
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/getProcessSubjectByDocument?snID_Process_Activiti_Root=33267773&sFilterLoginRole=Executor 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti_Root|ид процесса - документа|true|string|
|QueryParameter|sFilterLoginRole|фильтр ролей|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Вернуть объект ProcessSubjectTask
----
GET /subject/process/getProcessSubjectTask
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/process/getProcessSubjectTask?snID_Process_Activiti=33267773 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ид процесса|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessSubjectTask>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== RelationController — Обработка Relation
:hardbreaks:
Relation Common Controller

==== Обработка Relation
----
GET /relation/getRelations
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/relation/getRelations?sID_Relation=1&sFindChild=gro 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Relation|sID_Relation|true|string|
|QueryParameter|sFindChild|sFindChild|false|string|
|QueryParameter|nID_Parent|nID_Parent|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Relation_VO>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обработка Relation
----
GET /relation/getObjectGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/relation/getObjectGroup?sLogin=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обработка Relation
----
GET /relation/getObjectGroupParent
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/relation/getObjectGroupParent?sLogin=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|sLogin|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обработка Relation
----
GET /relation/getObjectGroupByPrivate_Source
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/relation/getObjectGroupByPrivate_Source?sID_Private_Source=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Private_Source|sID_Private_Source|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Server
:hardbreaks:
Server Controller

==== Получение информации о сервере
----
GET /subject/getServer
----

===== Description
:hardbreaks:
#####Получение информации о сервере #####

HTTP Context: https://alpha.test.region.igov.org.ua/wf/service/subject/getServer?nID=nID


возвращает json представление сущности Server, которая содержит информацию о сервере.

Примеры:
https://alpha.test.region.igov.org.ua/wf/service/subject/getServer?nID=0

Ответ:

```json
{
    "sID": "Common_Region",
    "sType": "Region",
    "sURL_Alpha": "https://test.region.igov.org.ua/wf",
    "sURL_Beta": "https://test-version.region.igov.org.ua/wf",
    "sURL_Omega": "https://master-version.region.igov.org.ua/wf",
    "sURL": "https://region.igov.org.ua/wf",
    "nID": 0
}

```
https://alpha.test.region.igov.org.ua/wf/service/subject/getServer?nID=-1
Ответ:
HTTP Status: 500 (internal server error)

```json
{
    "code": "BUSINESS_ERR",
    "message": "Record not found"
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|nID сервера|true|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Server>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/редактирование записи Server
----
GET /subject/setServer
----

===== Description
:hardbreaks:
#####Пример: #####

https://alpha.test.region.igov.org.ua/wf/service/subject/setServer?sID=Common_Region&sType=Region&sURL=https://alpha.test.region.igov.org.ua/wf

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|Название сервера|true|string|
|QueryParameter|sType|Тип сервера (Region/Central)|false|string|
|QueryParameter|sURL_Alpha|sURL_Alpha|false|string|
|QueryParameter|sURL_Beta|sURL_Beta|false|string|
|QueryParameter|sURL_Omega|sURL_Omega|false|string|
|QueryParameter|sURL|sURL|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Server>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== ServerEntitySyncController — Загрузка И Синхронизация Персонала
:hardbreaks:
Server Entity Sync Controller

==== Бекап таблиц персонала
----
GET /sync/entity/downloadStaff
----

===== Description
:hardbreaks:
Сервис возвращает бекап-архив для таблиц персонала "Subject", "SubjectContact", "SubjectHuman", "SubjectOrgan", "SubjectHumanPositionCustom", 
"SubjectGroup", "SubjectGroupTree", "SubjectAccount". 

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Очищает таблицу с перечнем сущностей для синхронизации (полное удаление очереди и старых записей). Применять ТОЛЬКО для тестовых серверов или с разрешения рук-ва
----
GET /sync/entity/removeAllServerEntitySync
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Запуск синхронизации персонала для всех серверов из перечня Server.csvПример запроса - https://beta.test.idoc.com.ua/wf/service/sync/entity/serverEntitySyncService
----
GET /sync/entity/serverEntitySyncService
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Полная очистка таблиц персонала
----
GET /sync/entity/cleanTables
----

===== Description
:hardbreaks:
Сервис делает trancate для таблиц персонала "Subject", "SubjectContact", "SubjectHuman", "SubjectOrgan", "SubjectHumanPositionCustom", 
"SubjectGroup", "SubjectGroupTree", "SubjectAccount". "Применять ТОЛЬКО для тестовых серверов или с разрешения рук-ва"

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление таблиц персонала из архива с csv
----
POST /sync/entity/reloadStaff
----

===== Description
:hardbreaks:
Сontent-type запроса - убрать. В тело запроса поступает архив из восьми csv-файлов, соот-х таблицам персонала: "Subject.csv", "SubjectContact.csv", "SubjectHuman.csv", "SubjectOrgan.csv", "SubjectHumanPositionCustom.csv", "SubjectGroup.csv", 
"SubjectGroupTree.csv", "SubjectAccount.csv", данные из которых полностью перезатрут собой соотв-е таблицы. В ответ сервис отдает архив с csv-дампами таблиц до изенений - на случай необходимости восстановления. Чтобы скачать его в виде файла - из постмана спользуйте кнопку Send and Download вместо Send. В случае ошибки - отдается бекап, http-статус ответа - 500, дамп автоматически перезаливается в таблицы. Пример запроса - https://beta.test.idoc.com.ua/wf/service/sync/entity/reloadStaff

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|FormDataParameter|file|file|true|file|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* multipart/form-data

===== Produces

* */*

=== Subject
:hardbreaks:
Subject Group Controller

==== Получение иерархии сотрудников и отделов вниз без соблюдения связей
----
GET /subject/group/getSubjectTree
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOKPO|ЕДРПОУ|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordsOfUsersOnServer
----
GET /subject/sendPasswordsOfUsersOnServer
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Server|Номер-ID Сервера|true|integer (int64)|
|QueryParameter|saAdminMail|Электронные адреса администраторов|true|string|
|QueryParameter|bSend|Отослать на почту|false|boolean|false
|QueryParameter|bSendAdmin|Отослать на почту только админу|false|boolean|false
|QueryParameter|bReset|Сброс пароля|false|boolean|false
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/обновление данных о компании (отделе)
----
GET /subject/setSubjectOrgan
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectOrgan?sName=ТК&sNameFull=Тестовая компания&sID_Group_Activiti=TK&sOKPO=ОКПО

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sName|Название организации/отдела|true|string|
|QueryParameter|bCreate|Флаг редактирования записи|true|boolean|
|QueryParameter|sID_Group_Activiti|Строковый ID компании. Отделам назначается автоматически|false|string|
|QueryParameter|sOKPO|Значение единого гос. реестра предприятий и организаций|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sID_Group_Activiti_Parent|Строковый ID родительского отдела. Без этого параметра подразумевается компания|false|string|
|QueryParameter|sFormPrivacy|sFormPrivacy|false|string|
|QueryParameter|sEmail|Контактная почта организации|false|string|
|QueryParameter|sStatus|Статус|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии
----
GET /subject/group/getSubjectGroups
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroups?sID_Group_Activiti=MJU_Dnipro&nDeepLevel=1 
Ответ: HTTP STATUS 200


```json
{
"aSubjectGroup": [
{
"sID_Group_Activiti": "MJU_Dnipro_Top3",
"sChain": "MJU_Dnipro_",
"nID": 172,
"sName": "Управління державної виконавчої служби-начальник управління"
	}
	],
aSubjectUser": [
{
"sLogin": "MJU_common",
"sFirstName": "мінюст",
sLastName": "тестовий користувач",
sEmail":,
sPicture": "null
        }
    ]
}


```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroupResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordOfUser
----
GET /subject/sendPasswordOfUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sUserLogin|Логин пользователя|true|string|
|QueryParameter|sUserMail|Электронный адрес пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PUT /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
POST /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PATCH /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
GET /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
OPTIONS /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
HEAD /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
DELETE /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== findSubjectGroup
----
GET /subject/group/findInCompany
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti_Company|Строковый ID компании или отдела в компании|true|string|
|QueryParameter|sFind|Поисковое значение по вхождению ФИО|true|string|
|QueryParameter|sSubjectType|Тип сущности|true|enum (Human, Organ)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание данных о сотруднике
----
POST /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sLogin=test_human&sPassword=test_pwd&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sPassword|Пароль|true|string|
|QueryParameter|sEmail|Контактная почта|true|string|
|QueryParameter|sPhone|Контактный телефон|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sPosition|Должность|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела, в котором состоит сотрудник|true|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|false
|QueryParameter|nID_Server|Порядковый ID сервера, с которого осуществляется вход в систему|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление данных о сотруднике
----
GET /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sID_Group_Activiti=test_human&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела|true|string|
|QueryParameter|sStatus|Статус|false|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|sPosition|Должность|false|string|
|QueryParameter|sEmail|Контактная почта|false|string|
|QueryParameter|sPhone|Контактный телефон|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PUT /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
POST /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PATCH /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
GET /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
OPTIONS /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
HEAD /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
DELETE /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение человека или органа по его логину
----
GET /subject/group/getSubjectGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroup?sID_Group_Activiti=btsol_010188FKL


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectAccountType
:hardbreaks:
Типы аккаунтов

==== Удаление типа аккаунта по его ID
----
PUT /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|201|Created|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
POST /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|201|Created|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
PATCH /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
GET /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
OPTIONS /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
HEAD /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление типа аккаунта по его ID
----
DELETE /subject/deleteSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectAccountType?nID=targetID


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ИД типа аккаунта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение типов аккаунта, всех или по вхождению
----
GET /subject/getSubjectAccountTypes
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectAccountTypes?sNote=iGov


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Название типа аккаунта|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectAccountType>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание нового типа аккаунта
----
GET /subject/setSubjectAccountType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectAccountType?nID=007&sID=IAmNewAccountType&sNote=IAmAnyNote


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Название типа аккаунта|true|string|
|QueryParameter|nID|Порядковый ИД|false|integer (int64)|
|QueryParameter|sID|Строковый  ИД|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectAccountType>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectCommonController — Организационная Иерархия
:hardbreaks:
Subject Common Controller

==== /setSubjectContact
----
POST /subject/setSubjectContact
----

===== Description
:hardbreaks:
Добавление контактов сотрудника или организации

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|строковый ID сотрудника или организации|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|BodyParameter|aContactWrapper|массив контактов в формате [{"sType":"","sValue":""},{...}]|true|<<SubjectContactWrapper>> array|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json
* application/json;charset=UTF-8

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
PUT /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
POST /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
PATCH /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
GET /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
OPTIONS /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
HEAD /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов сотрудника или организации
----
DELETE /subject/getSubjectContact
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContact?sID_Group_Activiti=NSTU_13917_KTM

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника или организации|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContact>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов всех иерархии по заданным параметрам
----
GET /subject/getSubjectContactValues
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника, отдела, компании|true|string|
|QueryParameter|sSubjectContactType|Тип контакта|true|string|
|QueryParameter|sSubjectType|Тип |false|enum (Human, Organ, All)|All
|QueryParameter|nLevel|Глубина подчинения выборки, '-1' = вся иерархия|false|integer (int32)|1
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение контактов
----
GET /subject/getSubjectContacts
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContacts?snID_Process_Activiti=34610001&sID_Field=sTableViewed&sSubjectType=Human&nID_SubjectContactType=1 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|snID_Process_Activiti|ИД процесса|true|string|
|QueryParameter|sID_Field|ид поля - из которого мы вытянем или тейблу, или селек, или стрингу|true|string|
|QueryParameter|sID_FieldTable|ид поля таблицы|true|string|
|QueryParameter|sSubjectType|фильтр по типу Subject'a|false|string|
|QueryParameter|sSubjectContactType|тип контакта|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение субъекта
----
GET /subject/syncSubject
----

===== Description
:hardbreaks:
##### SubjectController - Субъекты  и смежные сущности. Получение субъекта #####

HTTP Context: http://server:port/wf/service/subject/syncSubject


Если субъект найден, или добавление субъекта в противном случае

От клиента ожидается ОДИН и только ОДИН параметр из нижеперечисленных

- nID - ИД-номер субъекта
- sINN - строка-ИНН (субъект - человек)
- sOKPO - строка-ОКПО (субъек - организация)
- nID_Subject - ID авторизированого субъекта (добавляется в запрос автоматически после аутентификации пользователя)


Примеры:

https://alpha.test.igov.org.ua/wf/service/subject/syncSubject?sINN=34125265377

https://alpha.test.igov.org.ua/wf/service/subject/syncSubject?sOKPO=123

https://alpha.test.igov.org.ua/wf/service/subject/syncSubject?nID=1

Response

```json
{
    "nID":150,
    "sID":"34125265377",
    "sLabel":null,
    "sLabelShort":null
}

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер субъекта|false|integer (int64)|
|QueryParameter|sINN|строка-ИНН (субъект - человек)|false|string|
|QueryParameter|nID_SubjectHumanIdType|номер-ИД типа идентификации субьекта-человека (по умолчанию 0)|false|integer (int32)|
|QueryParameter|sCode_Subject|строка-код, параметр-идентификатора субьекта (без префикса типа)|false|string|
|QueryParameter|sOKPO|строка-ОКПО (субъек - организация)|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Subject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== Удалить контакты по ид контакта или ид сабджекта
----
GET /subject/deleteSubjectContactBy
----

===== Description
:hardbreaks:
Пример: https://alpha.test.region.igov.org.ua/wf/service/subject/deleteSubjectContactBy?nID_Subject=641

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_SubjectContact|ид контакта|false|integer (int64)|
|QueryParameter|nID_Subject|ид сабджекта|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json
* application/json;charset=UTF-8

===== Produces

* */*

==== Получение e-mail по логину
----
GET /subject/getEmailByLogin
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getEmailByLogin?sLogin=MJU_Dnipro_KrRigArea_DVS 


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|логин|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== /deleteSubjectContact
----
POST /subject/deleteSubjectContact
----

===== Description
:hardbreaks:
Удаление контактов сотрудника или организации. В ответ: список значений 

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|строковый ID сотрудника или организации|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|BodyParameter|aContactWrapper|массив контактов в формате [{"sType":"","sValue":""},{...}]|true|<<SubjectContactWrapper>> array|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json
* application/json;charset=UTF-8

===== Produces

* */*

==== Получение сабджекта по логину
----
GET /subject/getSubjectByLoginAccount
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectByLoginAccount?sLogin=kermit 
Ответ: HTTP STATUS 200



===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|логин|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Subject>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectContact
:hardbreaks:
Управление сотрудниками

==== sendPasswordsOfUsersOnServer
----
GET /subject/sendPasswordsOfUsersOnServer
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Server|Номер-ID Сервера|true|integer (int64)|
|QueryParameter|saAdminMail|Электронные адреса администраторов|true|string|
|QueryParameter|bSend|Отослать на почту|false|boolean|false
|QueryParameter|bSendAdmin|Отослать на почту только админу|false|boolean|false
|QueryParameter|bReset|Сброс пароля|false|boolean|false
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordOfUser
----
GET /subject/sendPasswordOfUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sUserLogin|Логин пользователя|true|string|
|QueryParameter|sUserMail|Электронный адрес пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PUT /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
POST /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PATCH /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
GET /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
OPTIONS /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
HEAD /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
DELETE /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PUT /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
POST /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PATCH /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
GET /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
OPTIONS /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
HEAD /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
DELETE /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание данных о сотруднике
----
POST /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sLogin=test_human&sPassword=test_pwd&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sPassword|Пароль|true|string|
|QueryParameter|sEmail|Контактная почта|true|string|
|QueryParameter|sPhone|Контактный телефон|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sPosition|Должность|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела, в котором состоит сотрудник|true|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|false
|QueryParameter|nID_Server|Порядковый ID сервера, с которого осуществляется вход в систему|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление данных о сотруднике
----
GET /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sID_Group_Activiti=test_human&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела|true|string|
|QueryParameter|sStatus|Статус|false|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|sPosition|Должность|false|string|
|QueryParameter|sEmail|Контактная почта|false|string|
|QueryParameter|sPhone|Контактный телефон|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectContactType
:hardbreaks:
Работа с типами контактов

==== deleteSubjectContactType
----
GET /subject/deleteSubjectContactType
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ID типа контакта|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение всех типов контактов
----
GET /subject/getSubjectContactType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectContactType


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContactType>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/обновление типа контакта
----
GET /subject/setSubjectContactType
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectContactType?sName_EN=Bell&sName_RU=Колокол&sName_UA=Дзвін


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|Порядковый ID типа контакта, используется для обновления записи|false|integer (int64)|
|QueryParameter|sName_EN|Название на английском|false|string|
|QueryParameter|sName_RU|Название на русском|false|string|
|QueryParameter|sName_UA|Название на украинском|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectContactType>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectGroup
:hardbreaks:
Subject Group Controller

==== Получение иерархии сотрудников и отделов вниз без соблюдения связей
----
GET /subject/group/getSubjectTree
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOKPO|ЕДРПОУ|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordsOfUsersOnServer
----
GET /subject/sendPasswordsOfUsersOnServer
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Server|Номер-ID Сервера|true|integer (int64)|
|QueryParameter|saAdminMail|Электронные адреса администраторов|true|string|
|QueryParameter|bSend|Отослать на почту|false|boolean|false
|QueryParameter|bSendAdmin|Отослать на почту только админу|false|boolean|false
|QueryParameter|bReset|Сброс пароля|false|boolean|false
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/обновление данных о компании (отделе)
----
GET /subject/setSubjectOrgan
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectOrgan?sName=ТК&sNameFull=Тестовая компания&sID_Group_Activiti=TK&sOKPO=ОКПО

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sName|Название организации/отдела|true|string|
|QueryParameter|bCreate|Флаг редактирования записи|true|boolean|
|QueryParameter|sID_Group_Activiti|Строковый ID компании. Отделам назначается автоматически|false|string|
|QueryParameter|sOKPO|Значение единого гос. реестра предприятий и организаций|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sID_Group_Activiti_Parent|Строковый ID родительского отдела. Без этого параметра подразумевается компания|false|string|
|QueryParameter|sFormPrivacy|sFormPrivacy|false|string|
|QueryParameter|sEmail|Контактная почта организации|false|string|
|QueryParameter|sStatus|Статус|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии
----
GET /subject/group/getSubjectGroups
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroups?sID_Group_Activiti=MJU_Dnipro&nDeepLevel=1 
Ответ: HTTP STATUS 200


```json
{
"aSubjectGroup": [
{
"sID_Group_Activiti": "MJU_Dnipro_Top3",
"sChain": "MJU_Dnipro_",
"nID": 172,
"sName": "Управління державної виконавчої служби-начальник управління"
	}
	],
aSubjectUser": [
{
"sLogin": "MJU_common",
"sFirstName": "мінюст",
sLastName": "тестовий користувач",
sEmail":,
sPicture": "null
        }
    ]
}


```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroupResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordOfUser
----
GET /subject/sendPasswordOfUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sUserLogin|Логин пользователя|true|string|
|QueryParameter|sUserMail|Электронный адрес пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PUT /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
POST /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PATCH /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
GET /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
OPTIONS /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
HEAD /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
DELETE /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== findSubjectGroup
----
GET /subject/group/findInCompany
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti_Company|Строковый ID компании или отдела в компании|true|string|
|QueryParameter|sFind|Поисковое значение по вхождению ФИО|true|string|
|QueryParameter|sSubjectType|Тип сущности|true|enum (Human, Organ)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание данных о сотруднике
----
POST /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sLogin=test_human&sPassword=test_pwd&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sPassword|Пароль|true|string|
|QueryParameter|sEmail|Контактная почта|true|string|
|QueryParameter|sPhone|Контактный телефон|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sPosition|Должность|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела, в котором состоит сотрудник|true|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|false
|QueryParameter|nID_Server|Порядковый ID сервера, с которого осуществляется вход в систему|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление данных о сотруднике
----
GET /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sID_Group_Activiti=test_human&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела|true|string|
|QueryParameter|sStatus|Статус|false|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|sPosition|Должность|false|string|
|QueryParameter|sEmail|Контактная почта|false|string|
|QueryParameter|sPhone|Контактный телефон|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PUT /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
POST /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PATCH /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
GET /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
OPTIONS /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
HEAD /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
DELETE /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение человека или органа по его логину
----
GET /subject/group/getSubjectGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroup?sID_Group_Activiti=btsol_010188FKL


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectGroupController — Организационная Иерархия
:hardbreaks:
Subject Group Common Controller

==== checkAllSubjects
----
GET /subject/group/checkAllSubjects
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|id для старта (по органам и департаментам - одновременно)|false|integer (int32)|
|QueryParameter|count|Количество обрабатываемых элементов|false|integer (int32)|
|QueryParameter|sType|Тип проверяемого справочника - Organ или Human|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии вверх
----
GET /subject/group/getSubjectGroupsTreeUp
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroupsTreeUp?sID_Group_Activiti=OGOK_010158KAV&sSubjectType=Organ

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Идентификатор группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|bIncludeRoot|Флаг отображения рутового элемента для всей иерархии (true-отоборажаем, false-нет, по умолчанию yes)|false|boolean|
|QueryParameter|sSubjectType|Тип выборки: Organ- иерархия в разрезе органы,  Human -иерархия в разрезе людей|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии вниз
----
GET /subject/group/getSubjectGroupsTree
----

===== Description
:hardbreaks:
##### Пример:https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroupsTree?sID_Group_Activiti=MJU_Dnipro&sSubjectType=Organ&nDeepLevel=1&sFind=Управління

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|false|string|
|QueryParameter|bIncludeRoot|Флаг отображения рутового элемента для всей иерархии (true-отоборажаем, false-нет, по умолчанию false)|false|boolean|
|QueryParameter|nDeepLevelWidth|Ширина выборки|false|integer (int64)|
|QueryParameter|sSubjectType|Тип выборки: Organ- иерархия в разрезе органы,  Human -иерархия в разрезе людей, * - иерархия органы+люди|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroupResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
PUT /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
POST /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
PATCH /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
GET /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
OPTIONS /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
HEAD /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== temp_removeSelfReference
----
DELETE /subject/group/removeSelfReference
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID|sID|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getBPs_ForExport
----
GET /subject/group/getBPs_ForExport
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин сотрудника|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение доступных бизнес-процессов по критерию
----
GET /subject/group/getBPs_ForReferent
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getBPs_ForReferent?nID_SubjectHumanPositionCustom_Referent=1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин сотрудника|false|string|
|QueryParameter|sID_Group_Referent|sID органа-департамента|false|string|
|QueryParameter|nID_SubjectHumanPositionCustom_Referent|nID должности сотрудника|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectRightBPVO>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectHuman
:hardbreaks:
Subject Group Controller

==== Получение иерархии сотрудников и отделов вниз без соблюдения связей
----
GET /subject/group/getSubjectTree
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOKPO|ЕДРПОУ|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordsOfUsersOnServer
----
GET /subject/sendPasswordsOfUsersOnServer
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Server|Номер-ID Сервера|true|integer (int64)|
|QueryParameter|saAdminMail|Электронные адреса администраторов|true|string|
|QueryParameter|bSend|Отослать на почту|false|boolean|false
|QueryParameter|bSendAdmin|Отослать на почту только админу|false|boolean|false
|QueryParameter|bReset|Сброс пароля|false|boolean|false
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии
----
GET /subject/group/getSubjectGroups
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroups?sID_Group_Activiti=MJU_Dnipro&nDeepLevel=1 
Ответ: HTTP STATUS 200


```json
{
"aSubjectGroup": [
{
"sID_Group_Activiti": "MJU_Dnipro_Top3",
"sChain": "MJU_Dnipro_",
"nID": 172,
"sName": "Управління державної виконавчої служби-начальник управління"
	}
	],
aSubjectUser": [
{
"sLogin": "MJU_common",
"sFirstName": "мінюст",
sLastName": "тестовий користувач",
sEmail":,
sPicture": "null
        }
    ]
}


```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroupResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== sendPasswordOfUser
----
GET /subject/sendPasswordOfUser
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sUserLogin|Логин пользователя|true|string|
|QueryParameter|sUserMail|Электронный адрес пользователя|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PUT /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
POST /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
PATCH /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
GET /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
OPTIONS /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
HEAD /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getSubjectHuman_Compact
----
DELETE /subject/getSubjectHuman_Compact
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO_Compact>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== findSubjectGroup
----
GET /subject/group/findInCompany
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti_Company|Строковый ID компании или отдела в компании|true|string|
|QueryParameter|sFind|Поисковое значение по вхождению ФИО|true|string|
|QueryParameter|sSubjectType|Тип сущности|true|enum (Human, Organ)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание данных о сотруднике
----
POST /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sLogin=test_human&sPassword=test_pwd&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sPassword|Пароль|true|string|
|QueryParameter|sEmail|Контактная почта|true|string|
|QueryParameter|sPhone|Контактный телефон|true|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sPosition|Должность|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела, в котором состоит сотрудник|true|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|false
|QueryParameter|nID_Server|Порядковый ID сервера, с которого осуществляется вход в систему|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Обновление данных о сотруднике
----
GET /subject/setSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHuman?sFamily=%D0%A4&sName=%D0%98&sSurname=%D0%9E&sLogin=test_human&sDateBirth=20.10.1990&sPhone=103&sEmail=test_human_email@test.com&sID_Group_Activiti=test_human&sPosition=Programmer&sID_Group_Activiti_Organ=MJU_Dnipro_7

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sLogin|Логин|true|string|
|QueryParameter|sFamily|Фамилия|true|string|
|QueryParameter|sName|Имя|true|string|
|QueryParameter|sSurname|Отчество|true|string|
|QueryParameter|sID_Group_Activiti_Organ|Строковый ID отдела|true|string|
|QueryParameter|sStatus|Статус|false|string|
|QueryParameter|sDateBirth|Дата рождения|false|string|
|QueryParameter|sPosition|Должность|false|string|
|QueryParameter|sEmail|Контактная почта|false|string|
|QueryParameter|sPhone|Контактный телефон|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|isHead|Флаг назначения в руководители отдела|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PUT /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
POST /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
PATCH /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
GET /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
OPTIONS /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
HEAD /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение данных о сотруднике
----
DELETE /subject/getSubjectHuman
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHuman?sID_Group_Activiti=MJU_Dnipro_Top7_Dep1

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|Строковый ID сотрудника|true|string|
|QueryParameter|bIncludeSubjectGroupChilds|Включительно дети|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanVO>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение человека или органа по его логину
----
GET /subject/group/getSubjectGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroup?sID_Group_Activiti=btsol_010188FKL


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectHumanPositionCustom
:hardbreaks:
Работа с должностями сотрудников

==== Сохранение/редактирование должности
----
PUT /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
POST /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
PATCH /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
GET /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
OPTIONS /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
HEAD /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Сохранение/редактирование должности
----
DELETE /subject/setSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
Посылать без nID для сохранения, с - для обновления.
 ##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectHumanPositionCustom?sNote=Тестовая позиция

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sNote|Наименование должности|true|string|
|QueryParameter|sName|Строковый ID должности|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|bCreate|Признак создания/редактирования|false|boolean|
|QueryParameter|sLogin|Логин, под кем заводится новая должность|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>>
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
PUT /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
POST /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
PATCH /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
GET /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
OPTIONS /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
HEAD /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение списка должностей, всех или по критерию
----
DELETE /subject/getSubjectHumanPositionCustom
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectHumanPositionCustom?sFind=Началь


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sFind|Поисковое значение по названию должности|false|string|
|QueryParameter|sLogin|Логин сотрудника, в чьей компании искать должности|false|string|
|QueryParameter|sLoginReferent|Логин-референт|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectHumanPositionCustom>> array
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectHumanRole
:hardbreaks:
Subject Human Role Controller

==== Предоставление сабджекту роли
----
GET /subject/setSubjectHumanRole
----

===== Description
:hardbreaks:
Предоставление сабджекту роли

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_SubjectHuman|nID_SubjectHuman|true|integer (int64)|
|QueryParameter|nID_SubjectHumanRole|nID_SubjectHumanRole|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Проверка, является ли текущий логин администратором
----
GET /subject/isAdmin
----

===== Description
:hardbreaks:
##### Пример:alpha.test.region.igov.org.ua/wf/service/subject/isAdmin

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|sID_Group_Activiti|false|string|
|BodyParameter|session|session|false|<<HttpSession>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|boolean
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectMessageCommonController -- Сообщения Субьектов
:hardbreaks:
Subject Message Common Controller

==== callbackSMS
----
POST /subject/message/getCallbackSMS_PB
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|soData_JSON|soData_JSON|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== callbackSMS
----
GET /subject/message/getCallbackSMS_PB
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|soData_JSON|soData_JSON|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== /sendSms
----
POST /subject/message/sendSms
----

===== Description
:hardbreaks:
##### Контроллер отправки смс с проверкой номера по оператору абонента


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|phone|Номер телефона в формате 380XXXXXXXXX|true|string|
|QueryParameter|message|Текст сообщения|true|string|
|QueryParameter|sID_Order|Номер заявки|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

==== /sendSms
----
GET /subject/message/sendSms
----

===== Description
:hardbreaks:
##### Контроллер отправки смс с проверкой номера по оператору абонента


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|phone|Номер телефона в формате 380XXXXXXXXX|true|string|
|QueryParameter|message|Текст сообщения|true|string|
|QueryParameter|sID_Order|Номер заявки|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* text/plain;charset=UTF-8

=== SubjectOrgan
:hardbreaks:
Subject Group Controller

==== Получение иерархии сотрудников и отделов вниз без соблюдения связей
----
GET /subject/group/getSubjectTree
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sOKPO|ЕДРПОУ|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создание/обновление данных о компании (отделе)
----
GET /subject/setSubjectOrgan
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/setSubjectOrgan?sName=ТК&sNameFull=Тестовая компания&sID_Group_Activiti=TK&sOKPO=ОКПО

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sName|Название организации/отдела|true|string|
|QueryParameter|bCreate|Флаг редактирования записи|true|boolean|
|QueryParameter|sID_Group_Activiti|Строковый ID компании. Отделам назначается автоматически|false|string|
|QueryParameter|sOKPO|Значение единого гос. реестра предприятий и организаций|false|string|
|QueryParameter|isSync|Вызывается ли сервис через механизм синхронизации|false|boolean|
|QueryParameter|sID_Group_Activiti_Parent|Строковый ID родительского отдела. Без этого параметра подразумевается компания|false|string|
|QueryParameter|sFormPrivacy|sFormPrivacy|false|string|
|QueryParameter|sEmail|Контактная почта организации|false|string|
|QueryParameter|sStatus|Статус|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение организационной иерархии
----
GET /subject/group/getSubjectGroups
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroups?sID_Group_Activiti=MJU_Dnipro&nDeepLevel=1 
Ответ: HTTP STATUS 200


```json
{
"aSubjectGroup": [
{
"sID_Group_Activiti": "MJU_Dnipro_Top3",
"sChain": "MJU_Dnipro_",
"nID": 172,
"sName": "Управління державної виконавчої служби-начальник управління"
	}
	],
aSubjectUser": [
{
"sLogin": "MJU_common",
"sFirstName": "мінюст",
sLastName": "тестовий користувач",
sEmail":,
sPicture": "null
        }
    ]
}


```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|QueryParameter|nDeepLevel|глубина выборки|false|integer (int64)|
|QueryParameter|sFind|текст поиска (искать в ФИО, по наличию вхождения текста в ФИО)|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroupResultTree>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== findSubjectGroup
----
GET /subject/group/findInCompany
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti_Company|Строковый ID компании или отдела в компании|true|string|
|QueryParameter|sFind|Поисковое значение по вхождению ФИО|true|string|
|QueryParameter|sSubjectType|Тип сущности|true|enum (Human, Organ)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Получение человека или органа по его логину
----
GET /subject/group/getSubjectGroup
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/group/getSubjectGroup?sID_Group_Activiti=btsol_010188FKL


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_Group_Activiti|ид группы|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectGroup>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectRightBP
:hardbreaks:
Управление правами на создание БП

==== Получить уникальный список бизнесс процессов
----
GET /subject/right/getAllBPs
----

===== Description
:hardbreaks:
##### Пример:
 https://alpha.test.idoc.com.ua/wf/service/subject/right/getAllBPs

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<Map«string,string»>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удалить права на создание БП. Можно добавлять как все критерии сразу так и комбинациями:
 ид БП - ид группы, ид БП - ид должности.
----
GET /subject/right/removeBP
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/right/removeBP?sID_BP=_doc_justice_22&sID_Group_Referent=justice_common
 - удалить по ид БП и группе
https://alpha.test.region.igov.org.ua/wf/service/subject/right/removeBP?sID_BP=_doc_justice_22&nID_SubjectHumanPosition=22
 - удалить по должности

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|Ид бизнес процесса|false|string|
|QueryParameter|sID_Group_Referent|Группа|false|string|
|QueryParameter|nID_SubjectHumanPosition|Должность|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Создать права на создание БП. Можно добавлять как все критерии сразу так и комбинациями:
 ид БП - ид группы, ид БП - ид должности.
----
GET /subject/right/setBP
----

===== Description
:hardbreaks:
##### Пример:
https://alpha.test.region.igov.org.ua/wf/service/subject/right/setBP?sID_BP=_doc_justice_22&sID_Group_Referent=justice_common
 - добавить по ид БП и группе
https://alpha.test.region.igov.org.ua/wf/service/subject/right/setBP?sID_BP=_doc_justice_22&nID_SubjectHumanPosition=22
 - добавить по должности

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sID_BP|Ид бизнес процесса|false|string|
|QueryParameter|sID_Group_Referent|Группа|false|string|
|QueryParameter|nID_SubjectHumanPosition|Должность|false|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== SubjectStatus
:hardbreaks:
Работа со статусами сабджектов

==== Получение всех типов контактов
----
GET /subject/getSubjectStatus
----

===== Description
:hardbreaks:
##### Пример: https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectStatus - получить все статусы
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectStatus?sName_SubjectType=Human - получить все статусы для Human
https://alpha.test.region.igov.org.ua/wf/service/subject/getSubjectStatus?sName_SubjectType=Organ - получить все статусы для Organ


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|sName_SubjectType|Тип сабджекта|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SubjectStatus>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Deployment-collection-resource
:hardbreaks:
Deployment Collection Resource

==== uploadDeployment
----
POST /repository/deployments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|tenantId|tenantId|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DeploymentResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getDeployments
----
GET /repository/deployments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Deployment-resource
:hardbreaks:
Deployment Resource

==== getDeployment
----
GET /repository/deployments/{deploymentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|deploymentId|deploymentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DeploymentResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteDeployment
----
DELETE /repository/deployments/{deploymentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|deploymentId|deploymentId|true|string|
|QueryParameter|cascade|cascade|false|boolean|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Deployment-resource-collection-resource
:hardbreaks:
Deployment Resource Collection Resource

==== getDeploymentResources
----
GET /repository/deployments/{deploymentId}/resources
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|deploymentId|deploymentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DeploymentResourceResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Deployment-resource-data-resource
:hardbreaks:
Deployment Resource Data Resource

==== getDeploymentResource
----
GET /repository/deployments/{deploymentId}/resourcedata/{resourceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|deploymentId|deploymentId|true|string|
|PathParameter|resourceId|resourceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Deployment-resource-resource
:hardbreaks:
Deployment Resource Resource

==== getDeploymentResource
----
GET /repository/deployments/{deploymentId}/resources/**
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|deploymentId|deploymentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DeploymentResourceResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Execution-active-activities-collection-resource
:hardbreaks:
Execution Active Activities Collection Resource

==== getActiveActivities
----
GET /runtime/executions/{executionId}/activities
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Execution-collection-resource
:hardbreaks:
Execution Collection Resource

==== executeExecutionAction
----
PUT /runtime/executions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|actionRequest|actionRequest|true|<<ExecutionActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getProcessInstances
----
GET /runtime/executions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Execution-query-resource
:hardbreaks:
Execution Query Resource

==== queryProcessInstances
----
POST /query/executions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<ExecutionQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Execution-resource
:hardbreaks:
Execution Resource

==== performExecutionAction
----
PUT /runtime/executions/{executionId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|BodyParameter|actionRequest|actionRequest|true|<<ExecutionActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ExecutionResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getExecution
----
GET /runtime/executions/{executionId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ExecutionResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Execution-variable-collection-resource
:hardbreaks:
Execution Variable Collection Resource

==== createOrUpdateExecutionVariable
----
PUT /runtime/executions/{executionId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== createExecutionVariable
----
POST /runtime/executions/{executionId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariables
----
GET /runtime/executions/{executionId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteLocalVariables
----
DELETE /runtime/executions/{executionId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Execution-variable-data-resource
:hardbreaks:
Execution Variable Data Resource

==== getVariableData
----
GET /runtime/executions/{executionId}/variables/{variableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Execution-variable-resource
:hardbreaks:
Execution Variable Resource

==== updateVariable
----
PUT /runtime/executions/{executionId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|PathParameter|variableName|variableName|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariable
----
GET /runtime/executions/{executionId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteVariable
----
DELETE /runtime/executions/{executionId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|executionId|executionId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Form-data-resource
:hardbreaks:
Form Data Resource

==== submitForm
----
POST /form/form-data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|submitRequest|submitRequest|true|<<SubmitFormRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessInstanceResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getFormData
----
GET /form/form-data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|taskId|taskId|false|string|
|QueryParameter|processDefinitionId|processDefinitionId|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<FormDataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Group-collection-resource
:hardbreaks:
Group Collection Resource

==== createGroup
----
POST /identity/groups
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|groupRequest|groupRequest|true|<<GroupRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<GroupResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getGroups
----
GET /identity/groups
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Group-membership-collection-resource
:hardbreaks:
Group Membership Collection Resource

==== createMembership
----
POST /identity/groups/{groupId}/members
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|groupId|groupId|true|string|
|BodyParameter|memberShip|memberShip|true|<<MembershipRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<MembershipResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Group-membership-resource
:hardbreaks:
Group Membership Resource

==== deleteMembership
----
DELETE /identity/groups/{groupId}/members/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|groupId|groupId|true|string|
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Group-resource
:hardbreaks:
Group Resource

==== updateGroup
----
PUT /identity/groups/{groupId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|groupId|groupId|true|string|
|BodyParameter|groupRequest|groupRequest|true|<<GroupRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<GroupResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getGroup
----
GET /identity/groups/{groupId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|groupId|groupId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<GroupResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteGroup
----
DELETE /identity/groups/{groupId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|groupId|groupId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-activity-instance-collection-resource
:hardbreaks:
Historic Activity Instance Collection Resource

==== getHistoricActivityInstances
----
GET /history/historic-activity-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-activity-instance-query-resource
:hardbreaks:
Historic Activity Instance Query Resource

==== queryActivityInstances
----
POST /query/historic-activity-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<HistoricActivityInstanceQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-detail-collection-resource
:hardbreaks:
Historic Detail Collection Resource

==== getHistoricDetailInfo
----
GET /history/historic-detail
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-detail-data-resource
:hardbreaks:
Historic Detail Data Resource

==== getVariableData
----
GET /history/historic-detail/{detailId}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|detailId|detailId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-detail-query-resource
:hardbreaks:
Historic Detail Query Resource

==== queryHistoricDetail
----
POST /query/historic-detail
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<HistoricDetailQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-process-instance-collection-resource
:hardbreaks:
Historic Process Instance Collection Resource

==== getHistoricProcessInstances
----
GET /history/historic-process-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-process-instance-comment-collection-resource
:hardbreaks:
Historic Process Instance Comment Collection Resource

==== createComment
----
POST /history/historic-process-instances/{processInstanceId}/comments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|BodyParameter|comment|comment|true|<<CommentResponse>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getComments
----
GET /history/historic-process-instances/{processInstanceId}/comments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-process-instance-comment-resource
:hardbreaks:
Historic Process Instance Comment Resource

==== getComment
----
GET /history/historic-process-instances/{processInstanceId}/comments/{commentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|commentId|commentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteComment
----
DELETE /history/historic-process-instances/{processInstanceId}/comments/{commentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|commentId|commentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-process-instance-identity-link-collection-resource
:hardbreaks:
Historic Process Instance Identity Link Collection Resource

==== getProcessIdentityLinks
----
GET /history/historic-process-instances/{processInstanceId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoricIdentityLinkResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-process-instance-query-resource
:hardbreaks:
Historic Process Instance Query Resource

==== queryProcessInstances
----
POST /query/historic-process-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<HistoricProcessInstanceQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-process-instance-resource
:hardbreaks:
Historic Process Instance Resource

==== getProcessInstance
----
GET /history/historic-process-instances/{processInstanceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoricProcessInstanceResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteProcessInstance
----
DELETE /history/historic-process-instances/{processInstanceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-process-instance-variable-data-resource
:hardbreaks:
Historic Process Instance Variable Data Resource

==== getVariableData
----
GET /history/historic-process-instances/{processInstanceId}/variables/{variableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|variableName|variableName|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-task-instance-collection-resource
:hardbreaks:
Historic Task Instance Collection Resource

==== getHistoricProcessInstances
----
GET /history/historic-task-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-task-instance-identity-link-collection-resource
:hardbreaks:
Historic Task Instance Identity Link Collection Resource

==== getTaskIdentityLinks
----
GET /history/historic-task-instances/{taskId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoricIdentityLinkResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-task-instance-query-resource
:hardbreaks:
Historic Task Instance Query Resource

==== queryProcessInstances
----
POST /query/historic-task-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<HistoricTaskInstanceQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-task-instance-resource
:hardbreaks:
Historic Task Instance Resource

==== getTaskInstance
----
GET /history/historic-task-instances/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<HistoricTaskInstanceResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteTaskInstance
----
DELETE /history/historic-task-instances/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-task-instance-variable-data-resource
:hardbreaks:
Historic Task Instance Variable Data Resource

==== getVariableData
----
GET /history/historic-task-instances/{taskId}/variables/{variableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-variable-instance-collection-resource
:hardbreaks:
Historic Variable Instance Collection Resource

==== getHistoricActivityInstances
----
GET /history/historic-variable-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Historic-variable-instance-data-resource
:hardbreaks:
Historic Variable Instance Data Resource

==== getVariableData
----
GET /history/historic-variable-instances/{varInstanceId}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|varInstanceId|varInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Historic-variable-instance-query-resource
:hardbreaks:
Historic Variable Instance Query Resource

==== queryVariableInstances
----
POST /query/historic-variable-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<HistoricVariableInstanceQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Job-collection-resource
:hardbreaks:
Job Collection Resource

==== getJobs
----
GET /management/jobs
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Job-exception-stacktrace-resource
:hardbreaks:
Job Exception Stacktrace Resource

==== getJobStacktrace
----
GET /management/jobs/{jobId}/exception-stacktrace
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|jobId|jobId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Job-resource
:hardbreaks:
Job Resource

==== executeJobAction
----
POST /management/jobs/{jobId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|jobId|jobId|true|string|
|BodyParameter|actionRequest|actionRequest|true|<<RestActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getJob
----
GET /management/jobs/{jobId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|jobId|jobId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<JobResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteJob
----
DELETE /management/jobs/{jobId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|jobId|jobId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Model-collection-resource
:hardbreaks:
Model Collection Resource

==== createModel
----
POST /repository/models
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|modelRequest|modelRequest|true|<<ModelRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ModelResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getModels
----
GET /repository/models
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Model-resource
:hardbreaks:
Model Resource

==== updateModel
----
PUT /repository/models/{modelId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|BodyParameter|modelRequest|modelRequest|true|<<ModelRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ModelResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getModel
----
GET /repository/models/{modelId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ModelResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteModel
----
DELETE /repository/models/{modelId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Model-source-extra-resource
:hardbreaks:
Model Source Extra Resource

==== setModelSource
----
PUT /repository/models/{modelId}/source-extra
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getModelBytes
----
GET /repository/models/{modelId}/source-extra
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Model-source-resource
:hardbreaks:
Model Source Resource

==== setModelSource
----
PUT /repository/models/{modelId}/source
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getModelBytes
----
GET /repository/models/{modelId}/source
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|modelId|modelId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-definition-collection-resource
:hardbreaks:
Process Definition Collection Resource

==== getProcessDefinitions
----
GET /repository/process-definitions
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-definition-identity-link-collection-resource
:hardbreaks:
Process Definition Identity Link Collection Resource

==== createIdentityLink
----
POST /repository/process-definitions/{processDefinitionId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|BodyParameter|identityLink|identityLink|true|<<RestIdentityLink>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getIdentityLinks
----
GET /repository/process-definitions/{processDefinitionId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-definition-identity-link-resource
:hardbreaks:
Process Definition Identity Link Resource

==== getIdentityLink
----
GET /repository/process-definitions/{processDefinitionId}/identitylinks/{family}/{identityId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|PathParameter|family|family|true|string|
|PathParameter|identityId|identityId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteIdentityLink
----
DELETE /repository/process-definitions/{processDefinitionId}/identitylinks/{family}/{identityId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|PathParameter|family|family|true|string|
|PathParameter|identityId|identityId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-definition-image-resource
:hardbreaks:
Process Definition Image Resource

==== getModelResource
----
GET /repository/process-definitions/{processDefinitionId}/image
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* image/png

=== Process-definition-model-resource
:hardbreaks:
Process Definition Model Resource

==== getModelResource
----
GET /repository/process-definitions/{processDefinitionId}/model
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<BpmnModel>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-definition-properties-resource
:hardbreaks:
Process Definition Properties Resource

==== getStartFormProperties
----
GET /process-definition/{processDefinitionId}/properties
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ObjectNode>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-definition-resource
:hardbreaks:
Process Definition Resource

==== executeProcessDefinitionAction
----
PUT /repository/process-definitions/{processDefinitionId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|BodyParameter|actionRequest|actionRequest|true|<<ProcessDefinitionActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessDefinitionResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getProcessDefinition
----
GET /repository/process-definitions/{processDefinitionId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessDefinitionResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-definition-resource-data-resource
:hardbreaks:
Process Definition Resource Data Resource

==== getProcessDefinitionResource
----
GET /repository/process-definitions/{processDefinitionId}/resourcedata
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processDefinitionId|processDefinitionId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-engine-resource
:hardbreaks:
Process Engine Resource

==== getEngineInfo
----
GET /management/engine
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessEngineInfoResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-instance-collection-resource
:hardbreaks:
Process Instance Collection Resource

==== createProcessInstance
----
POST /runtime/process-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|request|request|true|<<ProcessInstanceCreateRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessInstanceResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getProcessInstances
----
GET /runtime/process-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-instance-diagram-resource
:hardbreaks:
Process Instance Diagram Resource

==== getProcessInstanceDiagram
----
GET /runtime/process-instances/{processInstanceId}/diagram
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-instance-identity-link-collection-resource
:hardbreaks:
Process Instance Identity Link Collection Resource

==== createIdentityLink
----
POST /runtime/process-instances/{processInstanceId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|BodyParameter|identityLink|identityLink|true|<<RestIdentityLink>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getIdentityLinks
----
GET /runtime/process-instances/{processInstanceId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-instance-identity-link-resource
:hardbreaks:
Process Instance Identity Link Resource

==== getIdentityLink
----
GET /runtime/process-instances/{processInstanceId}/identitylinks/users/{identityId}/{type}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|identityId|identityId|true|string|
|PathParameter|type|type|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteIdentityLink
----
DELETE /runtime/process-instances/{processInstanceId}/identitylinks/users/{identityId}/{type}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|identityId|identityId|true|string|
|PathParameter|type|type|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-instance-query-resource
:hardbreaks:
Process Instance Query Resource

==== queryProcessInstances
----
POST /query/process-instances
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|queryRequest|queryRequest|true|<<ProcessInstanceQueryRequest>>|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Process-instance-resource
:hardbreaks:
Process Instance Resource

==== performProcessInstanceAction
----
PUT /runtime/process-instances/{processInstanceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|BodyParameter|actionRequest|actionRequest|true|<<ProcessInstanceActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessInstanceResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getProcessInstance
----
GET /runtime/process-instances/{processInstanceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<ProcessInstanceResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteProcessInstance
----
DELETE /runtime/process-instances/{processInstanceId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|QueryParameter|deleteReason|deleteReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-instance-variable-collection-resource
:hardbreaks:
Process Instance Variable Collection Resource

==== createOrUpdateExecutionVariable
----
PUT /runtime/process-instances/{processInstanceId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== createExecutionVariable
----
POST /runtime/process-instances/{processInstanceId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariables
----
GET /runtime/process-instances/{processInstanceId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteLocalVariables
----
DELETE /runtime/process-instances/{processInstanceId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-instance-variable-data-resource
:hardbreaks:
Process Instance Variable Data Resource

==== getVariableData
----
GET /runtime/process-instances/{processInstanceId}/variables/{variableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Process-instance-variable-resource
:hardbreaks:
Process Instance Variable Resource

==== updateVariable
----
PUT /runtime/process-instances/{processInstanceId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|variableName|variableName|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariable
----
GET /runtime/process-instances/{processInstanceId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteVariable
----
DELETE /runtime/process-instances/{processInstanceId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|processInstanceId|processInstanceId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Properties-collection-resource
:hardbreaks:
Properties Collection Resource

==== getProperties
----
GET /management/properties
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Signal-resource
:hardbreaks:
Signal Resource

==== signalEventReceived
----
POST /runtime/signals
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|signalRequest|signalRequest|true|<<SignalEventReceivedRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Simple-workflow-resource
:hardbreaks:
Simple Workflow Resource

==== createWorkflow
----
POST /simple-workflow
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|json|json|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<SimpleWorkflowSuccessResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Table-collection-resource
:hardbreaks:
Table Collection Resource

==== getTables
----
GET /management/tables
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TableResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Table-columns-resource
:hardbreaks:
Table Columns Resource

==== getTableMetaData
----
GET /management/tables/{tableName}/columns
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tableName|tableName|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TableMetaData>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Table-data-resource
:hardbreaks:
Table Data Resource

==== getTableData
----
GET /management/tables/{tableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tableName|tableName|true|string|
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Table-resource
:hardbreaks:
Table Resource

==== getTable
----
GET /management/tables/{tableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|tableName|tableName|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TableResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-attachment-collection-resource
:hardbreaks:
Task Attachment Collection Resource

==== createAttachment
----
POST /runtime/tasks/{taskId}/attachments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getAttachments
----
GET /runtime/tasks/{taskId}/attachments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-attachment-content-resource
:hardbreaks:
Task Attachment Content Resource

==== getAttachmentContent
----
GET /runtime/tasks/{taskId}/attachments/{attachmentId}/content
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|attachmentId|attachmentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-attachment-resource
:hardbreaks:
Task Attachment Resource

==== getAttachment
----
GET /runtime/tasks/{taskId}/attachments/{attachmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|attachmentId|attachmentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<AttachmentResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteAttachment
----
DELETE /runtime/tasks/{taskId}/attachments/{attachmentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|attachmentId|attachmentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-collection-resource
:hardbreaks:
Task Collection Resource

==== createTask
----
POST /runtime/tasks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|taskRequest|taskRequest|true|<<TaskRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getTasks
----
GET /runtime/tasks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|requestParams|requestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-comment-collection-resource
:hardbreaks:
Task Comment Collection Resource

==== createComment
----
POST /runtime/tasks/{taskId}/comments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|BodyParameter|comment|comment|true|<<CommentRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getComments
----
GET /runtime/tasks/{taskId}/comments
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-comment-resource
:hardbreaks:
Task Comment Resource

==== getComment
----
GET /runtime/tasks/{taskId}/comments/{commentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|commentId|commentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<CommentResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteComment
----
DELETE /runtime/tasks/{taskId}/comments/{commentId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|commentId|commentId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-event-collection-resource
:hardbreaks:
Task Event Collection Resource

==== getEvents
----
GET /runtime/tasks/{taskId}/events
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EventResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-event-resource
:hardbreaks:
Task Event Resource

==== getEvent
----
GET /runtime/tasks/{taskId}/events/{eventId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|eventId|eventId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EventResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteEvent
----
DELETE /runtime/tasks/{taskId}/events/{eventId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|eventId|eventId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-identity-link-collection-resource
:hardbreaks:
Task Identity Link Collection Resource

==== createIdentityLink
----
POST /runtime/tasks/{taskId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|BodyParameter|identityLink|identityLink|true|<<RestIdentityLink>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getIdentityLinks
----
GET /runtime/tasks/{taskId}/identitylinks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-identity-link-family-resource
:hardbreaks:
Task Identity Link Family Resource

==== getIdentityLinksForFamily
----
GET /runtime/tasks/{taskId}/identitylinks/{family}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|family|family|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-identity-link-resource
:hardbreaks:
Task Identity Link Resource

==== getIdentityLink
----
GET /runtime/tasks/{taskId}/identitylinks/{family}/{identityId}/{type}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|family|family|true|string|
|PathParameter|identityId|identityId|true|string|
|PathParameter|type|type|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestIdentityLink>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteIdentityLink
----
DELETE /runtime/tasks/{taskId}/identitylinks/{family}/{identityId}/{type}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|family|family|true|string|
|PathParameter|identityId|identityId|true|string|
|PathParameter|type|type|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-query-resource
:hardbreaks:
Task Query Resource

==== getQueryResult
----
POST /query/tasks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|request|request|true|<<TaskQueryRequest>>|
|QueryParameter|requestParams|requestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-resource
:hardbreaks:
Task Resource

==== updateTask
----
PUT /runtime/tasks/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|BodyParameter|taskRequest|taskRequest|true|<<TaskRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== executeTaskAction
----
POST /runtime/tasks/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|BodyParameter|actionRequest|actionRequest|true|<<TaskActionRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getTask
----
GET /runtime/tasks/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteTask
----
DELETE /runtime/tasks/{taskId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|QueryParameter|cascadeHistory|cascadeHistory|false|boolean|
|QueryParameter|deleteReason|deleteReason|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-sub-task-collection-resource
:hardbreaks:
Task Sub Task Collection Resource

==== getSubTasks
----
GET /runtime/tasks/{taskId}/subtasks
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<TaskResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-variable-collection-resource
:hardbreaks:
Task Variable Collection Resource

==== createTaskVariable
----
POST /runtime/tasks/{taskId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|object
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariables
----
GET /runtime/tasks/{taskId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteAllLocalTaskVariables
----
DELETE /runtime/tasks/{taskId}/variables
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== Task-variable-data-resource
:hardbreaks:
Task Variable Data Resource

==== getVariableData
----
GET /runtime/tasks/{taskId}/variables/{variableName}/data
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== Task-variable-resource
:hardbreaks:
Task Variable Resource

==== updateVariable
----
PUT /runtime/tasks/{taskId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getVariable
----
GET /runtime/tasks/{taskId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<RestVariable>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteVariable
----
DELETE /runtime/tasks/{taskId}/variables/{variableName}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|taskId|taskId|true|string|
|PathParameter|variableName|variableName|true|string|
|QueryParameter|scope|scope|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== User-collection-resource
:hardbreaks:
User Collection Resource

==== createUser
----
POST /identity/users
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|BodyParameter|userRequest|userRequest|true|<<UserRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getUsers
----
GET /identity/users
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|allRequestParams|allRequestParams|true|ref|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<DataResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-info-collection-resource
:hardbreaks:
User Info Collection Resource

==== setUserInfo
----
POST /identity/users/{userId}/info
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|BodyParameter|userRequest|userRequest|true|<<UserInfoRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserInfoResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getUserInfo
----
GET /identity/users/{userId}/info
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserInfoResponse>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-info-resource
:hardbreaks:
User Info Resource

==== setUserInfo
----
PUT /identity/users/{userId}/info/{key}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|PathParameter|key|key|true|string|
|BodyParameter|userRequest|userRequest|true|<<UserInfoRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserInfoResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getUserInfo
----
GET /identity/users/{userId}/info/{key}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|PathParameter|key|key|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserInfoResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteUserInfo
----
DELETE /identity/users/{userId}/info/{key}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|PathParameter|key|key|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== User-picture-resource
:hardbreaks:
User Picture Resource

==== updateUserPicture
----
PUT /identity/users/{userId}/picture
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== getUserPicture
----
GET /identity/users/{userId}/picture
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

=== User-resource
:hardbreaks:
User Resource

==== updateUser
----
PUT /identity/users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|BodyParameter|userRequest|userRequest|true|<<UserRequest>>|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserResponse>>
|201|Created|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== getUser
----
GET /identity/users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<UserResponse>>
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* application/json

==== deleteUser
----
DELETE /identity/users/{userId}
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|PathParameter|userId|userId|true|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|204|No Content|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

=== С — Действия Эскалаций
:hardbreaks:
Action Escalation Common Controller

==== Возврат одной записи правила эскалации по ее nID
----
GET /action/escalation/getEscalationRule
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД правила эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRule>>
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Запуск всех правил эскалаций
----
GET /action/escalation/runEscalation
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает массив объектов сущности EscalationStatus
----
GET /action/escalation/getEscalationStatuses
----

===== Description
:hardbreaks:
##### Пример: https://<server>/wf/service/action/escalation/getEscalationStatuses

Oтвет:


```json
[
{"sNote":"Отослано письмо","nID":1,"sID":"MailSent"},
{"sNote":"БП создан","nID":2,"sID":"BP_Created"},
{"sNote":"БП в процессе","nID":3,"sID":"BP_Process"},
{"sNote":"БП закрыт","nID":4,"sID":"BP_Closed"}
]

```


===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationStatus>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление записи правила эскалации по ее nID
----
GET /action/escalation/removeEscalationRule
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД правила эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавление/обновление записи функции эскалации
----
GET /action/escalation/setEscalationRuleFunction
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер (уникальный-автоитерируемый):
 - если nID не задан, то это создание записи;
 - если nID задан, но его нету — будет ошибка;
- если nID задан, и он есть — запись обновляется.
|false|integer (int64)|
|QueryParameter|sName|строка-название (Например "Отсылка уведомления на электронную почту")|true|string|
|QueryParameter|sBeanHandler|строка бина-обработчика|false|string|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRuleFunction>>
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает массив объектов сущности по заданним параметрам
----
GET /action/escalation/getEscalationHistory
----

===== Description
:hardbreaks:
#####Примеры:
 Пример 1: https://alpha.test.igov.org.ua/wf/service/action/escalation/getEscalationHistory

Пример ответа:


```json
  [{
    "sDate":"2015-09-09 21:20:25.000",
    "nID":1,
    "nID_Process":9463,
    "nID_Process_Root":29193,
    "nID_UserTask":894,
    "nID_EscalationStatus":91
  }
  ...
  ]

```
Пример 2:
 https://alpha.test.igov.org.ua/wf/service/action/escalation/getEscalationHistory?nID_Process=6276&nID_Process_Root=57119&nID_UserTask=634&sDateStart=2014-11-24%2000:03:00&sDateEnd=2014-12-26%2000:03:00&nRowsMax=100

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID_Process|номер-ИД процесса|false|integer (int64)|
|QueryParameter|nID_Process_Root|номер-ИД процесса (корневого)|false|integer (int64)|
|QueryParameter|nID_UserTask|номер-ИД юзертаски|false|integer (int64)|
|QueryParameter|sDateStart|строка дата начала выборки, в формате YYYY-MM-DD hh:mm:ss|false|string|
|QueryParameter|sDateEnd|строка дата конца выборки, в формате YYYY-MM-DD hh:mm:ss|false|string|
|QueryParameter|nRowsMax|максимальное число строк, по умолчанию 100 (защита - не более 5000)|false|integer (int32)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationHistory>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Выборка всех записей функции эскалации
----
GET /action/escalation/getEscalationRuleFunctions
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRuleFunction>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Добавление/обновление записи правила эскалации
----
GET /action/escalation/setEscalationRule
----

===== Description
:hardbreaks:
##### ПРИМЕР:

```
https://alpha.test.region.igov.org.ua/wf/service/action/escalation/setEscalationRule?sID_BP=zaporoshye_mvk-1a&sID_UserTask=*&sCondition=nElapsedDays==nDaysLimit&soData={nDaysLimit:3,asRecipientMail:'test@email.com'}&sPatternFile=escalation/escalation_template.html&nID_EscalationRuleFunction=1


```
ОТВЕТ:

```json
  {
    "sID_BP":"zaporoshye_mvk-1a",
    "sID_UserTask":"*",
    "sCondition":"nElapsedDays==nDaysLimit",
    "soData":"{nDaysLimit:3,asRecipientMail:[test@email.com]}",
    "sPatternFile":"escalation/escalation_template.html",
    "nID":1008,
    "nID_EscalationRuleFunction":
    {"sBeanHandler":"EscalationHandler_SendMailAlert",
      "nID":1,
      "sName":"Send Email"
    }
  }

```


===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|ИД-номер (уникальный-автоитерируемый):
- если nID не задан, то это создание записи
- если nID задан, но его нету -- будет ошибка "403. Record not found"
- если nID задан, и он есть -- запись обновляется
|false|integer (int64)|
|QueryParameter|sID_BP|ИД-строка бизнес-процесса|true|string|
|QueryParameter|sID_UserTask|ИД-строка юзертаски бизнеспроцесса (если указана * -- то выбираются все задачи из бизнес-процесса)|true|string|
|QueryParameter|sCondition|строка-условие (на языке javascript )|true|string|
|QueryParameter|soData|строка JSON-обьектобьект, с данными|true|string|
|QueryParameter|sPatternFile|строка файла-шаблона (примеры тут)|true|string|
|QueryParameter|nID_EscalationRuleFunction|ИД-номер функции эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRule>>
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возврат одной записи функции эскалации по ее nID
----
GET /action/escalation/getEscalationRuleFunction
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД функции эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRuleFunction>>
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Удаление записи функции эскалации по ее nID
----
GET /action/escalation/removeEscalationRuleFunction
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ИД функции  эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|No Content
|401|Unauthorized|No Content
|403|Record not found|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Запуск правила эскалации по его Ид
----
GET /action/escalation/runEscalationRule
----

===== Parameters
[options="header"]
|===
|Type|Name|Description|Required|Schema|Default
|QueryParameter|nID|номер-ид правила эскалации|true|integer (int64)|
|===

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|string
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

==== Возвращает список всех записей правил эскалации
----
GET /action/escalation/getEscalationRules
----

===== Responses
[options="header"]
|===
|HTTP Code|Description|Schema
|200|OK|<<EscalationRule>> array
|401|Unauthorized|No Content
|403|Forbidden|No Content
|404|Not Found|No Content
|===

===== Consumes

* application/json

===== Produces

* */*

